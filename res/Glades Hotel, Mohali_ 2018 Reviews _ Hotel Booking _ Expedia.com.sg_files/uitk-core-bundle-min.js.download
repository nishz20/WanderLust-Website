function onYouTubeIframeAPIReady(){"use strict";uitk.youtubeApiDefer.resolve()}if(window.console&&console.log||!function(){for(var e=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],i=t.length,n=window.console={};i--;)n[t[i]]=e}(),function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),a=Math.max(0,16-(n-e)),o=window.setTimeout(function(){t(n+a)},a);return e=n+a,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),window.isIE8)if("undefined"!=typeof define&&define.amd)define("hammer",function(){var e=function(e){};return e});else var Hammer=function(e){};else!function(e,t,i,n){"use strict";function a(e,t,i){return setTimeout(u(e,i),t)}function o(e,t,i){return!!Array.isArray(e)&&(s(e,i[t],i),!0)}function s(e,t,i){var a;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==n)for(a=0;a<e.length;)t.call(i,e[a],a,e),a++;else for(a in e)e.hasOwnProperty(a)&&t.call(i,e[a],a,e)}function r(e,t,i){for(var a=Object.keys(t),o=0;o<a.length;)(!i||i&&e[a[o]]===n)&&(e[a[o]]=t[a[o]]),o++;return e}function l(e,t){return r(e,t,!0)}function c(e,t,i){var n,a=t.prototype;n=e.prototype=Object.create(a),n.constructor=e,n._super=a,i&&r(n,i)}function u(e,t){return function(){return e.apply(t,arguments)}}function d(e,t){return typeof e==ue?e.apply(t?t[0]||n:n,t):e}function h(e,t){return e===n?t:e}function p(e,t,i){s(v(t),function(t){e.addEventListener(t,i,!1)})}function f(e,t,i){s(v(t),function(t){e.removeEventListener(t,i,!1)})}function g(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function m(e,t){return e.indexOf(t)>-1}function v(e){return e.trim().split(/\s+/g)}function b(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var n=0;n<e.length;){if(i&&e[n][i]==t||!i&&e[n]===t)return n;n++}return-1}function y(e){return Array.prototype.slice.call(e,0)}function k(e,t,i){for(var n=[],a=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];b(a,s)<0&&n.push(e[o]),a[o]=s,o++}return i&&(n=t?n.sort(function(e,i){return e[t]>i[t]}):n.sort()),n}function w(e,t){for(var i,a,o=t[0].toUpperCase()+t.slice(1),s=0;s<le.length;){if(i=le[s],a=i?i+o:t,a in e)return a;s++}return n}function C(){return fe++}function T(t){var i=t.ownerDocument||t;return i.defaultView||i.parentWindow||e}function P(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){d(e.options.enable,[e])&&i.handler(t)},this.init()}function S(e){var t,i=e.options.inputClass;return new(t=i?i:ve?z:be?q:me?B:N)(e,_)}function _(e,t,i){var n=i.pointers.length,a=i.changedPointers.length,o=t&Pe&&n-a===0,s=t&(_e|De)&&n-a===0;i.isFirst=!!o,i.isFinal=!!s,o&&(e.session={}),i.eventType=t,D(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function D(e,t){var i=e.session,n=t.pointers,a=n.length;i.firstInput||(i.firstInput=O(t)),a>1&&!i.firstMultiple?i.firstMultiple=O(t):1===a&&(i.firstMultiple=!1);var o=i.firstInput,s=i.firstMultiple,r=s?s.center:o.center,l=t.center=A(n);t.timeStamp=pe(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=L(r,l),t.distance=M(r,l),I(i,t),t.offsetDirection=F(t.deltaX,t.deltaY),t.scale=s?H(s.pointers,n):1,t.rotation=s?R(s.pointers,n):0,x(i,t);var c=e.element;g(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function I(e,t){var i=t.center,n=e.offsetDelta||{},a=e.prevDelta||{},o=e.prevInput||{};(t.eventType===Pe||o.eventType===_e)&&(a=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=a.x+(i.x-n.x),t.deltaY=a.y+(i.y-n.y)}function x(e,t){var i,a,o,s,r=e.lastInterval||t,l=t.timeStamp-r.timeStamp;if(t.eventType!=De&&(l>Te||r.velocity===n)){var c=r.deltaX-t.deltaX,u=r.deltaY-t.deltaY,d=E(l,c,u);a=d.x,o=d.y,i=he(d.x)>he(d.y)?d.x:d.y,s=F(c,u),e.lastInterval=t}else i=r.velocity,a=r.velocityX,o=r.velocityY,s=r.direction;t.velocity=i,t.velocityX=a,t.velocityY=o,t.direction=s}function O(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:de(e.pointers[i].clientX),clientY:de(e.pointers[i].clientY)},i++;return{timeStamp:pe(),pointers:t,center:A(t),deltaX:e.deltaX,deltaY:e.deltaY}}function A(e){var t=e.length;if(1===t)return{x:de(e[0].clientX),y:de(e[0].clientY)};for(var i=0,n=0,a=0;t>a;)i+=e[a].clientX,n+=e[a].clientY,a++;return{x:de(i/t),y:de(n/t)}}function E(e,t,i){return{x:t/e||0,y:i/e||0}}function F(e,t){return e===t?Ie:he(e)>=he(t)?e>0?xe:Oe:t>0?Ae:Ee}function M(e,t,i){i||(i=Re);var n=t[i[0]]-e[i[0]],a=t[i[1]]-e[i[1]];return Math.sqrt(n*n+a*a)}function L(e,t,i){i||(i=Re);var n=t[i[0]]-e[i[0]],a=t[i[1]]-e[i[1]];return 180*Math.atan2(a,n)/Math.PI}function R(e,t){return L(t[1],t[0],He)-L(e[1],e[0],He)}function H(e,t){return M(t[0],t[1],He)/M(e[0],e[1],He)}function N(){this.evEl=ze,this.evWin=$e,this.allow=!0,this.pressed=!1,P.apply(this,arguments)}function z(){this.evEl=je,this.evWin=Be,P.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function $(){this.evTarget=Ge,this.evWin=Ue,this.started=!1,P.apply(this,arguments)}function V(e,t){var i=y(e.touches),n=y(e.changedTouches);return t&(_e|De)&&(i=k(i.concat(n),"identifier",!0)),[i,n]}function q(){this.evTarget=Je,this.targetIds={},P.apply(this,arguments)}function j(e,t){var i=y(e.touches),n=this.targetIds;if(t&(Pe|Se)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var a,o,s=y(e.changedTouches),r=[],l=this.target;if(o=i.filter(function(e){return g(e.target,l)}),t===Pe)for(a=0;a<o.length;)n[o[a].identifier]=!0,a++;for(a=0;a<s.length;)n[s[a].identifier]&&r.push(s[a]),t&(_e|De)&&delete n[s[a].identifier],a++;return r.length?[k(o.concat(r),"identifier",!0),r]:void 0}function B(){P.apply(this,arguments);var e=u(this.handler,this);this.touch=new q(this.manager,e),this.mouse=new N(this.manager,e)}function W(e,t){this.manager=e,this.set(t)}function G(e){if(m(e,tt))return tt;var t=m(e,it),i=m(e,nt);return t&&i?it+" "+nt:t||i?t?it:nt:m(e,et)?et:Ze}function U(e){this.id=C(),this.manager=null,this.options=l(e||{},this.defaults),this.options.enable=h(this.options.enable,!0),this.state=at,this.simultaneous={},this.requireFail=[]}function Y(e){return e&ct?"cancel":e&rt?"end":e&st?"move":e&ot?"start":""}function J(e){return e==Ee?"down":e==Ae?"up":e==xe?"left":e==Oe?"right":""}function K(e,t){var i=t.manager;return i?i.get(e):e}function X(){U.apply(this,arguments)}function Q(){X.apply(this,arguments),this.pX=null,this.pY=null}function Z(){X.apply(this,arguments)}function ee(){U.apply(this,arguments),this._timer=null,this._input=null}function te(){X.apply(this,arguments)}function ie(){X.apply(this,arguments)}function ne(){U.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ae(e,t){return t=t||{},t.recognizers=h(t.recognizers,ae.defaults.preset),new oe(e,t)}function oe(e,t){t=t||{},this.options=l(t,ae.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=S(this),this.touchAction=new W(this,this.options.touchAction),se(this,!0),s(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function se(e,t){var i=e.element;i.style&&s(e.options.cssProps,function(e,n){i.style[w(i.style,n)]=t?e:""})}function re(e,i){var n=t.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var le=["","webkit","moz","MS","ms","o"],ce=t.createElement("div"),ue="function",de=Math.round,he=Math.abs,pe=Date.now,fe=1,ge=/mobile|tablet|ip(ad|hone|od)|android/i,me="ontouchstart"in e,ve=w(e,"PointerEvent")!==n,be=me&&ge.test(navigator.userAgent),ye="touch",ke="pen",we="mouse",Ce="kinect",Te=25,Pe=1,Se=2,_e=4,De=8,Ie=1,xe=2,Oe=4,Ae=8,Ee=16,Fe=xe|Oe,Me=Ae|Ee,Le=Fe|Me,Re=["x","y"],He=["clientX","clientY"];P.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(T(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(T(this.element),this.evWin,this.domHandler)}};var Ne={mousedown:Pe,mousemove:Se,mouseup:_e},ze="mousedown",$e="mousemove mouseup";c(N,P,{handler:function(e){var t=Ne[e.type];t&Pe&&0===e.button&&(this.pressed=!0),t&Se&&1!==e.which&&(t=_e),this.pressed&&this.allow&&(t&_e&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:we,srcEvent:e}))}});var Ve={pointerdown:Pe,pointermove:Se,pointerup:_e,pointercancel:De,pointerout:De},qe={2:ye,3:ke,4:we,5:Ce},je="pointerdown",Be="pointermove pointerup pointercancel";e.MSPointerEvent&&(je="MSPointerDown",Be="MSPointerMove MSPointerUp MSPointerCancel"),c(z,P,{handler:function(e){var t=this.store,i=!1,n=e.type.toLowerCase().replace("ms",""),a=Ve[n],o=qe[e.pointerType]||e.pointerType,s=o==ye,r=b(t,e.pointerId,"pointerId");a&Pe&&(0===e.button||s)?0>r&&(t.push(e),r=t.length-1):a&(_e|De)&&(i=!0),0>r||(t[r]=e,this.callback(this.manager,a,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),i&&t.splice(r,1))}});var We={touchstart:Pe,touchmove:Se,touchend:_e,touchcancel:De},Ge="touchstart",Ue="touchstart touchmove touchend touchcancel";c($,P,{handler:function(e){var t=We[e.type];if(t===Pe&&(this.started=!0),this.started){var i=V.call(this,e,t);t&(_e|De)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:ye,srcEvent:e})}}});var Ye={touchstart:Pe,touchmove:Se,touchend:_e,touchcancel:De},Je="touchstart touchmove touchend touchcancel";c(q,P,{handler:function(e){var t=Ye[e.type],i=j.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:ye,srcEvent:e})}}),c(B,P,{handler:function(e,t,i){var n=i.pointerType==ye,a=i.pointerType==we;if(n)this.mouse.allow=!1;else if(a&&!this.mouse.allow)return;t&(_e|De)&&(this.mouse.allow=!0),this.callback(e,t,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ke=w(ce.style,"touchAction"),Xe=Ke!==n,Qe="compute",Ze="auto",et="manipulation",tt="none",it="pan-x",nt="pan-y";W.prototype={set:function(e){e==Qe&&(e=this.compute()),Xe&&this.manager.element.style&&(this.manager.element.style[Ke]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return s(this.manager.recognizers,function(t){d(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),G(e.join(" "))},preventDefaults:function(e){if(!Xe){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var n=this.actions,a=m(n,tt),o=m(n,nt),s=m(n,it);return a||o&&i&Fe||s&&i&Me?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var at=1,ot=2,st=4,rt=8,lt=rt,ct=16,ut=32;U.prototype={defaults:{},set:function(e){return r(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(o(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=K(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return o(e,"dropRecognizeWith",this)?this:(e=K(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(o(e,"requireFailure",this))return this;var t=this.requireFail;return e=K(e,this),-1===b(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(o(e,"dropRequireFailure",this))return this;e=K(e,this);var t=b(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){i.manager.emit(i.options.event+(t?Y(n):""),e)}var i=this,n=this.state;rt>n&&t(!0),t(),n>=rt&&t(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=ut)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(ut|at)))return!1;e++}return!0},recognize:function(e){var t=r({},e);return d(this.options.enable,[this,t])?(this.state&(lt|ct|ut)&&(this.state=at),this.state=this.process(t),void(this.state&(ot|st|rt|ct)&&this.tryEmit(t))):(this.reset(),void(this.state=ut))},process:function(){},getTouchAction:function(){},reset:function(){}},c(X,U,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,n=t&(ot|st),a=this.attrTest(e);return n&&(i&De||!a)?t|ct:n||a?i&_e?t|rt:t&ot?t|st:ot:ut}}),c(Q,X,{defaults:{event:"pan",threshold:10,pointers:1,direction:Le},getTouchAction:function(){var e=this.options.direction,t=[];return e&Fe&&t.push(nt),e&Me&&t.push(it),t},directionTest:function(e){var t=this.options,i=!0,n=e.distance,a=e.direction,o=e.deltaX,s=e.deltaY;return a&t.direction||(t.direction&Fe?(a=0===o?Ie:0>o?xe:Oe,i=o!=this.pX,n=Math.abs(e.deltaX)):(a=0===s?Ie:0>s?Ae:Ee,i=s!=this.pY,n=Math.abs(e.deltaY))),e.direction=a,i&&n>t.threshold&&a&t.direction},attrTest:function(e){return X.prototype.attrTest.call(this,e)&&(this.state&ot||!(this.state&ot)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=J(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),c(Z,X,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[tt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&ot)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),c(ee,U,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Ze]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!n||!i||e.eventType&(_e|De)&&!o)this.reset();else if(e.eventType&Pe)this.reset(),this._timer=a(function(){this.state=lt,this.tryEmit()},t.time,this);else if(e.eventType&_e)return lt;return ut},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===lt&&(e&&e.eventType&_e?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=pe(),this.manager.emit(this.options.event,this._input)))}}),c(te,X,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[tt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&ot)}}),c(ie,X,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Fe|Me,pointers:1},getTouchAction:function(){return Q.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return i&(Fe|Me)?t=e.velocity:i&Fe?t=e.velocityX:i&Me&&(t=e.velocityY),this._super.attrTest.call(this,e)&&i&e.direction&&e.distance>this.options.threshold&&he(t)>this.options.velocity&&e.eventType&_e},emit:function(e){var t=J(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),c(ne,U,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[et]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&Pe&&0===this.count)return this.failTimeout();if(n&&o&&i){if(e.eventType!=_e)return this.failTimeout();var s=!this.pTime||e.timeStamp-this.pTime<t.interval,r=!this.pCenter||M(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,r&&s?this.count+=1:this.count=1,this._input=e;var l=this.count%t.taps;if(0===l)return this.hasRequireFailures()?(this._timer=a(function(){this.state=lt,this.tryEmit()},t.interval,this),ot):lt}return ut},failTimeout:function(){return this._timer=a(function(){this.state=ut},this.options.interval,this),ut},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==lt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ae.VERSION="2.0.4",ae.defaults={domEvents:!1,touchAction:Qe,enable:!0,inputTarget:null,inputClass:null,preset:[[te,{enable:!1}],[Z,{enable:!1},["rotate"]],[ie,{direction:Fe}],[Q,{direction:Fe},["swipe"]],[ne],[ne,{event:"doubletap",taps:2},["tap"]],[ee]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var dt=1,ht=2;oe.prototype={set:function(e){return r(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?ht:dt},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,n=this.recognizers,a=t.curRecognizer;(!a||a&&a.state&lt)&&(a=t.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],t.stopped===ht||a&&i!=a&&!i.canRecognizeWith(a)?i.reset():i.recognize(e),!a&&i.state&(ot|st|rt)&&(a=t.curRecognizer=i),o++}},get:function(e){if(e instanceof U)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(o(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(o(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(b(t,e),1),this.touchAction.update(),this},on:function(e,t){var i=this.handlers;return s(v(e),function(e){i[e]=i[e]||[],i[e].push(t)}),this},off:function(e,t){var i=this.handlers;return s(v(e),function(e){t?i[e].splice(b(i[e],t),1):delete i[e]}),this},emit:function(e,t){this.options.domEvents&&re(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](t),n++}},destroy:function(){this.element&&se(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},r(ae,{INPUT_START:Pe,INPUT_MOVE:Se,INPUT_END:_e,INPUT_CANCEL:De,STATE_POSSIBLE:at,STATE_BEGAN:ot,STATE_CHANGED:st,STATE_ENDED:rt,STATE_RECOGNIZED:lt,STATE_CANCELLED:ct,STATE_FAILED:ut,DIRECTION_NONE:Ie,DIRECTION_LEFT:xe,DIRECTION_RIGHT:Oe,DIRECTION_UP:Ae,DIRECTION_DOWN:Ee,DIRECTION_HORIZONTAL:Fe,DIRECTION_VERTICAL:Me,DIRECTION_ALL:Le,Manager:oe,Input:P,TouchAction:W,TouchInput:q,MouseInput:N,PointerEventInput:z,TouchMouseInput:B,SingleTouchInput:$,Recognizer:U,AttrRecognizer:X,Tap:ne,Pan:Q,Swipe:ie,Pinch:Z,Rotate:te,Press:ee,on:p,off:f,each:s,merge:l,extend:r,inherit:c,bindFn:u,prefixed:w}),typeof define==ue&&define.amd?define("hammer",function(){return ae}):"undefined"!=typeof module&&module.exports&&(module.exports=ae),e[i]=ae}(window,document,"Hammer");define("uitk_polyfill_placeholder",["uitk_domReady"],function(e){var t=function(){"use strict";function e(e){var t;e.createTextRange?(t=e.createTextRange(),t.move("character",0),t.select()):e.selectionStart&&(e.focus(),e.setSelectionRange(0,0))}function t(){var t;this.value===this.getAttribute("placeholder")&&(f.hideOnFocus?(this.className=this.className.replace(m,""),this.value="",t=this.getAttribute("data-placeholdertype"),t&&(this.type=t)):e(this))}function i(){var e;""===this.value&&(this.className=this.className+" "+f.className,this.value=this.getAttribute("placeholder"),e=this.getAttribute("data-placeholdertype"),e&&(this.type="text"))}function n(){var e,t,i,n=this.getElementsByTagName("input"),a=this.getElementsByTagName("textarea"),o=n.length,s=o+a.length;for(i=0;i<s;i+=1)e=i<o?n[i]:a[i-o],t=e.getAttribute("placeholder"),e.value===t&&(e.value="")}function a(e){return h=this.value,!(h===this.getAttribute("placeholder")&&g.indexOf(e.keyCode)>-1)}function o(){var t;this.value!==h&&(this.className=this.className.replace(m,""),this.value=this.value.replace(this.getAttribute("placeholder"),""),t=this.getAttribute("data-placeholdertype"),t&&(this.type=t)),""===this.value&&(i.call(this),e(this))}function s(e,t,i){return e.addEventListener?e.addEventListener(t,i.bind(e),!1):e.attachEvent?e.attachEvent("on"+t,i.bind(e)):void 0}function r(e){f.hideOnFocus||(s(e,"keydown",a),s(e,"keyup",o)),s(e,"focus",t),s(e,"blur",i)}function l(){var e,t,i,a,o,l=document.getElementsByTagName("input"),c=document.getElementsByTagName("textarea"),u=l.length,d=u+c.length;for(e=0;e<d;e+=1)i=e<u?l[e]:c[e-u],o=i.getAttribute("placeholder"),p.indexOf(i.type)>-1&&o&&(a=i.getAttribute("data-currentplaceholder"),o!==a&&(i.value!==a&&i.value!==o&&i.value||(i.value=o,i.className=i.className+" "+f.className),a||(i.form&&(t=i.form,t.getAttribute("data-placeholdersubmit")||(s(t,"submit",n),t.setAttribute("data-placeholdersubmit","true"))),r(i)),i.setAttribute("data-currentplaceholder",o)))}function c(){var e,t,i,a,o=document.getElementsByTagName("input"),l=document.getElementsByTagName("textarea"),c=o.length,u=c+l.length;for(e=0;e<u;e+=1)if(t=e<c?o[e]:l[e-c],a=t.getAttribute("placeholder"),p.indexOf(t.type)>-1&&a){if("password"===t.type)try{t.type="text",t.setAttribute("data-placeholdertype","password")}catch(d){}t.setAttribute("data-currentplaceholder",a),""!==t.value&&t.value!==a||(t.className=t.className+" "+f.className,t.value=a),t.form&&(i=t.form,i.getAttribute("data-placeholdersubmit")||(s(i,"submit",n),i.setAttribute("data-placeholdersubmit","true"))),r(t)}}function u(e){var t,i,n,a,o,s=document.createElement("input");if("undefined"==typeof s.placeholder){for(t in e)e.hasOwnProperty(t)&&(f[t]=e[t]);i=document.createElement("style"),i.type="text/css";var r=f.styleImportant?"!important":"";return n=document.createTextNode("."+f.className+" { color:"+f.textColor+r+"; }"),i.styleSheet?i.styleSheet.cssText=n.nodeValue:i.appendChild(n),document.getElementsByTagName("head")[0].appendChild(i),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(a=t||0,o=this.length;a<o;a+=1)if(this[a]===e)return a;return-1}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},a=function(){return i.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,a.prototype=new n,a}),c(),f.live&&(d=setInterval(l,100)),!0}return!1}var d,h,p=["text","search","url","tel","email","password","number","textarea"],f={live:!1,hideOnFocus:!1,className:"placeholderspolyfill",textColor:"#757575",styleImportant:!0},g=[37,38,39,40],m=new RegExp("\\b"+f.className+"\\b");return{init:u,refresh:l}}();return t}),define("uitk",["uitk_domReady","jquery","uitk_i18n","handlebars","uitk_metadata","uitk_events","uitk_onclick","uitk_videohelpers","uitk_pubsub","uitk_cookies","uitk_mediaquery","uitk_throttle","uitk_debounce","uitk_domutils","uitk_keyevents","uitk_scrollarea","uitk_allyutils","uitk_formutils","uitk_hbsutils","hbsHelpers"],function(e,t,i,n,a,o,s,r,l,c,u,d,h,p,f,g,m,v,b){"use strict";var y,k=!1,w=Modernizr.touch,C=Modernizr.win8touch,T=Modernizr.checkedselector,P=Modernizr.mediaqueries,S=w||C,_=p.isRtl();return y=function(){v.placeholdersPolyfill.init(),h(),v.inputAutoSelect(),u.init()},window.uitk={init:y,supportsChecked:T,version:a.versionNumber,readyState:k,locale:a.locale,redirect:p.redirect,dataOnclick:s,publish:l.publish,subscribe:l.subscribe,unsubscribe:l.unsubscribe,remove:p.remove,addNode:p.addNode,getFutureDateAsString:c.getFutureDateAsString,createCookie:c.createCookie,readCookie:c.readCookie,deleteCookie:c.deleteCookie,customToggle:p.customToggle,refreshPlaceholders:v.placeholdersPolyfill.refresh,updatePlaceholderClass:v.placeholdersPolyfill.updateClass,updatePlaceholderValue:v.placeholdersPolyfill.updateInputValue,getPlaceholderValue:v.placeholdersPolyfill.getInputValue,prepFields:v.prepFields,embedVideo:r.embedVideo,createVideoObject:r.createVideoObject,createUniqueId:m.createUniqueId,isTouchDevice:S,getCompiledTemplate:b.getCompiledTemplate,registerScrollArea:g,hasTouch:w,clickEvent:"click",getEventStorage:o,isResponsive:P,isRtl:_,mediaquery:u,logError:a.logError,corePath:a.corePath,getPosition:p.getPosition,modules:{},timestamps:{},utils:{focusElement:m.focusElement,focusableElements:m.focusableElements,isFocusableElement:m.isFocusableElement,getFocusableElementSelector:m.getFocusableElementSelector,keyIsDown:f.keyIsDown,liveAnnounce:m.liveAnnounce,throttle:d,htmlDecode:m.htmlDecode},modelGenerators:{}},window.uitk}),require(["uitk"]),define("uitk_localized_config",[],function(){"use strict";var e={id_ID:"in_ID"};return e}),define("uitk_metadata",["uitk_i18n"],function(e){"use strict";var t={},i=document.getElementsByTagName("html")[0].getAttribute("data-version"),n=document.getElementsByTagName("html")[0].getAttribute("data-language"),a=n.split("-"),o=a[0];return t={corePath:function(){var e,t=uitk.version.split("."),i=t[0].replace("v",""),n=t[1],a=t[3];return e="local"===t[3]?"/static/core/":"SNAPSHOT"===t[4]?"//a.travel-assets.com/uitoolkit/SNAPSHOT/"+i+"-"+n+"/"+a+"/core/":"//a.travel-assets.com/uitoolkit/"+i+"-"+n+"/"+a+"/core/"},versionNumber:i,locale:o,logError:function(e,t,i,n){throw window.expClientLogging&&window.expClientLogging.logMessage&&expClientLogging.logMessage(i+"Error",["errorName="+n.name,"errorMessage="+n.message,"stackTrace="+n.stack,"file="+e,"module="+t,"function="+i]),n}},e&&(e.locale=o),t}),define("uitk_cookies",["uitk_pubsub"],function(e){"use strict";var t;return t={getFutureDateAsString:function(e,t){return e.setTime(e.getTime()+24*t*60*60*1e3),e.toGMTString()},createCookie:function(i,n,a){var o,s,r;a?(o=new Date,s=t.getFutureDateAsString(o,a),r="; expires="+s):r="",document.cookie=i+"="+n+r+"; path=/",a&&a<0?e.publish("cookie.deleted",i):e.publish("cookie.created",{name:i,value:n,days:a,expires:s})},readCookie:function(e){var t,i=e+"=",n=document.cookie.split(";"),a=n.length,o=0;for(o=0;o<a;o++){for(t=n[o];" "===t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(i))return t.substring(i.length,t.length)}return null},deleteCookie:function(e){this.createCookie(e,"",-1)}}}),define("uitk_events",["jquery"],function(e){"use strict";var t,i,n,a,o;return n=function(t){if(!t.data||t.data&&!t.data.eventId)return!1;var i=t.data.eventId,n=t.handleObj.selector?e(t.target).closest(t.handleObj.selector):e(t.currentTarget),a=n.data("eventStorage");return a||(a={}),a[i]||(a[i]={preventDoubleClick:!1}),n.data("eventStorage",a),a[i]},o=function(e){clearTimeout(t),i=!0,t=setTimeout(function(){i=!1},1e3),clearTimeout(e.touchEventTimeout),e.touchEventFlag=!0,e.touchEventTimeout=setTimeout(function(){e.touchEventFlag=!1},1e3)},a=function(e){e.preventDoubleClick=!0,setTimeout(function(){e.preventDoubleClick=!1},200)},e.event.special.uitkMouseenter={bindType:"mouseover",delegateType:"mouseover",handle:function(t){var a=null,o=n(t),s=o?o.touchEventFlag:i;return s||(a=e.event.special.mouseenter.handle.call(this,t)),a}},e.event.special.uitkMouseleave={bindType:"mouseout",delegateType:"mouseout",handle:function(t){var a=null,o=n(t)||{},s=o?o.touchEventFlag:i;return s||(a=e.event.special.mouseleave.handle.call(this,t)),a}},n}),define("uitk_onclick",["jquery","uitk_keyevents","uitk_domutils"],function(e,t,i){"use strict";var n,a,o={},s=e("body");return n=function(n,a,o){var s=e(a),r=s.attr("href"),l=new Function(n).call(s[0]),c=t.keyIsDown(91)||t.keyIsDown(17)||o&&o.metaKey,u=r&&"#"!==r&&""!==r;return l!==!1&&u?c?l:(o&&o.preventDefault(),i.redirect(r),l):(o&&o.preventDefault(),!1)},a=function(t){var i=e(t.target).closest("[data-onclick]");o.runOnclickFunction(i.data("onclick"),i,t)},s.on("click.onclick","[data-onclick]",a),o={runOnclickFunction:n,dataOnclickHandler:a}}),define("uitk_videohelpers",["jquery","uitk_pubsub"],function(e,t){"use strict";var i,n=e("body");return i={publishState:function(e,i,n){var a="media."+e;t.publish(a,i,n)},embedVideo:function(e){var t,n=arguments;if("youtube"===e)return t=i.embedYoutube(n[1],n[2],n[3],n[4])},loadYoutubeApi:function(){uitk.youtubeApiDefer=e.Deferred();var t="//www.youtube.com/iframe_api",i=document.createElement("script"),n=document.getElementsByTagName("script")[0];i.src=t,n.parentNode.insertBefore(i,n)},embedYoutube:function(t,n,a,o){var s,r,l,c=e.Deferred();return uitk.youtubeApiDefer||i.loadYoutubeApi(),r={autohide:1,showinfo:1,fs:1,modestbranding:1,rel:0,theme:"light",enablejsapi:1},n=n?e.extend(!0,{},r,n):r,l=function(e){var n=e.data;switch(n){case 1:i.publishState("started","youtube",t);break;case 0:i.publishState("ended","youtube",t)}},uitk.youtubeApiDefer.done(function(){s=new YT.Player(a,{height:"",width:"",videoId:t,playerVars:n,events:{onReady:o,onStateChange:l}}),c.resolve(s)}),c.promise()},createVideoObject:function(e,t){var i;return i="youtube"===e?{videoObj:t,type:e,playVideo:function(){t.playVideo()},rewindVideo:function(){5!==t.getPlayerState()&&t.seekTo(0,!0)},pauseVideo:function(){t.pauseVideo()},stopVideo:function(){t.stopVideo()}}:{}},toggleBackgroundVideo:function(e){var t=e.closest(".hero-banner").find(".background-video"),i=e.data("playLabel"),n=e.data("pauseLabel"),a=e.children(".btn-label");t.length>0&&(t[0].paused?(t[0].play(),a.html('<span class="visuallyhidden">'+n+'</span><span aria-hidden="true">&#10074;&#10074;<span>')):(t[0].pause(),a.html('<span class="visuallyhidden">'+i+'</span><span aria-hidden="true">&#9658;<span>')))}},n.on("click",'[data-control="herovideocontrol"]',function(t){i.toggleBackgroundVideo(e(t.target))}),i}),define("uitk_mediaquery",["jquery","uitk_pubsub"],function(e,t){"use strict";var i,n={desktop:"(min-width: 60em)",tablet:"(min-width: 45.375em) and (max-width: 59.938em)",smallTablet:"(min-width: 30.688em) and (max-width: 45.313em)",mobile:"(max-width: 30.625em)"};return i=function(){var a,o,s,r,l,c,u,d,h,p,f=e(window),g=Modernizr.highres,m=window.matchMedia||window.msMatchMedia,v=Modernizr.mediaqueries,b=Modernizr.mq,y={};return d=function(e,t){return{mediaQuery:e.media,key:t,retina:g,screenWidth:f.width(),orientation:window.orientation}},h=function(){return y},p=function(e,t){y[t]=e},a=function(e){t.publish("mediaquery.matched",e)},o=function(){r(!0)},s=function(e,t){b(e.media)&&a(d(e,t))},r=function(e){var t,i,n,o=h();for(t in o)o.hasOwnProperty(t)&&(i=o[t],n=b(i.media),!n||i.currentMatch===!0&&e!==!0?n||(i.currentMatch=!1):(a(d(i,t)),i.currentMatch=!0))},c=function(){var e;return m?e=function(e,t){var i,n,a,o=h();o[t]?i=o[t]:(i=m(e),p(i,t)),n=function(){m(i.media).matches&&(clearTimeout(a),a=setTimeout(function(){s(i,t)},100))},i.addListener(n),void 0!==window.orientation&&window.addEventListener&&window.addEventListener("orientationchange",n),s(i,t)}:v?(t.subscribe("debounced.resize",r),e=function(e,t){var i,n=h();n[t]?i=n[t]:(i={media:e,currentMatch:!1},p(i,t)),s(i,t)}):e=function(){},e}(),l=function(){var e,t=arguments.length,n=arguments[0];if(2===t)i.registerSingle(n,arguments[1]);else if(1===t&&"object"==typeof n)for(e in n)n.hasOwnProperty(e)&&i.registerSingle(n[e],e)},u=function(){if(v)l(n);else{var e={};e.media=n.desktop,a(e,"desktop")}},{init:u,register:l,registerSingle:c,getData:d,getMediaQueries:h,publish:a,publishAgain:o}}(),i.init(),i}),define("uitk_pubsub",["jquery","uitk_throttle"],function(e,t){"use strict";var i,n,a={},o=e(window);return a={topics:{},lastToken:0,topic:function(e){var t=this.topics;return t[e]||(t[e]=[]),t[e]},publish:function(e){var t,i,n,o,s,r=a.topics[e],l=arguments.length,c=[];
if(r){for(s=0;s<l;s+=1)c.push(arguments[s]);for(t=r.length,s=t-1;s>=0;s-=1)i=r[s],n=i.context,o=i.callback,"function"==typeof o&&o.apply(n,c)}},subscribe:function(e,t,n){var o,s,r,l,c=arguments.length,u=2,d=t,h=a.lastToken++;if("function"==typeof t&&(d=null,u=1),arguments.length>u)for(l=u;l<c;l+=1)o=arguments[l],"function"==typeof o&&(s=a.topic(e),r=s.length,s.push({context:d,callback:arguments[l],token:h.toString()}));return/^throttled\../.test(e)&&s&&s.length>0&&i(e.split(".")[1],100),h.toString()},unsubscribe:function(e){var t,i,o,s,r=a.topics[e],l=arguments.length;if(l>1&&r){for(o=1;o<l;o+=1)if(t=r.length,i=arguments[o],"function"==typeof i)for(s=t-1;s>=0;s-=1)r[s].callback===i&&r.splice(s,1);else if("string"==typeof i)for(s=t-1;s>=0;s-=1)r[s].token===i&&r.splice(s,1)}else 1===l&&r&&delete a.topics[e];r=a.topics[e],/^throttled\../.test(e)&&r&&0===r.length&&n(e.split(".")[1])}},i=function(e,n){var s="throttled."+e;if(a.topic(s).length&&!i.boundTo[e]){var r=t(function(){a.publish(s,arguments)},n);o.on(e,r),i.boundTo[e]=r}},i.boundTo={},n=function(e){i.boundTo[e]&&(o.off(e,i.boundTo[e]),i.boundTo[e]=null)},a}),define("uitk_throttle",["jquery"],function(e){"use strict";var t;e(window);return t=function(e,t,i){t=t||100;var n,a=0;return function(){var o=i||this,s=(new Date).getTime(),r=a+t-s,l=arguments;a&&r>0?(clearTimeout(n),n=setTimeout(function(){a=(new Date).getTime(),n=null,e&&e.apply(o,l)},r)):(a=s,clearTimeout(n),n=null,e&&e.apply(o,l))}}}),define("uitk_debounce",["jquery","uitk_pubsub","uitk_keyevents"],function(e,t,i){"use strict";var n,a=e(window),o=e("body");return n=function(){var n,s,r,l=document.documentElement.clientWidth,c=document.documentElement.clientHeight;a.on("resize",function(){n&&clearTimeout(n),n=setTimeout(function(){document.documentElement.clientWidth===l&&document.documentElement.clientHeight===c||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,t.publish("debounced.resize"))},100)});var u,d,h=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(u=function(){var e=document.documentElement,t=document.body;return Math.max(Math.max(t.scrollHeight,e.scrollHeight),Math.max(t.offsetHeight,e.offsetHeight),Math.max(t.clientHeight,e.clientHeight))},e(document).on("keydown",function(e){i.keyDown(e.which),r&&clearTimeout(r),r=setTimeout(function(){t.publish("debounced.keydown",{key:e.which})},10)}),e(document).on("keyup",function(e){i.keyUp(e.which),s&&clearTimeout(s),s=setTimeout(function(){t.publish("debounced.keyup",{key:e.which})},10)}),"undefined"!=typeof h){var p=new h(function(e){e.every(function(e){0!==e.addedNodes.length?t.publish("debounced.bodyResize"):0!==e.removedNodes.length&&t.publish("debounced.bodyResize")})}),f={attributes:!0,childList:!0,subtree:!0,characterData:!0};p.observe(o[0],f)}else{var g=function(){setTimeout(function(){d!==u()&&(d=u(),t.publish("debounced.bodyResize")),g()},500)};g()}},n(),n}),define("uitk_domutils",["jquery","uitk_pubsub","uitk_allyutils"],function(e,t,i){"use strict";var n={},a="transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",o=e("body"),s=e(window),r=e("html");return n={redirect:function(e){setTimeout(function(){window.location.href=e},0)},customToggle:function(t,i,n,a,s){var r="uitk_toggle";o.on("click.toggle",t,{preventDoubleClick:!0},function(o){var l,c,u=e(o.target).closest(t);o.preventDefault(),u[r](),c=u.data(r).state,"closed"===c?(i&&i(u),u[r]("open"),n&&n(u)):"open"===c&&(a&&a(u),s&&(l=uitk.subscribe("toggle.closed",function(e,t){t[0]===u[0]&&(s(u),uitk.unsubscribe("toggle.closed",l))})),u[r]("close"))})},remove:function(n,o){var s,r,l,c,u={transition:"fade",publish:!0},d=o?e.extend(!0,{},u,o):u,h=Modernizr.csstransitions,p=e(n);s=function(){"function"==typeof t.publish&&(d.publish&&t.publish("remove",p),d.topic&&t.publish(d.topic,p))},r=e(document.activeElement),(p.is(r)||p.find(r).length>0)&&(l=p.next(),c=l.length>0?l:p.parent(),p.trigger("blur"),i.focusElement(c)),"none"!==d.transition&&h?(p.addClass("remove-animated animated-fade"),p.one(i.transitionEnd=a,function(){p.empty().remove(),s()})):(p.empty().remove(),s())},addNode:function(e,i){var n=i||{};t.publish("addNode",e,n)},getPosition:function(t){var i,n=e(t),a=n[0],o=0,r=0,l=!1;for(i=a;null!==i;i=i.offsetParent)o+=Math.floor(i.offsetLeft),r+=Math.floor(i.offsetTop),"fixed"===e(i).css("position")&&(l=!0);return l&&(r+=s.scrollTop()),{left:o,top:r}},isRtl:function(){return r.is("[dir=rtl]")}},o.on("click.remove","[data-control=remove]",function(t){var i=e(t.target).closest("[data-control=remove]"),a=i.data(),o=e(a.targetId?"#"+a.targetId:this);t.preventDefault(),n.remove(o,a)}),o.on("click.add","[data-control=add]",function(t){var i=e(t.target).closest("[data-control=add]"),a=i.data(),o=a.templateId;t.preventDefault(),n.addNode(o,a)}),n}),define("uitk_hbsutils",["handlebars"],function(e){"use strict";var t;return t={getCompiledTemplate:function(t,i){var n,a,o=t.replace(/^#/,"");if(n=e.templates[t+".hbs"]||e.templates[t],!n)if(n=e.templates[o+".hbs"]||e.templates[o])t=o;else{if(a=$(t),!(a.length>0))return void console.log("ERROR: No template found");n=e.compile(a.html())}return i&&e.registerPartial(t,n),n}}}),define("uitk_keyevents",[],function(){"use strict";var e={},t={};return e={keyDown:function(e){e&&(t[e.toString()]=!0)},keyUp:function(e){e&&!!t[e.toString()]&&delete t[e.toString()]},keyIsDown:function(e){return isNaN(e)&&(e=parseInt(e)),!!t[e.toString()]}}}),define("uitk_scrollarea",["jquery","uitk_pubsub"],function(e,t){"use strict";var i;return i=function(i){var n;e(i).on("scroll",function(){n&&clearTimeout(n),n=setTimeout(function(){t.publish("debounced.scroll")},150)})},i(window),i("[data-scroll-area]"),i}),define("uitk_allyutils",["jquery"],function(e){"use strict";var t={},i="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable], body";return t={focusElement:function(e){return e.is(i)||e.attr("tabindex","-1").addClass("no-outline"),e.trigger("focus"),e},focusableElements:function(e){return e.find(i).filter(":visible:not([tabindex=-1]):not(.uitk-focus-trap)")},isFocusableElement:function(e){var t=!1;return!e.is(document)&&e.is(i)&&(t=!0),t},getFocusableElementSelector:function(){return i},liveAnnounce:function(t,i){var n,a=e("#uitk-live-announce");return i=i||"assertive",a.length>0&&(a.empty(""),a.attr("aria-live",i),"object"==typeof t?(n=e(t),a.text(n.text())):"string"==typeof t&&(t=e("<div></div>").append(t).text(),a.text(t)),a)},htmlDecode:function(t){return e("<textarea/>").html(t).text()},createUniqueId:function(){var e=0;return function(){return e++,"uitkId"+e}}()}}),define("uitk_formutils",["jquery","uitk_polyfill_placeholder","uitk_allyutils","uitk_i18n"],function(e,t,i,n){"use strict";var a,o={},s=e("body"),r=Modernizr.placeholder,l=Modernizr.touch||Modernizr.win8touch;return a=function(){var i={},n="placeholderspolyfill";return"undefined"==typeof t||r?(i.init=function(){},i.refresh=function(){},i.updateClass=function(){},i.getInputValue=function(e){return e.val()},i.updateInputValue=function(e,t){e.val(t)}):(i.init=function(){t.init({styleImportant:!1,hideOnFocus:!0})},i.refresh=function(){t.refresh()},i.updateClass=function(t){t.each(function(){var t=e(this);t.attr("placeholder")!==t.attr("value")?t.removeClass(n):t.addClass(n)})},i.getInputValue=function(e){return e.val()===e.attr("placeholder")?"":e.val()},i.updateInputValue=function(e,t){t?(e.val(t),e.removeClass(n)):(e.val(e.attr("placeholder")),e.addClass(n))}),i}(),o={placeholdersPolyfill:a,setClearBtnDisabled:function(t,i){var n=e(t),a=e(i);n.val()?a.prop("disabled",!1):a.prop("disabled",!0)},prepFields:function(){var t=e(".clear-btn-input");a.refresh(),uitk.initCalendarInputs&&uitk.initCalendarInputs(),uitk.initDatePickerInputs&&uitk.initDatePickerInputs(),t.each(function(){var t=e(this),i=t.closest(".input-btn-group").find(".btn-clear");o.setClearBtnDisabled(t,i)})},inputAutoSelect:function(){var t='input[data-autoselect="touch"]';l&&(s.on("focus",t,function(i){var n=e(i.target).closest(t);n&&setTimeout(function(){n[0].setSelectionRange(0,9999)},50)}),s.on("mouseup",t,function(e){e.preventDefault()}))}},o.placeholdersPolyfill.init(),o.inputAutoSelect(),s.on("click",'[data-control="clear-field"]',function(t){var a=e(this),o=e(t.target),s=o.closest(".input-btn-group"),r=s.find("input");t.preventDefault(),r.val(""),a.find(".field-value").text(""),uitk.utils.liveAnnounce(n.t("field_cleared")),uitk.publish("Input cleared",{$elem:r}),i.focusElement(r),o.prop("disabled",!0)}),s.on("keyup",".clear-btn-input",function(t){var i=e(t.target),n=i.closest(".input-btn-group"),a=n.find(".btn-clear"),s=a.find(".field-value"),r=n.find("input").val();s.text()!==r&&s.text(r),o.setClearBtnDisabled(i,a)}),o}),define("uitk_focus",["jquery","uitk_pubsub","uitk_keyevents","uitk_allyutils"],function(e,t,i,n){"use strict";var a=!document.removeEventListener&&!!document.activeElement,o=function(){function e(){s=setTimeout(function(){try{o!==document.activeElement&&c&&c.apply&&c.apply(),r&&e&&e()}catch(t){}},1)}function t(){l&&(r=!1,clearTimeout(s))}function i(){l&&!r&&(t(),r=!0,e())}function n(e){c=e||function(){},l=!0}function a(){c=null,l=!1}var o="",s=-1,r=!1,l=!1,c=function(){};return{start:i,stop:t,init:n,uninit:a,initialized:function(){return l}}},s=function(s){function r(e){v=e}function l(){return"uitk.focusCapture."+s}function c(){var t=n.focusableElements(e(v)),a="";a=i.keyIsDown(16)?t.last():t.first(),a&&n.focusElement(e(a))}function u(t){var i="h1,h2,h3,h4,h5,h6";t&&(i=i+","+n.getFocusableElementSelector()),n.focusElement(e(v).find(i).filter(":visible:not(.uitk-focus-trap)").first()),m.initialized&&m.start&&(m.initialized(),m.start())}function d(e){e?n.focusElement(e):window.focus(),m.initialized&&m.stop&&(m.initialized(),m.stop())}function h(i){var n=document.activeElement||i.target,a=e(v)[0],o=e(".modal-wrap.active").eq(0),s=c;o&&(s=o.find(n).length>0),t.publish(l(),{focused:n,isContainedInContext:!!a&&!e(n).hasClass(b)&&e.contains(a,n)||!1,isContainedInModal:s,container:a})}function p(){a?m.init(h):document.addEventListener("focus",h,!0)}function f(){a?m.uninit():document.removeEventListener("focus",h,!0)}function g(t){var i=document.createElement("span"),n=e(v)[0];i.className=b+" visuallyhidden",i.setAttribute("aria-hidden","true"),i.setAttribute("tabindex","0"),"top"===t?n.insertBefore(i,n.firstChild):n.appendChild(i)}var m=new o,v="body",b="uitk-focus-trap";return{focus:c,firstFocus:u,blur:d,enable:p,disable:f,focusEvent:l,setFocusContextSelector:r,injectFocusTrap:g}};return uitk.createFocus=function(){return s()},s}),define("uitk_browserStorage",["uitk_domReady","uitk","uitk_cookies"],function(e,t,i){"use strict";function n(e){var t=this;if(!p[e])throw new Error("UITK Html5BrowserStorage: 'type' must be '"+r+"' or '"+l+"' and not '"+e+"'");t.type=e,t.endpoint=p[e].endpoint}function a(e,t){var n=this;if(e!==c&&e!==u)throw new Error("UITK CookieBrowserStorage: 'type' must be '"+c+"' or '"+u+"' and not '"+e+"'");n.type=e,n.storage={},n.endpoint={setItem:function(e,n,a){a=a||t,i.createCookie(e,n,a)},getItem:function(e){return i.readCookie(e)},removeItem:function(e){return i.deleteCookie(e)}}}function o(){var e=this;e.type=d,e.storage={},e.endpoint={setItem:function(t,i){e.storage[t]=i},getItem:function(t){return e.storage.hasOwnProperty(t)?e.storage[t]:null},removeItem:function(t){e.storage.hasOwnProperty(t)&&delete e.storage[t]}}}var s="UITK BrowserStorage",r="local",l="session",c="persistentCookies",u="sessionCookies",d="page",h={saveItem:function(e,t,i){var n=this.type,a=" saveItem(key, value, expiry): ";if("string"!=typeof e)throw new TypeError(s+a+"'key' must be a string");if("string"!=typeof t&&n!==d)throw new TypeError(s+a+"'value' must be a string");if(i&&"number"!=typeof i&&(n===c||n===u))throw new TypeError(s+a+"'expiry' must be a number");this.endpoint.setItem(e,t,i)},saveItems:function(e,t){if("object"!=typeof e)throw new TypeError(s+" saveItems(keyValueObj): 'keyValueObj' must be an object");for(var i in e)e.hasOwnProperty(i)&&this.saveItem(i,e[i],t)},saveAsJSON:function(e,t,i){JSON&&this.saveItem(e,JSON.stringify(t),i)},readItem:function(e){if("string"==typeof e)return this.endpoint.getItem(e);throw new TypeError(s+" readItem(key): 'key' must be a string")},readJSONAsObject:function(e){return JSON.parse(this.readItem(e))},doesKeyExist:function(e){return null!==this.readItem(e)},deleteItem:function(e){if("string"!=typeof e)throw new TypeError(s+" deleteItem(key): 'key' must be a string");this.endpoint.removeItem(e)},deleteItems:function(e){var t,i=this,n=e.length;for(t=0;t<n;t+=1)i.endpoint.removeItem(e[t])}},p={},f=Modernizr.localstorage,g=Modernizr.sessionstorage;return p[r]={available:f,endpoint:f?window.localStorage:{},fallback:d},p[l]={available:g,endpoint:g?window.sessionStorage:{},fallback:d},n.prototype=h,n.prototype.constructor=n,a.prototype=h,a.prototype.constructor=a,o.prototype=h,o.prototype.constructor=o,t.createBrowserStorage=function(e){var t,i,s=arguments,h=s[1],f=s[2];if("string"==typeof h?(t=h,"number"==typeof f&&(i=f)):"number"==typeof h&&(i=h),t&&t!==c&&t!==u&&t!==d)throw new Error("uitk.createBrowserStorage: 'fallback' must be '"+c+"', '"+u+"', '"+d+"' or '' and not '"+t+"'");if(e===r||e===l){if(p[e].available)return new n(e);e=t||p[e].fallback}if(e===u)return new a(e);if(e===c)return i=i||365,new a(e,i);if(e===d)return new o;throw new Error("uitk.createBrowserStorage: 'type' must be '"+r+"', '"+l+"', '"+c+"', '"+u+"' or '"+d+"' and not '"+e+"'")},t}),define("uitk_plugins",["jquery"],function(e){"use strict";function t(t,i,n){var a;this.element=e(t),i=i||{},a=this.element.data()||{},this.options=e.extend(!0,{},n,a,i),this.init&&this.init()}function i(t,i){e.fn[t]=function(){var n,a,o,s;return"object"==typeof arguments[0]?(n=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3]):(n={},a=arguments[0],o=arguments[1],s=arguments[2]),this.each(function(){e.data(this,t)||e.data(this,t,new i(this,n)),"string"==typeof a&&e.data(this,t)[a](o,s)})}}return{newModule:t,initPlugin:i}}),define("uitk_date",["jquery","uitk_pubsub","uitk_formutils","uitk_messages","uitk"],function(e,t,i,n,a){"use strict";return"undefined"==typeof n&&(n={}),"undefined"==typeof n.core&&(n.core={}),"undefined"==typeof n.core.date&&(n.core.date={}),n.core.date.Calendar=function(e){var t={config:e,rM:[31,28,31,30,31,30,31,31,30,31,30,31],internalDate:"",requiresEra:function(){return window.Intl&&"object"==typeof window.Intl&&"ar_SA"===a.locale},getDateFormat:function(){return this.config.getDateFormat()},getDateSeparator:function(){return this.config.getDateSeparator()},getStartOfWeek:function(){return this.config.getStartOfWeek()},getDateFromString:function(e,t){if(!e||!e.length)return null;if(e=e.replace(/\s+/g,""),(e.match(/[\u200f]/)||this.getDateFormat().match(/[\u200f]/)&&""!==this.internalDate)&&(e=this.internalDate,e=e.replace(/[\u200f]/,"").substring(0,10)),e.match(/[^-|\d|\.|\/]/))return null;for(var i=e.split(/-|\.|\//),n=0;n<i.length;n++)i[n]=parseInt(i[n],10);if(!i[1])return null;var a,o,s,r=this.getDateFormat();if("yymmdd"===r){if(!i[2])return null;a=i[1],o=i[2],s=i[0]}else"mmddyy"===r?(a=i[0],o=i[1]):(a=i[1],o=i[0]),s=i[2]?i[2]:this.DefYr(a-1,o);var l=(new Date).getFullYear();return a-=1,s.toString().length<=2&&(s+=2e3),s<l&&!t&&(s=l),s<1601||s>4500||a<0||a>11||o<1||o>this.getMonthCount(a,s)?null:new Date(s,a,o,12)},toStringFromCompWithLocale:function(e){var t=e.toLocaleDateString(a.locale.replace("_","-"),{year:"numeric"}),i=e.toLocaleDateString(a.locale.replace("_","-"),{era:"short"});return this.toStringFromComp(e.toLocaleDateString(a.locale.replace("_","-"),{day:"numeric"}),e.toLocaleDateString(a.locale.replace("_","-"),{month:"numeric"}),t.split(" ")[0],i.split(" ")[i.split(" ").length-1])},toStringFromComp:function(e,t,i,n){function a(e){return e<10?"0"+e:e}var o="",s=this.getDateSeparator(),r=this.getDateFormat();return e=a(e),t=a(t),o="mmddyy"===r?t+s+e+s+i:"ddmmyy"===r?e+s+t+s+i:"dd‏/mm‏/yy ggggg"===r?n?r.replace(/dd[\u200f]/,e).replace(/mm[\u200f]/,t).replace(/yy/,i).replace(new RegExp("g{"+r.match(/g/g).length+"}"),n?n:""):r.replace(/dd[\u200f]/,e).replace(/mm[\u200f]/,t).replace(/yy/,i).replace(/\s[g]*/,""):i+s+t+s+e},toStringFromDate:function(e){var t="",i=this.getDateSeparator(),n=this.getDateFormat(),a=e.getMonth()+1,o=e.getDate(),s=e.getFullYear();return t="mmddyy"===n?a+i+o+i+s:"ddmmyy"===n?o+i+a+i+s:s+i+a+i+o},IsLY:function(e){return 0===e%4&&(e%100!==0||e%400===0)},DefYr:function(e,t){var i=new Date,n=i.getYear()<1e3?1900+i.getYear():i.getYear();return(e<i.getMonth()||e===i.getMonth()&&t<i.getDate())&&n++,n},getMonthCount:function(e,t){var i=this.rM[e];return 1===e&&this.IsLY(t)&&i++,i},IsLastDayOfMonth:function(e){return this.getMonthCount(e.getMonth(),e.getFullYear())===e.getDate()},incrementMonth:function(e){return 11===e.getMonth()?(e.setMonth(0),e.setFullYear(e.getFullYear()+1)):e.setMonth(e.getMonth()+1),e},decrementMonth:function(e){return 0===e.getMonth()?(e.setMonth(11),e.setFullYear(e.getFullYear()-1)):e.setMonth(e.getMonth()-1),e}};return t},n.core.date.DateUpdater=function(t,a){var o,s={config:a,calendar:t,register:function(t,i,n,a,s,r,l){n=n||0;var c=e("body"),u=e(t),d=e(i),h=this.calendar.getDateFromString(u[0].value,l),p=this.calendar.getDateFromString(d[0].value,l),f=this.calendar.getDateSeparator(),g=this.calendar.getDateFormat();g=g.substring(0,2)+f+g.substring(2,4)+f+g.substring(4,6);var m=new Date;m.setHours(0,0,0,0),l||(h&&h.valueOf()<m.valueOf()&&(u[0].value=g),p&&p.valueOf()<m.valueOf()&&(d[0].value=g)),o=this;var v=function(){o.update("#"+t.id,"#"+i.id,n,a,r,l)},b=function(){o.updateByNights(u[0],d[0],n,l),o.update(u[0],d[0],n,a,null,l)};c.on("blur","#"+t.id,v),c.on("focus","#"+t.id,v),c.on("blur","#"+i.id,v),c.on("focus","#"+i.id,v);var y=e("#"+t.id+"-stay-nights");0!==y.length&&(y.on("change",b),y.on("keypress",b))},days_between:function(e,t){var i=864e5,n=e.getTime(),a=t.getTime(),o=Math.abs(n-a);return Math.round(o/i)},updateNumberOfNights:function(e,t){var i=document.getElementById("hot-sear-date-num-nights");if(void 0!==this.config&&null!==i){var n=this.config.getNightTextConfig(),a=this.days_between(t,e);a>1?i.innerHTML=a+" "+n[1]:i.innerHTML=n[0],i.style.display="inline"}},updateDayName:function(t,i){var n=e("#"+t.id+"-day");if(void 0!==this.config&&0!==n.length)try{var a=i.getDay();if(void 0===a)return void n.html("");var o=this.config.getDayNames();n.html(o[a])}catch(s){n.html("")}},updateByNights:function(t,i,n,a){var o=this.calendar.getDateFromString(e(t).val(),a),s=e("#"+t.id+"-stay-nights");o&&(o.setDate(o.getDate()+parseInt(s.get(0).value)),this.calendar.requiresEra()?e(i).val(this.calendar.toStringFromCompWithLocale(o)):e(i).val(this.calendar.toStringFromComp(o.getDate(),o.getMonth()+1,o.getFullYear())))},doWeCrossDST:function(e,t){var i=new Date(e.valueOf()+864e5*t),n=e.getTimezoneOffset(),a=i.getTimezoneOffset(),o=0;return(n<a||n>a)&&(o=1),o},update:function(t,a,o,s,r,l){var c,u=e(t),d=e(a),h=this.calendar.getDateFromString(u.val(),l),p=this.calendar.getDateFromString(d.val(),l),f=e("#"+t.id+"-stay-nights");if(o=u.attr("data-min-booking-length")||u.attr("data-min-range-length")||0,(!r||isNaN(parseInt(r))||p)&&(r=0),this.updateDayName(t,h),this.updateDayName(a,p),h&&p&&this.updateNumberOfNights(h,p),h){if(p&&0!==f.length){var g=Math.round((p-h)/1e3/60/60/24);g<1&&(g=f.get(0).value),f.get(0).value=g}var m=Math.max(o,r),v=this.doWeCrossDST(h,m);h=new Date(h.valueOf()+36e5*(24+v)*m),c=this.calendar.requiresEra()?this.calendar.toStringFromCompWithLocale(h):this.calendar.toStringFromComp(h.getDate(),h.getMonth()+1,h.getFullYear()),p&&p<=h&&(p=null),null!==p||"true"===d.attr("data-optional")&&""===d.val()||(p=this.calendar.getDateFromString(u.val(),l),this.updateNumberOfNights(p,h),0!==f.length&&1!==f.get(0).value&&(h.setDate(h.getDate()+parseInt(f.get(0).value)-1),c=this.calendar.requiresEra()?this.calendar.toStringFromCompWithLocale(h):this.calendar.toStringFromComp(h.getDate(),h.getMonth()+1,h.getFullYear())),c!==d.val()&&d.val(c),n.core.date.datePicker&&(n.core.date.datePicker.entries[d.attr("id")].currentValue=h),this.updateDayName(a,h))}u.is(".fieldDefaultText")&&u.removeClass("fieldDefaultText"),d.is(".fieldDefaultText")&&d.removeClass("fieldDefaultText"),i.placeholdersPolyfill.updateClass(u),i.placeholdersPolyfill.updateClass(d)}};return s},n.core.date.CalendarControl=function(){var e=function(){var e="mmddyy",t="/",i=0,n=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=["S","M","T","W","T","F","S"],l="Close",c="",u=["night","nights"],d=function(e){u=e},h=function(i,n){e=i,t=n},p=function(e,t,a,o){i=e,n=t,r=a,void 0!==o&&(s=o)},f=function(e,t,n){i=e,o=t,r=n},g=function(e){l=e},m=function(e){c=e};return{setFormatConfig:h,setUnitConfig:p,setSingleUnitConfig:f,setTextConfig:g,setLocaleConfig:m,setNightTextConfig:d,requiresEra:function(){return window.Intl&&"object"==typeof window.Intl&&"ar_SA"===a.locale},getDateFormat:function(){return e},getDateSeparator:function(){return t},getStartOfWeek:function(){return i},getMonths:function(){return n},getSingleMonths:function(){return o},getDayAbbrs:function(){return r},getDayNames:function(){return s},getCloseText:function(){return l},getLocaleConfig:function(){return c},getNightTextConfig:function(){return u}}};return{Config:new e("ddmmyy",".",2)}}(),t.publish("sf.date.ready"),window.exp=n,n}),define("uitk_typeahead",["jquery","handlebars","uitk","uitk_i18n","uitk_pubsub","uitk_allyutils","uitk_hbsutils","uitk_tooltip","uitk-ta-by-category.hbs","uitk-ta-default.hbs"],function(e,t,i,n,a,o,s){"use strict";function r(e,t,i){this.__essAbacusIds=e,this.__variantAssigner=t,this.__pageIdGetter=i,this.guid=this.__getGuid()}function l(t){if(!t.data("typeahead")){var i=t.data("template");void 0!=i&&(i.indexOf("/")>=0?e.ajax({url:i,success:function(e){var i=t.data();i.rawHtml=!0,new u(t,e,i)},dataType:"text"}):new u(t,i,t.data()))}}if("undefined"!=typeof window.uitkTypeahead)return console.log("Typeahead is now included in the UITK so you no longer need to load it manually"),window.uitkTypeahead;if(e("body")[0].hasAttribute("data-disable-typeahead"))return!0;var c="uitk_tooltip",u=function(n,a,o){this.$element=e(n),this.$label=this.$element.closest("label"),this.ariaOwns=this.$element.attr("aria-owns")||"backwards";var r="uitk_ta_content",l='<div id="'+r+'" role="presentation"></div>',d=e("#"+r).length;0===d&&e("body").append(l),this.firstItemFlag=!0,this.lastItemFlag=!0,o.rawHtml?this.template=t.compile(a):i?this.template=s.getCompiledTemplate(a):(a=e(a).html(),this.template=t.compile(a)),this.opts=e.extend(!0,{},u.defaultOptions,o),this.searchType=null,this.cache={},this.ignoreNext=!1,this.isClickOn=!1,this.bodyClick=!1,this.$element.autocomplete="off",this.$element.on("focus",e.proxy(this.focus,this)).on("keydown",e.proxy(this.keyDown,this)).on("keyup",e.proxy(this.keyUp,this)).on("keypress",e.proxy(this.keyPress,this)).on("blur",e.proxy(this.blur,this)),this.$ta=e('<div class="typeahead" role="presentation">'),this.opts.tooltip?this.$element[c]({content:this.$ta,template:'<div class="uitk-tooltip" role="presentation"><div class="tooltip-inner" role="presentation"></div><span class="tooltip-arrow-border" role="presentation"></span><span class="tooltip-arrow" role="presentation"></span></div>'}):(this.$ta.appendTo(document.body),i.isTouchDevice?this.$ta.on("click",function(e){e.preventDefault()}):this.$ta.on("mousedown",e.proxy(this.clickOn,this)).on("mouseup",e.proxy(this.clickOff,this)).on("click",e.proxy(this.click,this)).on("mouseenter","a",e.proxy(this.mouseEnter,this))),this.$element.data("typeahead",this),this.opts.openDefaultTa?(this.shouldBeOpen=!0,this.request("defaultResponse",!1)):this.request("zzzzzz",!0)};return u.prototype={constructor:u,shouldBeOpen:!1,startRequest:function(){var e=this.$element.val();e.length>=this.opts.minchar?this.cache[e]?this.render(e,this.cache[e]):this.request(e):this.close()},request:function(t,i){var n,a={},o=r.defaultGenerator;"v4"===this.opts.version?(n=this.opts.overrideServiceUrl?[this.opts.overrideServiceUrl,encodeURIComponent(t)].join(""):[this.opts.serviceUrl,"/api/",this.opts.version,"/typeahead/",encodeURIComponent(t),"?callback=?"].join(""),"CARS"==this.opts.lob&&(a.sortcriteria="category"),a.regiontype=this.opts.mask,a.locale=this.opts.locale,a.ab=this.opts.abtest,a.lob=this.opts.lob,a.format="jsonp",a.dest=this.opts.dest,a.maxresults=this.opts.maxresults,a.rid=this.opts.regionid,a.features=this.opts.features,a.client=this.opts.clientId?this.opts.clientId:o.getClientId(),a.siteid=o.getSiteId(),a.guid=o.guid):(n=this.opts.overrideServiceUrl?[this.opts.overrideServiceUrl,encodeURIComponent(t)].join(""):[this.opts.serviceUrl,"/hint/es/",this.opts.version,"/ac/",this.opts.locale,"/",encodeURIComponent(t),"?callback=?"].join(""),a.type=this.opts.mask,a.ab=this.opts.abtest,a.lob=this.opts.lob,a.format="json",a.dest=this.opts.dest,a.maxresults=this.opts.maxresults,a.rid=this.opts.regionid,this.opts.overrideServiceUrl||"//suggest.expedia.com"!=this.opts.serviceUrl||(a.client=this.opts.clientId?this.opts.clientId:o.getClientId(),a.siteid=o.siteId,a.guid=o.guid));var s;if(s=i?e.noop:e.proxy(this.callback,this),this.opts.additionalDataSourceUrl){s=e.proxy(this.combineResults,this);var l=[this.opts.additionalDataSourceUrl,encodeURIComponent(t)].join(""),c=n;e.when(e.getJSON(l,a),e.getJSON(c,a)).then(s)}else e.getJSON(n,a,s)},combineResults:function(e,t){var i=[];e[0]&&e[0].sr&&(i=i.concat(e[0].sr)),t[0]&&t[0].sr&&(i=i.concat(t[0].sr)),this.processResults(i,e[0].q)},callback:function(e){var t=e.sr?e.sr:e.r,i=e.q;this.processResults(t,i)},processResults:function(e,t){e&&this.shouldBeOpen&&this.$element[0]==document.activeElement?(this.cache[t]=e,this.render(t,e)):(this.cache[t]=[],this.close())},playBackUserTypedText:function(t,i){if(this.opts.playBackText&&"defaultResponse"!==i){var n=!0;if(e.each(t,function(e,t){t.id===-1&&(n=!1)}),n){var a=/<script[\s\S]+?script\s*>?/gi;i=i.replace(a,"");var o=/\d/,s=this.opts.playBackText;s=s.replace(o,i);var r={};r.l=i,r.d=s,r.id=-1,r.i=-1,"HOTELS"==this.opts.lob&&(r.t="HOTEL"),t.push(r)}}},render:function(t,i){var s="v4"===this.opts.version,r={};if(i.length>0&&(this.opts.openDefaultTa||this.$element.val()==t)){this.playBackUserTypedText(i,t),i.sort(function(e,t){var i=s?e.index-t.index:e.i-t.i;return i});var l=this.opts,d={};e.each(i,function(e,t){var i=s?u.CATEGORIES[t.type]:u.CATEGORIES[t.t],n=i?i.name:"Other";"undefined"==typeof d[n]&&(d[n]=!0)});var h={};"HOTELS"==this.opts.lob?(d["Region/City"]&&(h["Region/City"]=[]),d.Attractions&&(h.Attractions=[]),d.Airports&&(h.Airports=[]),d.Amenities&&(h.Amenities=[]),d.Hotels&&(h.Hotels=[])):"CARS"==this.opts.lob&&(d.Airports&&(h.Airports=[]),d["Region/City"]&&(h["Region/City"]=[]),d.Attractions&&(h.Attractions=[])),e.each(i,function(e,t){var i=s?u.CATEGORIES[t.type]:u.CATEGORIES[t.t],n=i?i.name:"Other";"undefined"==typeof h[n]&&(h[n]=[]),t.categoryName=n,h[n].push(t),l.forceicon?t.icon=l.forceicon:t.icon=i?i.icon:"location",s?"undefined"!=typeof t.regionNames.lastSearchName?t.regionNames.lastSearchName=t.regionNames.lastSearchName.replace(/'/g,"&#39;"):"undefined"!=typeof t.regionNames.fullName&&(t.regionNames.lastSearchName=t.regionNames.fullName.replace(/'/g,"&#39;"),t.regionNames.fullName=t.regionNames.fullName.replace(/'/g,"&#39;")):"undefined"!=typeof t.l?t.l=t.l.replace(/'/g,"&#39;"):"undefined"!=typeof t.f&&(t.l=t.f.replace(/'/g,"&#39;")),t.data=JSON.stringify(t)}),a.publish("typeahead.opened",{results:i,text:t}),r.continueText=this.opts.continuetext,r.closeText=this.opts.closetext,r.results=i,r.resultsByCategory=h,r.ariaOwns=this.ariaOwns,r.isV4=s;var p=this.template(r),f=this;if(this.$ta.html(p),this.$ta.is(":hidden")&&this.$ta.show(),this.$label.addClass("focused"),this.opts.tooltip)this.$element[c]("show"),this.$element[c]("checkPos",!0,!0),this.$ta.off("mousedown",e.proxy(this.clickOn,this)).off("mouseup",e.proxy(this.clickOff,this)).off("click",e.proxy(this.click,this)).off("mouseenter","a",e.proxy(this.mouseEnter,this)).on("mousedown",e.proxy(this.clickOn,this)).on("mouseup",e.proxy(this.clickOff,this)).on("click",e.proxy(this.click,this)).on("mouseenter","a",e.proxy(this.mouseEnter,this)),window.navigator.msPointerEnabled&&!window.PointerEvent&&e("body").on("click focusin."+c,function(t){("focusin"!==t.type||o.isFocusableElement(e(t.target)))&&t.target!==f.$element[0]&&f.close()});else{var g=parseInt(this.$element.css("height"),10),m=this.$element.offset();this.$ta.css({top:m.top+g+"px",left:m.left+"px"}),this.$ta.show()}if("undefined"==typeof window.orientation){var v,b=i.length;v=1===b?"typeahead_results_displayed_one":"typeahead_results_displayed_other",o.liveAnnounce(n.t(v,{arg0:b}),"polite")}}else this.close()},close:function(){this.$label.removeClass("focused"),this.opts.tooltip?this.$element[c]("hide"):(this.$ta.hide(),this.$ta.html("")),a.publish("typeahead.closed"),this.bodyClick&&(this.$ta.unbind("mousedown",e.proxy(this.cancelEvent,this)),e(document.body).unbind("mousedown",e.proxy(this.close,this)),this.bodyClick=!1)},prev:function(){var t=this.$ta.find("a"),i=this.$ta.find(".highlight").removeClass("highlight"),n=t.index(i),a=t[n-1],s=e(a),r=e(a).attr("id"),l=t.length-1,c="";i.attr("aria-selected","false"),a?(n!=l||conditionizr.safari||(c=s.attr("data-value"),o.liveAnnounce(c,"polite")),s.addClass("highlight"),s.attr("aria-selected","true"),this.$element.attr("aria-activedescendant",r)):(this.$element.removeAttr("aria-activedescendant"),o.liveAnnounce(this.$element.val(),"polite"))},next:function(){var t,i=this.$ta.find("a"),a=this.$ta.find(".highlight").removeClass("highlight"),s=i.index(a),r=i[s+1],l=e(r),c=e(r).attr("id"),u="";l.hasClass("close")||a.attr("aria-selected","false"),conditionizr.safari||(this.firstItemFlag===!0?this.firstItemFlag=!1:"undefined"==typeof i[s]&&(t=e(".active-tooltip").find("a")[0],u=e(t).attr("data-value"),o.liveAnnounce(u,"polite"))),r?(l.addClass("highlight"),l.attr("aria-selected","true"),l.hasClass("close")?o.liveAnnounce(n.t("close"),"assertive"):this.$element.attr("aria-activedescendant",c)):o.liveAnnounce(this.$element.val(),"polite")},removeHighlights:function(){this.$ta.find(".highlight").removeClass("highlight")},selectHighlighted:function(t,i){var s,r,l=this.$ta.find(".highlight"),c=l.text(),u=e("html");if(s=c.replace(/(^\s+|\s+$)/g,""),t&&0===l.length&&(l=e(t.target).closest(".results-item").find("a")),this.updateTextField(l),l.removeClass("highlight"),i===!0)r=l.text().replace(/(^\s+|\s+$)/g,""),o.liveAnnounce(n.t("close_button_menu_closed"),"assertive");else if(u.hasClass("safari")){var d=n.t("item_selected_menu_closed",{arg0:s});o.liveAnnounce(d,"assertive")}var h={element:l};a.publish("typeahead.resultSelected",h)},updateTextField:function(e){if(e){var t=e.attr("data-value");if(t){t=t.replace(/&#39;/g,"'"),this.$element.val(t);var i=e.attr("data-id");i&&this.$element.attr("data-id",i),this.opts.selectioncallback&&("function"==typeof this.opts.selectioncallback?this.opts.selectioncallback(e):"string"==typeof this.opts.selectioncallback&&window[this.opts.selectioncallback](e))}this.close(),this.$element.trigger("focus")}},focus:function(e){},keyDown:function(e){var t;switch(e||(e=window.event),t=e.keyCode){case 27:this.close(),e.stopPropagation();break;case 9:case 13:if(this.opts.selectFirstElementByDefault&&this.$ta.find(".highlight").length<=0&&this.$label.hasClass("focused")){var i=this.$ta.find("li.category-item");if(i&&0!=i.length||(i=this.$ta.find("li.results-item")),i){var n=i.first();n&&n.find("a").addClass("highlight")}}this.$ta.find(".highlight").length&&(e.stopPropagation(),
13===t&&e.preventDefault(),this.selectHighlighted(e,this.$ta.find(".highlight").hasClass("close")));break;case 32:this.$ta.find(".highlight").hasClass("close")&&(e.stopPropagation(),e.preventDefault());break;case 39:this.$ta.find(".highlight").length&&(this.ignoreNext=!0,e.stopPropagation(),this.selectHighlighted());break;case 38:e.preventDefault(),e.stopPropagation(),this.prev();break;case 40:e.stopPropagation(),e.preventDefault(),this.next()}},keyPress:function(e){e||(e=window.event),13==e.keyCode&&this.close()},keyUp:function(e){if(this.ignoreNext)return void(this.ignoreNext=!1);switch(e||(e=window.event),e.keyCode){case 27:break;case 37:this.removeHighlights();break;case 38:e.preventDefault(),e.stopPropagation();break;case 40:e.stopPropagation(),e.preventDefault();break;case 16:case 17:case 18:break;case 13:this.shouldBeOpen=!1;break;case 32:this.$ta.find(".highlight").hasClass("close")&&(e.stopPropagation(),e.preventDefault(),this.selectHighlighted(e,this.$ta.find(".highlight").hasClass("close")));break;default:this.shouldBeOpen=!0,this.startRequest()}},blur:function(){window.navigator.msPointerEnabled&&!window.PointerEvent||(this.isClickOn?(this.$ta.bind("mousedown",e.proxy(this.cancelEvent,this)),e(document.body).bind("mousedown",e.proxy(this.close,this)),this.bodyClick=!0):this.close())},clickOn:function(){this.isClickOn=!0},clickOff:function(){this.isClickOn=!1},click:function(e){e.stopPropagation(),e.preventDefault(),this.selectHighlighted(e)},mouseEnter:function(t){this.removeHighlights(),e(t.currentTarget).addClass("highlight")},cancelEvent:function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancel=!0,e.returnValue=!1},remove:function(){this.$element.autocomplete="on",this.$element.closest("form").attr("autocomplete","on"),this.$element.off("focus",e.proxy(this.focus,this)).off("keydown",e.proxy(this.keyDown,this)).off("keyup",e.proxy(this.keyUp,this)).off("keypress",e.proxy(this.keyPress,this)).off("blur",e.proxy(this.blur,this)),this.$ta.off("mousedown",e.proxy(this.mouseDown,this)).off("mouseup",e.proxy(this.mouseUp,this)).off("click",e.proxy(this.click,this)).off("mouseenter","a",e.proxy(this.mouseEnter,this)).remove()}},u.AIRPORT=1,u.CITY=2,u.MULTICITY=4,u.NEIGHBORHOOD=8,u.POI=16,u.ADDRESS=32,u.METROCODE=64,u.HOTEL=128,u.MULTIREGION=256,u.TRAINSTATION=512,u.METROSTATION=1024,u.REGIONTYPE={ALL:31,AIRPORT:1,CITIES:2},u.LOB={HOTELS:"HOTELS",PACKAGES:"PACKAGES",FLIGHTS:"FLIGHTS"},u.CATEGORIES={CITY:{id:0,name:"Region/City",icon:"location"},ATTRACTION:{id:1,name:"Attractions",icon:"location"},AIRPORT:{id:2,name:"Airports",icon:"flights"},HOTEL:{id:3,name:"Hotels",icon:"hotels"},ADDRESS:{id:4,name:"Address",icon:"location"},TRAINSTATION:{id:5,name:"Train Station",icon:"train"},METROSTATION:{id:6,name:"Metro Station",icon:"train"},MULTICITY:{id:7,name:"Region/City",icon:"location"},NEIGHBORHOOD:{id:8,name:"Region/City",icon:"location"},METROCODE:{id:9,name:"Airports",icon:"flights"},POI:{id:11,name:"Attractions",icon:"location"},RENTAL:{id:12,name:"Rental locations",icon:"location"},DEALS:{id:13,name:"Deals",icon:"location"},AMENITY:{id:14,name:"Amenities",icon:"tag"}},r.prototype.ESS_ABACUS_IDS=[],r.prototype.clientIdByPageId={aws_Homepage:"AWSHomepage",Homepage:"Homepage","page.Flights":"FlightsLandingPage","page.Hotels":"HotelsLandingPage","page.Cars":"CarsLandingPage","page.Activities":"LXLandingPage","page.Packages":"PackageLandingPage","page.car.search.list":"Cars.Search","page.Car-Search":"Cars.Search","page.Flight-Search-Disambig":"Flights","page.Flight-Search-Roundtrip":"Flights","page.Flight-Search-Roundtrip.Out":"Flights","page.Flight-Search-Roundtrip.In":"Flights","page.Flight-Search-Oneway":"Flights","page.Package.FC.Flight-Search-Roundtrip.Out":"Packages.Search","page.Package.FC.Flight-Search-Roundtrip.In":"Packages.Search","page.Package.FC.Flight-Search-Roundtrip":"Packages.Search","page.Package.FC.Car-Search":"Packages.Search","page.Package.HC.Hotel-Search":"Packages.Search","page.Package.HC.Car-Search":"Packages.Search","page.HC.Package.Infosite.Information":"Packages.Search","page.FHC.Package-Search":"Packages.Search","page.Package.FHC.Hotel-Search":"Packages.Search","page.FHC.Package.Infosite.Information":"Packages.Search","page.Package.FHC.Flight-Search-Roundtrip.Out":"Packages.Search","page.Package.FHC.Flight-Search-Roundtrip.In":"Packages.Search","page.Package.FHC.Flight-Search-Roundtrip":"Packages.Search","page.Package-Change-Flight.Outbound":"Packages.Search","page.FHC.package-search.changeFlight.Roundtrip":"Packages.Search","page.Package.FHC.Car-Search":"Packages.Search","page.Package.FH.Hotel-Search":"Packages.Search","page.FH.Package.Infosite.Information":"Packages.Search","page.Package.FH.Flight-Search-Roundtrip":"Packages.Search","page.Package.FH.Flight-Search-Roundtrip.Out":"Packages.Search","page.Package.FH.Flight-Search-Roundtrip.In":"Packages.Search","page.Package-Search":"Packages.Search","page.Packages.Infosite.Information":"Packages.Search","page.package-search.changeFlight.Outbound":"Packages.Search","page.package-search.changeFlight.Roundtrip":"Packages.Search","page.Package.FH.Hotel-Search.Error":"Packages.Search","page.FH.Package-Search.Error":"Packages.Search","page.HC.Package-Search.Error":"Packages.Search","page.Package.HC.Hotel-Search.Error":"Packages.Search","page.FHC.Package-Search.Error":"Packages.Search","page.FHC.package-search.changeFlight.Outbound":"Packages.Search","page.FHC.package-search.changeFlight.Return":"Packages.Search","page.Package.FH.Hotel-Search.ChangeHotel":"Packages.Search","page.Package.FC.Car-Search-Dynamic":"Packages.Search","page.Package-Search.Error":"Packages.Search","page.FC.Package-Search.Error":"Packages.Search","Page.Packages.Disambig.Dest.CityandAirport":"Packages.Search","Page.Packages.Disambig.Dest.Airport":"Packages.Search","Page.Packages.Disambig.Origin.CityandAirport":"Packages.Search","Page.Packages.Disambig.Origin.Airport":"Packages.Search","Page.Package.HC.Disambig.Dest.CityandAirport":"Packages.Search","Page.Package.HC.Disambig.Dest.Airport":"Packages.Search","Page.Package.FHC.Disambig.Origin.CityandAirport":"Packages.Search","Page.Package.FHC.Disambig.Dest.CityandAirport":"Packages.Search","Page.Package.FHC.Disambig.Origin.Airport":"Packages.Search","Page.Package.FHC.Disambig.Dest.Airport":"Packages.Search","Page.Package.FC.Disambig.Origin.CityandAirport":"Packages.Search","Page.Package.FC.Disambig.Dest.CityandAirport":"Packages.Search","Page.Package.FC.Disambig.Dest.Airport":"Packages.Search","Page.Package.FC.Disambig.Origin.Airport":"Packages.Search","Page.Package.FH.Disambig.Origin.CityandAirport":"Packages.Search","Page.Package.FH.Disambig.Dest.CityandAirport":"Packages.Search","Page.Package.FH.Disambig.Origin.Airport":"Packages.Search","Page.Package.FH.Disambig.Dest.Airport":"Packages.Search"},r.prototype.defaultPageIdGetter=function(){var t=e("#pageId"),i=1===t.length?t.val():"";return i?i:""},r.prototype.getClientId=function(){var e="function"==typeof this.__pageIdGetter&&this.__pageIdGetter(),t=e&&r.prototype.clientIdByPageId[e];return t?t:"Unknown"},r.prototype.__getVariantAssignment=function(e){var t=this.__variantAssigner(e);return void 0===t?void 0:"".concat(e,".",t)},r.prototype.generateAbacusParameter=function(){function t(e){return"function"==typeof i.__getVariantAssignment?i.__getVariantAssignment(e):void 0}var i=this,n=[];return e(this.__essAbacusIds).each(function(e,i){var a=t(i);a&&n.push(a)}),n.length>0?n.join("|"):""},r.prototype.getSiteId=function(){return"undefined"!=typeof utag_data&&utag_data.siteId?utag_data.siteId:window.site_id?window.site_id:""},r.prototype.__getCookie=function(e){var t="; "+document.cookie,i=t.split("; "+e+"=");if(2==i.length)return i.pop().split(";").shift()},r.prototype.__getGuid=function(){var t=this.__getCookie("MC1"),i=t&&t.split("=");return e.isArray(i)&&2===i.length?i[1]:""},r.prototype.defaultVariantAssigner=function(){if(window.corewizard&&window.corewizard.searchExperiments)return window.corewizard.searchExperiments.getSearchExperimentVariantIfParticipating},r.defaultGenerator=new r(r.prototype.ESS_ABACUS_IDS,r.prototype.defaultVariantAssigner?r.prototype.defaultVariantAssigner():void 0,r.prototype.defaultPageIdGetter),t.registerHelper("each_with_key",function(e,t){var i,n,a="",o=t.hash.key;for(n in e)e.hasOwnProperty(n)&&(i=e[n],o&&(i[o]=n),a+=t.fn(i));return a}),u.defaultOptions={minchar:3,maxitems:20,version:"v2",locale:"en_US",abtest:"",mask:u.AIRPORT|u.CITY|u.MULTICITY|u.NEIGHBORHOOD|u.POI,lob:u.LOB.FLIGHTS,dest:!1,closetext:"Close",continuetext:"Continue typing to refine search",selectioncallback:null,tooltip:!0,forceicon:!1,serviceUrl:"//suggest.expedia.com",overrideServiceUrl:"",features:"",clientId:"",additionalDataSourceUrl:"",playBackText:"",openDefaultTa:!1,selectFirstElementByDefault:!1},e(function(){e("body").on("focus.typeahead",'[data-provide="typeahead"]',function(){var t=e(this);l(t)})}),window.uitkTypeahead=u,u}),define("uitk_tooltip",["uitk_domReady","jquery","uitk","uitk_plugins","uitk_pubsub","uitk_domutils","uitk_allyutils","uitk_events","uitk_onclick"],function(e,t,i,n,a,o,s){"use strict";function r(e,i){var n,a,o;this.element=t(e),i=i||{},n=this.element.data()||{},i.jsTheme?a=i.jsTheme:this.element.data("jsTheme")?a=this.element.data("jsTheme"):(a=i.trigger||n.trigger||y.trigger,n.jsTheme=a),o=k[a]||{},this.options=t.extend(!0,{},y,o,n,i),this.options.vPos=this.options.pos.charAt(0),this.options.hPos=this.options.pos.charAt(1),this.options.delay&&"number"==typeof this.options.delay&&(this.options.delay={show:this.options.delay,hide:this.options.delay}),this.init()}var l,c,u="uitk_tooltip",d=t(window),h=t("body"),p=t(document),f="active-tooltip",g="fade",m="hideOffScreen",v=parseFloat(h.css("min-width"),10),b=v>950||"false"===Modernizr.mediaqueries||Modernizr.mediaqueries===!1,y={arrow:!0,delay:0,fade:"out",pos:"tc",showTooltip:!0,posClass:{arrow:"show-arrow",t:"top",b:"bottom",m:"mid",mTop:"mid-top",mBottom:"mid-bottom",l:"left",r:"right",c:"center"},posOffset:3,template:'<div class="uitk-tooltip"><div class="tooltip-inner"></div><span class="tooltip-arrow"></span></div>',textAlign:"left",trigger:"click",width:288,hideOffScreen:!1,announce:!0},k={standard:{},"standard-inverse":{},hover:{delay:150,pos:"tc",trigger:"hover",width:"auto"},calendar:{delay:{show:0,hide:0},pos:"bl",posOffset:-6,trigger:"focus",width:477,hideOffScreen:!1,announce:!1},typeahead:{delay:{show:0,hide:0},pos:"bl",posOffset:-6,preventFlip:!0,width:390,hideOffScreen:!1,announce:!1},"typeahead-by-category":{delay:{show:0,hide:0},pos:"bl",posOffset:-6,preventFlip:!0,width:480,hideOffScreen:!1,announce:!1}},w=i.isTouchDevice;k["calendar-button"]=k.calendar,l=function(e){var i,n=t("."+f);for(i=n.length-1;i>=0;i-=1){var a=n.eq(i),o=a.hasClass("theme-typeahead")||a.hasClass("theme-typeahead-by-category");if(!(o||e&&a[0]===e[0])){var s=a.data("trigger"),r=t(s).data(u);r&&r.hide(!0,void 0)}}},a.subscribe("modal.appended",l),r.prototype={constructor:r,init:function(){var e=this.options,t=e.posClass,i=this.element.closest(".uitk-tooltip-container");this.isShowing=!1,this.posClasses=this.getPosClasses(t),this.content=this.getContent(),e.content&&(this.ariaData=e.tooltipId||"tooltip"+(new Date).getTime()),this.manual=e.manual||"none",0===i.length?this.$potentialContainer=d:(this.$potentialContainer=i,this.$potentialContainerNotWindow=!0)},getPosClasses:function(e){var t="";for(var i in e)e.hasOwnProperty(i)&&"arrow"!==i&&(t=t+e[i]+" ");return t},getContent:function(){var e,i,n,a=this.options;return a.content&&"string"==typeof a.content?e=a.header?"<"+a.headingLevel+' class="hd">'+a.header+"</"+a.headingLevel+'><p class="secondary">'+a.content+"</p>":'<p class="secondary">'+a.content+"</p>":a.content&&"object"==typeof a.content?e=a.content:(a.contentId?i=t("#"+a.contentId):(n=this.element.attr("href"),n&&(n=n.replace(window.location.href.split("#")[0],"")),i=t(n)),e=i.html()),e},makeVisible:function(){this.tooltip.css({visibility:"visible"})},makeInvisible:function(){if(i.isTouchDevice){var e=document.documentElement.clientWidth/window.innerWidth;if(e>1.01)return}this.tooltip&&this.tooltip.css&&this.tooltip.css({visibility:"hidden"})},generateTooltip:function(){var e=this,i=this.options,n=t(i.template),a=this.ariaData,o="click"===i.jsTheme||"calendar"===i.jsTheme||"calendar-button"===i.jsTheme||"typeahead"===i.jsTheme||"typeahead-by-category"===i.jsTheme,s=17;return n.find(".tooltip-inner").prepend(this.content),n.find(".tooltip-inner p:last").addClass("last"),n.addClass(f).css({width:i.width/s+"em","text-align":i.textAlign,visibility:"hidden"}).data("trigger",e.element),i.jsTheme&&(n.addClass("theme-"+i.jsTheme),o&&n.addClass("theme-standard")),!i.fade||i.fade!==!0&&"true"!==i.fade||n.addClass(g),i.arrow&&n.addClass(i.posClass.arrow),i.tooltipClasses&&n.addClass(i.tooltipClasses),!i.hideOffScreen||i.hideOffScreen!==!0&&"true"!==i.hideOffScreen||n.addClass(m),"typeahead"!==i.jsTheme&&"typeahead-by-category"!==i.jsTheme&&n.attr("role","tooltip"),a?n.attr("id",a):i.tooltipId&&n.attr("id",i.tooltipId),"hover"!==e.options.trigger||w||n.find(".close").remove(),n},show:function(e,i){var n,o,r,f=this,m=this.options,v=d;if(this.$potentialContainerNotWindow&&(r=this.$potentialContainer.css("overflow-y"),o=this.$potentialContainer.parent().css("overflow-x"),"scroll"!==o&&"auto"!==o&&"scroll"!==r&&"auto"!==r||(v=this.$potentialContainer)),n=v===d?h:v,this.$containerNotWindow=v!==d,this.$container=v,("open"===this.options.manual||"both"===this.options.manual)&&e)return void a.publish("tooltip.beforeOpen",f.element,i);if(this.isShowing=!0,this.hideTimeout&&clearTimeout(this.hideTimeout),f.tooltip&&0!==f.tooltip.closest("html").length)l(f.tooltip);else{if(l(),f.tooltip=f.generateTooltip(),f.tooltipArrow=f.tooltip.find(".tooltip-arrow"),"typeahead"===m.jsTheme||"typeahead-by-category"===m.jsTheme){var b=t("#uitk_ta_content"),y=b.length;y>0?f.tooltip.appendTo(b):f.tooltip.appendTo("body")}else f.tooltip.appendTo(n),this.$containerNotWindow&&this.$container.on("scroll."+u+".container",function(){c()});this.changePos(),f.setPos(),f.checkPos(!1,!0)}setTimeout(function(){f.tooltip.addClass("on"),m.fade&&"out"===m.fade&&setTimeout(function(){f.tooltip.addClass(g)},10),m.announce&&s.liveAnnounce(f.content,"polite"),a.publish("tooltip.open",f.element,i),p.on("keydown.tooltip",function(e){27===e.keyCode&&f.hide(!0,e)})},m.delay.show)},hide:function(e,i){var n,o=this,s=t("input[aria-activedescendant]");return s.length>0&&s.removeAttr("aria-activedescendant"),"close"!==this.options.manual&&"both"!==this.options.manual||!e?(this.isShowing=!1,this.showTimeout&&clearTimeout(this.showTimeout),this.tooltip&&(n=this.tooltip,this.hideTimeout=setTimeout(function(){n.removeClass("on"),a.publish("tooltip.hidden",o.element),setTimeout(function(){n.hasClass("on")||o.isShowing||n.remove()},100)},this.options.delay.hide)),t("#uitk-live-announce").empty(),p.off("keydown.tooltip"),void(this.$containerNotWindow&&this.$container.off("scroll."+u+".container"))):void a.publish("tooltip.beforeClose",o.element,i)},setPos:function(e,t){var i=this.options,n=e||i.vPos,a=t||i.hPos,o=this.getPos(n,a),s=parseInt(this.tooltip.find(".tooltip-arrow").outerWidth());this.tooltip.css({left:o.left,top:o.top}),"c"===i.hPos&&(o.leftShift=o.leftShift-Math.floor(s/2)),this.tooltip.find(".tooltip-arrow").css({"margin-left":o.leftShift,"margin-right":o.rightShift})},getTopPos:function(e,t){var i,n,a,s=o.getPosition(t),r=this.$containerNotWindow?this.$container.offset():{top:0,left:0},l=s.top-r.top,c=t.outerHeight(),u=this.options.posOffset,d=this.tooltip,h=this.tooltipArrow;return i=d.outerHeight(),"t"===e?n=l-i-u:"m"===e?n=l+c/2-i/2:"mTop"===e?(a=Math.round(h.outerHeight()),n=l+c+a+u-i):"mBottom"===e?(a=Math.round(h.outerHeight()),n=l-a-u):"b"===e&&(n=l+c+u),n},getContainerWidth:function(){var e=this.$containerNotWindow?16:0;return this.$container.width()-e},getLeftPos:function(e,t,i){var n,a,o,s,r,l,c,u,d=i.offset(),h=this.$containerNotWindow?this.$container.offset():{top:0,left:0},p=d.left-h.left,f=i.outerWidth(),g=this.options.posOffset,m=this.tooltip;return u=m.outerWidth(),"c"===e?(r=p+f/2-u/2,l=p+f/2+u/2,c=this.getContainerWidth(),r<0?(a=r,n=0):l>c?(a=b?0:l-c,n=p+f/2-u/2-a):n=p+f/2-u/2):"r"===e?"m"===t||"mTop"===t||"mBottom"===t?n=p+f+g:(s=p-u+f,s>0?n=s:(o=-s,n=0)):"l"===e&&("m"===t||"mTop"===t||"mBottom"===t?n=p-u-g:(s=u+p,c=this.getContainerWidth(),s<c?n=p:(a=b?0:s-c,n=p-a))),{left:n,leftShift:a,rightShift:o}},getPos:function(e,t){var i,n={},a=this.options,o=a.posClass,s=e||a.vPos,r=t||a.hPos,l=this.element,c=this.tooltip;return n.leftShift=0,n.rightShift=0,c.removeClass(this.posClasses),c.addClass(o[s]+" "+o[r]),n.top=this.getTopPos(s,l),i=this.getLeftPos(r,s,l),n.left=i.left,i.leftShift&&(n.leftShift=i.leftShift),i.rightShift&&(n.rightShift=i.rightShift),n},changePos:function(){if(2===this.options.pos.length);else for(var e=this.options.pos.split(","),t=0,i=this.getContainerWidth(),n=conditionizr.ie8,a=0;a<e.length;a++)e[a].length>2&&!n?(e[a]=e[a].trim(),t=parseInt(e[a].substring(3,e[a].length)),i<=t&&(this.options.vPos=e[a].charAt(0),this.options.hPos=e[a].charAt(1))):(this.options.vPos=this.options.pos.charAt(0),this.options.hPos=this.options.pos.charAt(1))},testTopPos:function(e,t,i,n,a,o){return"mBottom"===n?a.top+o>i:e+t>i},testBottomPos:function(e,t,i,n,a,o){var s=i+n;return"mTop"===a?o.top<s:e-t<s},testLeftPos:function(e,t,i){return e+t>i},testRightPos:function(e,t,i,n){return e-t<i+n},checkPos:function(e,t,i,n){if(this.tooltip&&this.tooltip instanceof jQuery){var a=i||this.options.vPos,s=n||this.options.hPos;if(this.makeInvisible(),this.options.preventFlip)return this.changePos(),this.setPos(a,s),void this.makeVisible();var r=this.getPos(a,s),l=this.tooltip,c=this.$container||d,u=parseInt(l.css("padding-left"),10),h=parseInt(l.css("padding-top"),10),p=r.top,f=r.left,g=f+l.outerWidth(),m=p+l.outerHeight(),v=c.scrollTop(),y=c.scrollLeft(),k=c.height(),w=c.width(),C=this.element,T=o.getPosition(C),P=C.outerHeight(),S=this.testTopPos(p,h,v,i,T,P),_=this.testBottomPos(m,h,v,k,i,T),D=this.testLeftPos(f,u,y),I=this.testRightPos(g,u,y,w),x=!1;if((S||!S&&"mTop"===a)&&(_||!_&&"mBottom"===a)&&D&&I)return e&&(this.changePos(),this.setPos(a,s)),void this.makeVisible();"m"===a?"l"!==s||D?"r"!==s||I||(s="l",x=!0):(s="r",x=!0):"l"!==s||I?"r"!==s||D&&!b?"c"!==s||I&&D||(s="c",x=!0):(s="r",x=!0):(s="l",x=!0),"t"!==a||S?"b"!==a||_?"m"===a&&(S&&!_?(a="mTop",x=!0):_&&!S&&(a="mBottom",x=!0)):(a="t",x=!0):(a="b",x=!0),x?(this.changePos(),this.setPos(a,s),t?this.checkPos(!1,!1,a,s):this.makeVisible()):this.options.hideOffScreen||this.makeVisible()}},updateContent:function(e){e&&"string"==typeof e?this.content='<p class="secondary">'+e+"</p>":e&&"object"==typeof e&&(this.content=e)}},n.initPlugin(u,r);var C=s.createUniqueId();h.on("click",'[data-control="tooltip"]',{eventId:C},function(e){var i=t(e.target).closest('[data-control="tooltip"]'),n=i.data("trigger"),a=k[i.data("jsTheme")],o=i.data("showTooltip");(n&&"hover"!==n||!n&&a&&"hover"!==a.trigger||i.attr("href")&&"#"===i.attr("href").charAt(0))&&("hover"!==n||"hover"===n&&o===!0)&&(i[u]("show",!0,e),e.preventDefault())});var T=function(e,i,n){var a=t(e.target).closest('[data-control="tooltip"]'),o=a.data("trigger"),s=k[a.data("jsTheme")];(o===i||!o&&s&&s.trigger===i)&&(e.preventDefault(),a[u](n))};return h.on("uitkMouseenter."+u+" focus."+u,'[data-control="tooltip"]',{eventId:C},function(e){T(e,"hover","show",!0,e)}),h.on("uitkMouseleave."+u+" blur."+u,'[data-control="tooltip"]',{eventId:C},function(e){T(e,"hover","hide",!0,e)}),h.on("focus."+u,'[data-control="tooltip"]',function(e){T(e,"focus","show",!0,e)}),h.on("blur."+u,'[data-control="tooltip"]',function(e){T(e,"focus","hide",!0,e)}),h.on("click",".active-tooltip .close",function(e){var i=t(e.target).closest(".active-tooltip");e.preventDefault(),i.data("trigger")[u]("hide",!0,e)}),p.on("click focusin."+u,function(e){if("focusin"!==e.type||s.isFocusableElement(t(e.target))){var i=t(e.target).closest('[data-control="tooltip"]');i.length<=0&&(i=t(e.target)),"tooltip"===i.data("control")||"calendar"===i.data("control")||"calendar-button"===i.data("control")||i.hasClass(f)||0!==i.closest("."+f).length||l()}}),c=function(){var e,i=t("."+f);for(e=i.length-1;e>=0;e-=1)"hidden"===t(i.eq(e).data("trigger")).css("visibility")?t(i.eq(e).data("trigger"))[u]("hide",!0,!0):t(i.eq(e).data("trigger"))[u]("checkPos",!0,!0)},d.on("scroll."+u+" resize."+u,function(){c()}),i.tooltips={hideAll:l},i.modules.Tooltip=r,r}),define("uitk_tabs",["uitk_domReady","jquery","uitk_plugins","uitk_i18n","uitk_pubsub","uitk_allyutils"],function(e,t,i,n,a,o){"use strict";function s(e,i){var n,a=this;a.element=t(e),a.tabs=a.element.find(".tabs li"),i=i||{},n=a.element.data()||{},a.options=t.extend({},f,n,i),a.init()}function r(){t("[data-control=tabs]")[l]()}var l="uitk_tabs",c=t("body"),u=window.location.pathname+"_"+l,d=Modernizr.sessionstorage,h=Modernizr.hashchange,p="on",f={initialTab:0,hashSuffix:"tab",history:!1,tabState:!0};return s.prototype={init:function(){var e,i,n=this;for(n.element.attr("data-control","tabs"),n.tabsContent=t(),i=n.tabs.length;i>0;i-=1){var a=n.tabs.eq(i-1),o=n.getContentElem(a);a.data("content",o),n.tabsContent=n.tabsContent.add(o)}n.tabs.find("button[data-initial-tab]").length>0&&(n.stopInitSelection=!0),h&&t(window).on("hashchange."+l,function(){var e=n.getNextTab();e&&n.showTab(e)}),e=n.getNextTab(!0),e&&n.doShowTab(e,!0)},selectTab:function(e){var t=this;h&&t.options.history?window.location.hash=e.data("section-id")+"_"+t.options.hashSuffix:t.showTab(e.closest("li"))},getContentElem:function(e){var t=this,i=e.find("button").data("section-id");return t.element.find(i)},getNextTab:function(e){var t,i,n,a,o,s=this,r=s.options,l=s.tabs,c=window.location.hash,h=new RegExp("_"+r.hashSuffix+"$"),p=l.find('button[data-section-id="'+c.replace(h,"")+'"]');if(e&&d&&r.tabState&&(i=sessionStorage.getItem(u)))for(t=JSON.parse(i),o=t.length-1;o>=0;o-=1)if(n=l.find('button[data-section-id="'+t[o]+'"]'),n.length>0)return n.parent();return c&&p.length>0?a=p.parent():e&&!s.stopInitSelection&&(a=r.initialTab+1<=l.length?l.eq(r.initialTab):l.eq(0)),a},showTab:function(e,t){var i=this;i.doShowTab(e,t),a.publish("tab.selected",e)},doShowTab:function(e,t){var i=this,n=e.data("content");i.tabsContent.removeClass(p),i.tabs.find("button").removeClass(p),e.find("button").addClass(p),i.tabs.find(".selected").appendTo(e.find(".visuallyhidden")),n&&n.addClass(p),t||(i.storeState(),e.find("button").trigger("focus"))},storeState:function(){var e,i,n,a=this;if(d&&a.options.tabState){for(i=[],e=t(".tabs button."+p),n=e.length-1;n>=0;n-=1)i.push(e.eq(n).data("section-id"));sessionStorage.setItem(u,JSON.stringify(i))}}},i.initPlugin(l,s),r(),a.subscribe("tab.init",function(){r()}),c.on("click."+l,"[data-control=tabs] .tabs button",function(e){var i=t(e.target).closest("button");i.closest("[data-control=tabs]")[l]("selectTab",i),o.liveAnnounce(n.t("selected"),"polite")}),c.on("keydown."+l,"[data-control=tabs] .tabs button",function(e){var i,n,a=t(e.target),o=e.keyCode;if(37===o||38===o)if(i=a.parent().prev(),i.length>0){if(i.find(">button").trigger("focus"),38===o)return void e.preventDefault()}else 37===o&&a.closest(".tabs").find("li:last>button").trigger("focus");else if(39===o||40===o)if(n=a.parent().next(),n.length>0){if(n.find(">button").trigger("focus"),40===o)return void e.preventDefault()}else 39===o&&a.closest(".tabs").find("li:first>button").trigger("focus");else 13!==o&&32!==o||(a.trigger("click"),e.preventDefault())}),s}),define("uitk_toggle",["uitk_domReady","jquery","uitk_plugins","uitk_i18n","uitk_pubsub","uitk_allyutils"],function(e,t,i,n,a,o){"use strict";function s(e,t){i.newModule.call(this,e,t,v)}var r="uitk_toggle",l=t("body"),c="open",u="after-open",d="viewed",h="toggle",p="open",f="closed",g=t(".pattern-playback"),m=t(".playback-search"),v={transition:"fade"},b=Modernizr.csstransitions,y=conditionizr.ie8||conditionizr.ie9;s.prototype={constructor:s,init:function(){var e=this.element,i=this.options,s=this,r="undefined"!==e[0].getAttribute("data-announce-text")?e[0].getAttribute("data-announce-text"):null,l=void 0!==e.attr("href")?e.attr("href"):e.data("content-ref");this.content=t(i.contentId?"#"+i.contentId:l),this.parent=this.content.closest("."+h),this.options.expandText=this.options.expandText||e.html(),this.options.collapseText=this.options.collapseText||e.html(),this.options.toggleText=this.options.toggleText||e.html(),y&&(this.options.transition="none"),"read-more"===this.parent.data("type")?(this.isReadMore=!0,this.closedHeight=this.content.height(),this.readMoreItems=this.content.find(".rm-hide"),this.ellipse=this.content.find(".ellipse"),this.content.css({height:this.closedHeight})):this.closedHeight=0,this.hasTransitions=b&&"slide"===i.transition,this.hasTransitions&&s.parent.addClass(i.transition),this.parent.hasClass(c)||this.content.hasClass(c)?(this.state=p,this.content.css({visibility:"visible"})):(this.state=f,s.content.css({visibility:"hidden"})),this.accordion=e.closest("[data-control=accordion]"),this.accordion.length>0&&(this.siblings=this.accordion.find('[data-control="toggle"]').not(e)),this.hasTransitions&&this.content.on("transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",function(){s.state===p?s.content.hasClass(i.transition)&&(s.content.removeClass(i.transition).css({height:"auto"}),a.publish("toggle.opened",s.element)):s.state===f&&s.content.hasClass(i.transition)&&(s.closeEnd(),s.content.removeClass(i.transition))}),r&&(a.subscribe("toggle.opened",function(t,i){i[0]===e[0]&&o.liveAnnounce(r+" "+n.t("expanded")+".","polite")}),a.subscribe("toggle.closed",function(t,i){i[0]===e[0]&&o.liveAnnounce(r+" "+n.t("collapsed")+".","polite")}))},setOpenHeight:function(){var e,t=this.content;e=this.hasTransitions?t[0].scrollHeight||1:"",t.css({height:e,opacity:1}),this.isReadMore&&this.readMoreItems.css({opacity:1})},open:function(e,i){var n,s=this;return"open"!==this.options.manual&&"both"!==this.options.manual||!e?void(this.state!==p&&(n=function(){var e,n,l;e=0,s.state=p,s.accordion.length>0&&s.siblings.each(function(){var i=t(this);i.hasClass(c)&&("fade"===s.options.transition&&(e=125),i[r]("close"))}),n=function(e){var t=e[0].style.display;e[0].style.display="inline-block",e[0].offsetHeight,e[0].style.display=t},void 0!==i&&void 0!==i.target&&(l=i.target.getAttribute("data-focus-id")),setTimeout(function(){s.content.css({visibility:"visible"}),s.isReadMore?(s.readMoreItems.removeClass("rm-hide").addClass("rm"),s.ellipse.hide(),n(t(s.content)),o.focusElement(s.readMoreItems)):s.content.removeAttr("aria-hidden"),void 0!==s.options.collapseText?s.element.html(s.options.collapseText):s.element.html(s.options.toggleText),s.setOpenHeight();var e=s.element.closest(g);if(e.length>0&&e.find(m).attr({"aria-expanded":"true"}),s.element.removeClass(d).addClass(c).attr({"aria-expanded":"true"}),s.content.removeClass(d).addClass(c),s.parent.removeClass(d).addClass(c),s.parent.next().addClass(u),s.hasTransitions||a.publish("toggle.opened",s.element),l){var i="#"+l;o.focusElement(t(i))}},e)},this.closedHeight=this.content.height(),this.state!==p&&(this.isReadMore&&this.content.css({height:this.closedHeight}),s.hasTransitions||"fade"===s.options.transition&&!this.isReadMore?setTimeout(function(){s.content.addClass(s.options.transition),n()},10):n()))):void a.publish("toggle.beforeOpen",s.element,i)},close:function(e,t){var i,n=this,o=n.options.transition;return"close"!==this.options.manual&&"both"!==this.options.manual||!e?(i=function(){var e=n.element.closest(g),t=n.element.removeClass(c).addClass(d);t.attr("role");n.state=f,"fade"!==o||n.isReadMore?"fade"===o&&n.isReadMore?(n.content.css({opacity:1}),n.readMoreItems.css({opacity:0})):n.isReadMore?n.content.css({height:n.closedHeight,opacity:1}):(n.content.css({height:0,opacity:0}),n.content.attr({"aria-hidden":"true"})):(n.content.css({opacity:0}),n.content.attr({"aria-hidden":"true"})),e.length>0&&e.find(m).attr({"aria-expanded":"false"}),n.element.removeClass(c).addClass(d).attr({"aria-expanded":"false"}),n.content.removeClass(c).addClass(d),n.parent.removeClass(c).addClass(d),"slide"!==o&&n.closeEnd()},void(n.state!==f&&(this.setOpenHeight(),n.hasTransitions?setTimeout(function(){n.content.addClass(o),n.element.html(n.options.expandText),setTimeout(i,10)},10):(n.element.html(n.options.expandText),i())))):void a.publish("toggle.beforeClose",n.element,t)},closeEnd:function(){this.isReadMore?(this.readMoreItems.removeClass("rm").addClass("rm-hide"),"slide"===this.options.transition&&this.content.css({height:"auto"}),this.ellipse.show()):this.content.css({visibility:"hidden"}),this.parent.next().removeClass(u),a.publish("toggle.closed",this.element)},toggle:function(e,t){this.state===p?this.close(e,t):this.open(e,t)}},i.initPlugin(r,s);var k=function(e){e.preventDefault();var i=t(e.target).closest('[data-control="toggle"]');i[r]("toggle",!0,e)};return l.on("click",'[data-control="toggle"]',function(e){k(e)}),l.on("keyup",'[data-control="toggle"]',function(e){var t="BUTTON"===e.target.tagName||"A"===e.target.tagName;(32===e.keyCode||!t&&13===e.keyCode)&&k(e)}),uitk.modules.Toggle=s,s}),define("uitk_offCanvasToggle",["uitk_domReady","jquery","hammer","uitk","uitk_i18n","uitk_plugins","uitk_pubsub","uitk_allyutils","uitk_focus"],function(e,t,i,n,a,o,s,r,l){"use strict";function c(e,t){o.newModule.call(this,e,t,w)}var u="uitk_offCanvasToggle",d=t("body"),h="off-canvas-inner",p="off-canvas-outer",f="off-canvas-open",g=".site-content",m="off-canvas-overlay",v="off-canvas-sr-close",b="open",y="closed",k='[data-control="off-canvas-toggle"]',w={maxWidth:"959",toHideStartElem:document.getElementsByTagName("body")[0]},C="click."+u,T=new l,P=T.focusEvent();return c.prototype={constructor:c,init:function(){var e=this,o=t(g);if("right"===e.options.side?e.wrapperClass=p:e.wrapperClass=h,e.options.maxWidth=e.options.maxWidth/16,o.hasClass(e.openClass)?e.state=b:e.state=y,e.toHideStartElem=e.options.toHideStartElem,e.sidebar=t(e.options.target),e.control=t(k),s.subscribe("off-canvas.close",e,e.close),e.toHide=e.findElementsToHideInit(e.toHideStartElem,e.sidebar[0]),0===o.children("."+m).length&&(e.overlay=t("<div />").addClass(m).appendTo(o)),0===e.sidebar.children("."+v).length&&(e.closeBtn=t("<button />",{type:"button","class":v,text:a.t("off_canvas_close")}).appendTo(e.sidebar)),n.isTouchDevice){var r=new i(d[0]);r.on("swipe",function(i){var n=i.deltaX>0?"right":"left";e.state===b&&n===e.options.side&&e.close(null,t("."+m))})}},setPos:function(e){var t=this,i=t.sidebar,n=i[0].offsetTop,a="(max-width: "+t.options.maxWidth+"em)";Modernizr.mq(a)?i.css({transform:"translateY("+-n+"px)"}):i.css({transform:"translateY(0)"})},removePos:function(e){var t=this,i=t.sidebar;i.css({transform:"translateY(0)"})},open:function(e,i){var n=this,a=t(g);a.addClass(n.wrapperClass),n.setPos(),setTimeout(function(){a.addClass(f),s.publish("off-canvas.stateChanged",b,i)},50),n.state=b,n.announceToggleState(),s.publish("off-canvas.stateChanged",b,i),n.focusAside(),n.enableFocusHandling(),n.toggleAriaHidden(),s.subscribe("debounced.resize",n,n.setPos),s.subscribe("debounced.resize",n,n.toggleAriaHidden)},close:function(e,i){var n=this,a=t(g);n.state!==y&&(a.removeClass(f),a.removeClass(n.wrapperClass),n.state=y,n.announceToggleState(),s.publish("off-canvas.stateChanged",y,i),r.focusElement(t(k)),n.disableFocusHandling(),n.toggleAriaHidden(),n.removePos(),s.unsubscribe("debounced.resize"))},toggle:function(e){var t=this;t.state===b?t.close(null,e):t.open(null,e)},findElementsToHideInit:function(e,t){var i,n,a,o,s,r=this;for(i=r.findElementsToHide(e,t),n=i.childrenToProcess;i.targetContainer!==i.target;)for(i=r.findElementsToHide(i.targetContainer,t),a=i.childrenToProcess.length,s=0;s<a;s++)o=i.childrenToProcess[s],n.push(o);return n;
},findElementsToHide:function(e,i){var n,a,o,s={childrenToProcess:[],targetContainer:!1,target:i},r=t(e).children(),l=r.length;for(o=0;o<l;o++)n=r[o],a=n.contains(i),a?s.targetContainer=n:n.attributes["aria-hidden"]||"SCRIPT"===n.nodeName||"uitk-live-announce"===n.id||s.childrenToProcess.push(n);return s},toggleAriaHidden:function(){var e,t,i=this,n="(max-width: "+i.options.maxWidth+"em)",a=i.toHide,o=a.length,s="aria-hidden";if(!window.isIE8)if(i.state===b&&Modernizr.mq(n))for(t=0;t<o;t++)e=a[t],e.setAttribute(s,!0);else for(t=0;t<o;t++)e=a[t],e.removeAttribute(s)},enableFocusHandling:function(){var e=this,t=e.sidebar;T.setFocusContextSelector(t);T.enable(),e.token=s.subscribe(P,e,e.onFocusCapture)},disableFocusHandling:function(){var e=this;T.disable(),s.unsubscribe(P,e.token)},onFocusCapture:function(e,t){var i=this;t.isContainedInContext||t.container===t.focused||i.close()},announceToggleState:function(){var e=this,t=(e.control,r.liveAnnounce),i=(e.targetLabel,{open:e.options.openmessage||a.t("off_canvas_toggle_opened"),close:e.options.closemessage||a.t("off_canvas_toggle_closed")});e.state===b?t(i.open,"polite"):t(i.close,"polite")},focusAside:function(){var e,t=this,i=t.sidebar,n=i.find("h1, h2, h3, h4, h5, h6, legend, input").not(".visuallyhidden").eq(0);e=n.length>0?n:i,r.focusElement(e)}},o.initPlugin(u,c),d.on(C,'[data-control="off-canvas-toggle"]',function(e){var i=t(e.target).closest('[data-control="off-canvas-toggle"]');e.preventDefault(),i[u]("toggle",i)}),d.on(C,"."+m,function(e){e.preventDefault(),e.stopPropagation(),s.publish("off-canvas.close",t(e.target).closest("."+m))}),d.on(C,'[data-control="remove"]',function(e){e.preventDefault(),e.stopPropagation(),s.publish("off-canvas.close")}),d.on(C,"."+v,function(e){e.preventDefault(),e.stopPropagation(),s.publish("off-canvas.close")}),n.modules.OffCanvasToggle=c,c}),define("uitk_media",["uitk_domReady","jquery","uitk","uitk_pubsub","uitk_videohelpers","uitk_hbsutils"],function(e,t,i,n,a,o){"use strict";function s(e,i){var n,a=this;a.element=t(e),i=i||{},n=a.element.data()||{},a.options=t.extend(!0,{},m,n,i),a.svgFallback=a.element.attr("data-svgFallback"),a.init()}function r(e,i){var n,a=this;a.element=t(e),i=i||{},n=a.element.data()||{},a.options=t.extend(!0,{},m,n,i),a.options.lazy=!0,a.init()}function l(e,i){var n,a=this;a.element=t(e),i=i||{},n=a.element.data()||{},a.options=t.extend(!0,{},v,n,i),a.init()}i.media={};var c,u,d,h,p,f,g="uitk_media",m={downgrade:!1},v={mediaOptions:{}},b=0,y=Modernizr.csstransitions,k=t(window),w=k.scrollTop(),C=1,T=10,P=!0;return s.prototype={constructor:s,init:function(){var e=this,t=e.options,n=t.src;if(t.alt=t.alt||"",t.lazy||t.late){var a=Modernizr.svg;!a&&e.svgFallback&&(n=e.svgFallback),e.lazyLoaded=!1,e.initialAspectRatio=t.aspectRatio||"16-9",e.imgSrc=n?e.createFullUrl(n,t.path):"",e.currentImg="",e.isContentSlider=e.element.closest('[data-control="content-slider"]').length>0,e.isCarousel=e.element.closest('[data-control="uitk-carousel"]').length>0,e.isMediaViewer=e.element.closest('[data-control="media-viewer"]').length>0,t.srcset&&i.isResponsive&&(e.imgSrcsetArr=e.parseSrcset(t.srcset,Modernizr.highres,t.path),e.responsive=!0,e.largestIsLoaded=!1)}},createFullUrl:function(e,t){return e.indexOf("//")===-1&&t&&"noimage"!==e?t+e:e},parseSrc:function(e,i){var n,a=t.trim(e).split(" "),o=a.length,s={retina:!1};for(s.url=this.createFullUrl(a[0],i),n=1;n<o;n+=1){var r=a[n];"w"===r[r.length-1]?s.width=parseInt(r,10):"1-1"===r||"3-2"===r||"4-3"===r||"16-9"===r?s.ratio=r:"2x"===r&&(s.retina=!0)}return s},parseSrcset:function(e,t,i){var n,a,o=this,s=e.split(","),r=e.split(",").length,l=[];for(a=0;a<r;a+=1){var c=o.parseSrc(s[a],i);l.push(c)}for(l.sort(function(e,t){var i=1e5,n=e.width||i,a=t.width||i;return n-a}),n=l.length,a=n-1;a>0;a-=1)l[a].width===l[a-1].width&&(l[a].retina!==t?l.splice(a,1):l.splice(a-1,1));return l},getImgToLoad:function(e,t,i){var n,a;if(!e||!i)return{url:t};for(n=e.length,a=0;a<n;a+=1)if(Modernizr.mq("(max-width:"+e[a].width/16+"em)"))return e[a];return e[n-1]},preloadImg:function(e,t,i){var a=this,o=new Image;o.onload=function(){t(),n.publish("image.loaded",{element:a.element})},i&&(o.onerror=function(){i(),n.publish("image.errored",{element:a.element})}),e?o.src=e:o.onerror()},removeSmallerImages:function(e){var i=this,n=i.imgSrcsetArr,a=1/0,o=!0;if(n&&e){var s,r=n.length;for(s=0;s<r;s+=1)if(n[s].url===e){a=n[s].width||a;break}return i.imgSrcsetArr=t.map(n,function(t){return void 0!==t.width&&t.width<a&&"noimage"!==t.url&&(t.url=e),o=o&&"noimage"!==t.url,t}),i.largestIsLoaded=o,i.imgSrcsetArr}},updateImgSrc:function(e){var t=this;t.image.src=e,t.image.removeAttribute("height"),t.image.removeAttribute("width")},updateRatio:function(e,t){var i=this;i.isMediaViewer||(e.removeClass("aspect-ratio1-1 aspect-ratio3-2 aspect-ratio4-3 aspect-ratio5-4 aspect-ratio16-9"),t?e.addClass("aspect-ratio"+t):e.addClass("aspect-ratio"+i.initialAspectRatio))},embedImage:function(e,t,i,n){var a=this,o=e.url;o&&a.currentImg===o||(a.currentImg=o,a.preloadImg(o,function(){a.currentImg===o&&(a.lazyLoaded?a.updateImgSrc(o):(a.lazyLoaded=!0,n.removeClass("no-image"),n.addClass("loading"),a.image=window.document.createElement("img"),a.image.alt=t,a.image.className=i,a.image.onload=function(){setTimeout(function(){n.removeClass("loading")},10)},a.updateImgSrc(o),n.prepend(a.image)),a.responsive&&(a.options.downgrade?a.updateRatio(n,e.ratio):a.removeSmallerImages(o)))},function(){a.lazyLoaded||(n.removeClass("loading"),n.addClass("no-image"),a.responsive||(a.lazyLoaded=!0))}))},lazyLoad:function(e){var t=this,n=t.options,a=t.isContentSlider,o=t.isCarousel,s=t.element;if(!t.lazyLoaded||t.responsive||n.late){var r;if("none"===s.css("display")||"hidden"===s.css("visibility")&&n.lazy)return;if(t.isMediaViewer&&!s.hasClass("current")&&!e)return;if(!a||!o||a&&s.closest(".current-tile").length>0||o&&s.closest('.uitk-carousel-item:not(aria-hidden="true")').length>0){if(!t.downgrade&&t.largestIsLoaded)return;if(r=t.getImgToLoad(t.imgSrcsetArr,t.imgSrc,i.isResponsive),"noimage"===r.url)return s.addClass("dont-display"),void("background"===s.data("media-type")&&(s.css("background-image",""),t.currentImg="noimage"));s.removeClass("dont-display"),t.embedImage(r,n.alt,n["class"],s)}}},lateLoad:function(){var e=this,t=e.element,a=i.media.delay||100;0!==t.length&&(e.options.late||(e.options.late=!0),setTimeout(function(){e.lazyLoad(),n.publish("lateLoad.media",e)},a))}},r.prototype=new s,r.prototype.constructor=r,r.prototype.embedImage=function(e,t,i,n){var a=this,o=e.url;o&&a.currentImg===o||(a.currentImg=o,a.preloadImg(o,function(){a.currentImg===o&&(a.lazyLoaded=!0,n.removeClass("no-image"),a.updateImgSrc(o),n.removeClass("loading"),a.responsive&&(a.options.downgrade?a.updateRatio(n,e.ratio):a.removeSmallerImages(o)))},function(){a.lazyLoaded||(n.removeClass("loading"),n.addClass("no-image"),a.responsive||(a.lazyLoaded=!0))}))},r.prototype.updateImgSrc=function(e){this.element.css("background-image","url("+e+")")},l.prototype={constructor:l,init:function(){var e=this;e.options.lazy?(e.lazyLoaded=!1,e.isContentSlider=e.element.closest('[data-control="content-slider"]').length>0):e.embedVideo()},embedVideo:function(){var e,t,i=this,n=i.options,s=n.mediaType,r=n.mediaOptions,l=n.mediaId,c=i.element,u=n.videoParameters?n.videoParameters:"";if(!i.videoPlayer){i.videoId="M"+b+"_"+s+l;var d=i.videoId,h=o.getCompiledTemplate("uitk-youtube-video");window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var p="&origin="+window.location.origin;b++,t=h({id:d,mediaId:l,videoParameters:"&"+u+p}),c.append(t),e=a.embedVideo(s,l,r,i.videoId,function(){e.done(function(e){c.removeClass("loading").data("video",a.createVideoObject(s,e))})}),i.videoPlayer=e}},lazyLoad:function(){var e=this;if(!e.lazyLoaded){if("none"===e.element.css("display")||"hidden"===e.element.css("visibility"))return;(!e.isContentSlider||e.isContentSlider&&e.element.closest(".current-tile").length>0)&&(e.embedVideo(),e.lazyLoaded=!0)}}},t.fn[g]=function(){var e,i,n,a;return"object"==typeof arguments[0]?(e=arguments[0],i=arguments[1],n=arguments[2],a=arguments[3]):(e={},i=arguments[0],n=arguments[1],a=arguments[2]),this.each(function(){var o=t(this);t.data(this,g)||(o.data("mediaType")&&"youtube"===o.data("mediaType")?t.data(this,g,new l(this,e)):o.data("mediaType")&&"background"===o.data("mediaType")?t.data(this,g,new r(this,e)):t.data(this,g,new s(this,e))),"string"==typeof i&&t.data(this,g)[i](n,a)})},t("[data-control=media]")[g](),n.subscribe("contentSlider.pageChange",function(e,t,i,n){var a="transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd";t.off(a),y&&!n?t.on(a,function(){c(),t.off(a)}):setTimeout(function(){c()},50)}),c=function(){var e,n,a,o=t('figure[data-lazy="true"], .background[data-media-type="background"]:not([data-late="true"])');o.length>0&&(e=k.scrollTop(),n=e+k.height(),a=i.media.lazyBuffer||0,o.each(function(){var i=t(this),o=i.offset(),s=o.top,r=s+i.outerHeight(),l=s-a<n&&r+a>e;0!==s&&l&&i[g]("lazyLoad")}))},u=function(){c(),f()},d=function(){t('figure[data-late="true"]')[g]("lateLoad"),t('figure[data-media-type="youtube"]')[g]("embedVideo"),c()},f=function(){},i.hasTouch&&(f=function(){clearTimeout(h),P=!1},t("body").one("touchstart",function(){f()}),p=function(){h=setTimeout(function(){return k.scrollTop()!==w?void c():void(C<T&&(C+=1,p()))},500)},P&&p()),n.subscribe("debounced.scroll",u),n.subscribe("debounced.resize",d),n.subscribe("debounced.bodyResize",d),n.subscribe("menu.opened",d),n.subscribe("toggle.opened",d),c(),t('figure[data-late="true"]')[g]("lateLoad"),i.utils.loadMedia=d,i.modules.MediaImage=s,i.modules.MediaBgImage=r,s}),define("uitk_mediaViewer",["uitk_domReady","jquery","handlebars","uitk_plugins","uitk_pubsub","uitk_videohelpers","uitk_allyutils","uitk_hbsutils","figure-tag.hbs","uitk-youtube-video.hbs"],function(e,t,i,n,a,o,s,r){"use strict";function l(e,t){n.newModule.call(this,e,t,u)}var c="uitk_mediaViewer",u={},d="current",h=0,p=500;return l.prototype={constructor:l,init:function(){var e,i=this,n=i.options.sliderId;i.showMediaTimeout="",i.mediaCarouselNum=h,h++,i.videoCount=0,this.mediaTemplate||(l.prototype.mediaTemplate=r.getCompiledTemplate("figure-tag")),uitk&&(e=function(e,t,i){var a,o;if(n===i)switch(o=t.find("a"),a=o.data("mediaType")||"image"){case"image":var s=o.data(),r=o.attr("href"),l=t.find("img").attr("alt"),c=o.data("caption");l===c&&(l=""),this.showMedia("image",r,l,s);break;case"youtube":var u=o.data("mediaId"),d=o.data("videoParameters"),h=o.data("mediaOptions")||{};d=!d||""!==d&&"&"===d.charAt(0)?d:"&"+d,this.showMedia("youtube",u,h,d)}},a.subscribe("media.selected",this,e),a.subscribe("image.loaded",function(e,n){t.contains(i.element[0],n.element[0])&&setTimeout(function(){i.handleImageLoad(n.element)},0)}),a.subscribe("image.errored",function(e,n){t.contains(i.element[0],n.element[0])&&i.handleImageError(n.element)}))},showMedia:function(e){var t=arguments,i=this.element,n=this;switch(this.current&&this.current.data("video")&&this.current.data("video").pauseVideo(),e=e||"image",i.find("."+d).removeClass(d).attr("aria-hidden",!0).css("visibility","hidden"),clearTimeout(n.showMediaLoaderTimeout),n.showMediaLoaderTimeout=setTimeout(function(){i.addClass("loading")},p),clearTimeout(n.showMediaTimeout),e){case"image":n.showImage(t[1],t[2],t[3]);break;case"youtube":n.showVideo(e,t[1],t[2],t[3])}},showImage:function(e,i,n){var a,o,r=this,l=this.element,c=n?n.caption:void 0,u=n?n.srcset:void 0,d=u&&Modernizr.mediaqueries,h=l.find('[data-src="'+e+'"]').eq(0);h.css({"padding-top":0}),0===h.length?this.showMediaTimeout=setTimeout(function(){var h,p,f={isImage:!0,mediaType:"image",src:e,alt:i,caption:c,captionClass:"media-caption",classes:"media-wrap image",dataAttributes:'data-unique-id="'+s.createUniqueId()+'"'};n&&(h=n.path,p=n.downgrade),d&&(f.srcSet=u,f.lazyIsTrue=!0,f.lazy=!0,p&&(f.downgrade=p),h&&(f.path=h)),a=t(r.mediaTemplate(f)),r.current=a,a.css("visibility","visible"),l.prepend(a),d?a.uitk_media("lazyLoad",!0):(o=a.find("img"),o.one("load",function(){r.handleImageLoad(a)}),o.one("error",function(){r.handleImageError(a)}),(o[0].complete||a.hasClass("no-image"))&&(o.width(),o.trigger("load")))},10):(h.find("img").length>0&&h.find("img")[0].complete||h.hasClass("no-image"))&&(r.current=h,h.css("visibility","visible"),r.handleImageLoad(h),d&&h.uitk_media("lazyLoad"))},handleImageLoad:function(e){var t=this;t.current.data("uniqueId")===e.data("uniqueId")&&(clearTimeout(t.showMediaLoaderTimeout),t.element.removeClass("loading"),e.addClass(d).removeAttr("aria-hidden"))},handleImageError:function(e){var t=this;clearTimeout(t.showMediaLoaderTimeout),t.element.removeClass("loading"),e.data("srcset")||e.addClass("no-image"),t.handleImageLoad(e)},getMCVideoId:function(e,t){return this.videoCount++,"MC"+this.mediaCarouselNum+this.videoCount+"_"+e+t},getVideoIframe:function(e){return t("#"+e)},showVideo:function(e,i,n,a){var s,l,c,u=this,h=u.element,p=u.getMCVideoId(e,i),f=u.getVideoIframe(p),g=a?a:"";window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var m="&origin="+window.location.origin,v=r.getCompiledTemplate("uitk-youtube-video");0===f.length?this.showMediaTimeout=setTimeout(function(){var a={classes:"media-wrap"};s=t(u.mediaTemplate(a)),c=v({id:p,mediaId:i,videoParameters:g+m}),s.prepend(c),h.prepend(s),u.current=s,l=o.embedVideo(e,i,n,p,function(){l.done(function(t){s.data("video",o.createVideoObject(e,t)),u.current===s?(clearTimeout(u.showMediaLoaderTimeout),h.removeClass("loading"),s.css("visibility","visible"),s.addClass(d).removeAttr("aria-hidden")):s.css("visibility","hidden")})}),conditionizr.ie8&&(s.css("visibility","visible"),s.addClass(d).removeAttr("aria-hidden"))},500):(s=f.closest(".media-wrap"),this.current=s,s.css("visibility","visible"),s.data("video")&&s.data("video").videoObj.getPlayerState()!==-1&&s.data("video").rewindVideo(),clearTimeout(u.showMediaLoaderTimeout),h.removeClass("loading"),s.addClass(d).removeAttr("aria-hidden"))},getTopPadding:function(e,t){return Math.floor((e-t)/2)}},n.initPlugin(c,l),t("[data-control=media-viewer]")[c](),uitk.modules.MediaViewer=l,l}),define("uitk_mediaSlider",["uitk_domReady","jquery","uitk_i18n","uitk_plugins","uitk_pubsub","uitk_allyutils"],function(e,t,i,n,a,o){"use strict";function s(e,t){n.newModule.call(this,e,t)}var r="uitk_mediaSlider",l=t("body"),c="current",u="click."+r,d="current-message",h=t("<span>").addClass(d+" visuallyhidden").text(i.t("media_gallery_current_item"));return s.prototype={constructor:s,init:function(){var e,t=this,i=t.element;i.attr("data-load","false"),i.attr("data-control","image-slider"),t.sliderId=t.options.sliderId,t.thumbs=i.find(".image-slider-thumbs"),t.mask=i.find(".image-slider-mask"),t.current=t.thumbs.find("."+c),t.images=t.thumbs.find("li"),t.totalThumbs=t.images.length,t.nextButton=i.find(".image-slider-control.next"),t.previousButton=i.find(".image-slider-control.prev"),e=t.images.toArray(),e&&e instanceof Array&&e.length>0&&!e[0].hasIndex&&t.setAltTextForImages(e),t.selectThumb(t.thumbs.find("li").first(),!0),a.subscribe("throttled.resize",function(){t.resize(t)})},setAltTextForImages:function(e){var i,n,a,o,s,r=this;for(a=e.length,o=r.totalThumbs,n=0;n<a;n++)i=e[n],s=r.getAltTextForThumb(i,n,o),t(i).find("img").attr("alt",s)},getAltTextForThumb:function(e,n,a){var s,r,l,c;return r=n+1,c=t(e).find("a").data("caption"),l=t(e).find("img").attr("alt"),s=i.t("media_gallery_showing_item",{arg0:r,arg1:a}),s=o.htmlDecode(s),s+=void 0!==l&&""!==l?" "+l:"",s+=l!==c&&c?" "+c:"",e.hasIndex=!0,s},testThumbPosition:function(e){var t=this,i=t.thumbs.find("li:last"),n=e.offset().left,a=n+e.outerWidth(),o=t.mask.offset().left,s=o+t.mask.outerWidth(),r=i.offset().left+i.width(),l=n<o,c=a>s,u=uitk.isRtl?i.offset().left>o:r<s;return l||c||u},getMaxSlide:function(){var e=this,t=e.thumbs.find("li:last");return uitk.isRtl?e.thumbs.outerWidth()-t.position().left-this.element.outerWidth():t.position().left+t.outerWidth()-this.element.outerWidth()},moveThumbs:function(e,t){var i,n=this,a=n.thumbs,o=n.getMaxSlide(),s=uitk.isRtl?-1:1;t?a.addClass("slide"):a.removeClass("slide"),i=e.position().left,uitk.isRtl&&(i=n.thumbs.outerWidth()-e.position().left-e.outerWidth()),i=o>i?i:o,i=i>0?i:0,Modernizr.csstransforms?a.css({transform:"translateX("+-i*s+"px)"}):e.css({left:-i*s})},repositionThumbs:function(e,t){var i=this,n=i.testThumbPosition(e);n&&i.moveThumbs(e,t)},liveAnnounceThumb:function(e){var i=t(e).find("img").attr("alt");o.liveAnnounce(i)},selectThumb:function(e,t){var n,s,r,l,u,p,f=this;n=f.totalThumbs,e&&e.length>0&&(f.current&&(f.current.removeClass(c),f.current.find("."+d).remove(),f.current.find("a").attr("tabindex","-1")),f.current=e.addClass(c),f.current.find("a").append(h),f.current.find("a").attr("tabindex","0"),"true"==f.element.attr("data-load")&&f.current.find("a").focus(),f.element.attr("data-load","true"),t||f.repositionThumbs(e,!0),uitk&&(s=e.index(),r=i.t("media_gallery_next_image_button"),l=i.t("media_gallery_previous_image_button"),u=s>=f.totalThumbs-1?i.t("media_gallery_no_image"):i.t("media_gallery_count",{arg0:s+2,arg1:f.totalThumbs}),p=s<=0?i.t("media_gallery_no_image"):i.t("media_gallery_count",{arg0:s,arg1:n}),u=o.htmlDecode(u),p=o.htmlDecode(p),f.nextButton.find(".visuallyhidden").text(r+" "+u),f.previousButton.find(".visuallyhidden").text(l+" "+p),a.publish("media.selected",e,f.sliderId),f.liveAnnounceThumb(e)))},prev:function(){var e=this,t=e.current.prev();t.length<1&&(t=e.thumbs.find("li:last")),e.selectThumb(t)},next:function(){var e=this,t=e.current.next();t.length<1&&(t=e.thumbs.find("li:first")),e.selectThumb(t)},resize:function(){var e=this,t=e.thumbs.find("."+c);e.repositionThumbs(t,!1)}},n.initPlugin(r,s),l.on(u,'[data-control="image-slider"] .image-slider-control',function(e){var i=t(e.target),n=i.closest(".image-slider-control"),a=i.closest('[data-control="image-slider"]');e.preventDefault(),a.attr("data-load","false"),n.hasClass("next")?a[r]("next"):n.hasClass("prev")&&a[r]("prev")}),l.on(u,'[data-control="image-slider"] .image-slider-thumbs a',function(e){var i=t(e.target),n=i.closest("li"),a=i.closest('[data-control="image-slider"]');e.preventDefault(),a.attr("data-load","true"),n.hasClass("current")||a[r]("selectThumb",n)}),l.on("focus."+r,'[data-control="image-slider"] .image-slider-thumbs a',function(e){var i=t(e.target),n=i.closest("li"),a=i.closest('[data-control="image-slider"]');e.preventDefault(),setTimeout(function(){a[r]("repositionThumbs",n,!0)},100)}),t("[data-control=image-slider]")[r](),uitk.modules.MediaSlider=s,l.on("keydown",'[data-control="image-slider"]',function(e){var i=t(e.target),n=i.closest('[data-control="image-slider"]'),a=i.parents("#media-gallery");a.find("figure:not('.current')").find("iframe");37==e.keyCode||38==e.keyCode?n[r]("prev"):39!=e.keyCode&&40!=e.keyCode||n[r]("next")}),s}),define("uitk_contentSlider",["uitk_domReady","jquery","hammer","handlebars","uitk","uitk_allyutils","uitk_hbsutils","uitk_plugins","uitk_i18n","uitk_pubsub"],function(e,t,i,n,a,o,s,r,l,c){"use strict";function u(e,t){r.newModule.call(this,e,t,g)}var d="uitk_contentSlider",h=t("body"),p='[data-control="content-slider"]',f=".content-slider-controls button",g={infinite:!1,controlTemplate:"uitk-content-slider-controls-template",scrollTime:"0.5s"},m=Modernizr.touch,v="click",b=a.isTouchDevice,y=Modernizr.csstransitions,k=(Modernizr.csstransforms,Modernizr.csstransforms3d),w=!1,C=a.isRtl?-1:1;return u.prototype={constructor:u,init:function(){var e=this,n=e.element,a=t(window);if(n.find(".flex-tile").length>0?(w=!0,e.sliderGrid=n.find('[class~="flex-tile"]'),e.sliderGrid.slides=e.sliderGrid.find(".uitk-col")):(e.sliderGrid=n.find('[class^="tile-grid"]'),e.sliderGrid.slides=e.sliderGrid.find(".tile")),n.is(":visible")){if(e.contentMask=n.find(".content-slider-mask"),e.numVisibleTiles=e.getNumVisibleTiles(),e.uniqueId=e.options.modalId||o.createUniqueId(),n.attr("data-unique-id",e.uniqueId),e.moveToPage(1,!0),e.updateControls(!0),Modernizr.mediaqueries&&(a.on("resize.event"+e.uniqueId,function(){e.handleResize()}),a.on("orientationchange.event"+e.uniqueId,function(){e.handleResize()})),m||window.navigator.msPointerEnabled){e.swipeCheck=!0;var s=new i(e.contentMask[0]);s.on("swipe pan",function(i){var n=null,a=-1*i.deltaX,o=a<0?"right":"left",s=i.srcEvent.type,r="pointermove"===s||"touchmove"===s;return n||(n=t(i.target).closest('[data-control="content-slider"]')),"swipe"===i.type&&(e.swipeCheck=!1,n[d]("slideEnd",o,a)),i.deltaTime>150&&"pan"===i.type&&r?void n[d]("slideMove",a):void("pan"!==i.type||r||(e.swipeCheck?n[d]("slideEnd",o,a):e.swipeCheck=!0))})}b||(e.deboucedResize=c.subscribe("debounced.resize",function(){e.positionPage(e.currentPage)}))}},addControls:function(e,t){var i,n,a=this,o=a.getNumOfPages();return a.updateCurrentClasses(e),o<=1?void a.element.find(".content-slider-controls").remove():(a.controlTemplate||(u.prototype.controlTemplate=s.getCompiledTemplate(a.options.controlTemplate),s.getCompiledTemplate("button-tag",!0)),i=a.generateModel(),n=a.controlTemplate(i),t&&a.element.find(".content-slider-controls").remove(),void a.element.append(n))},generateModel:function(e,t){var i,n,a,o=this,s={},r=o.getCurrentPage(),c=o.getNumOfPages(),u=[],d={};for(e=e||o.options.prevLabel||l.t("content_slider_previous_label"),i="pageprev",s.prevButton={type:"button",classes:"btn-paging prev",isDisabledButton:!1,content:'<span class="icon icon-'+i+'" aria-hidden="true"></span><span class="visuallyhidden">'+e+"</span>"},t=t||o.options.nextLabel||l.t("content_slider_next_label"),n="pagenext",s.nextButton={type:"button",classes:"btn-paging next",isDisabledButton:!1,content:'<span class="icon icon-'+n+'" aria-hidden="true"></span><span class="visuallyhidden">'+t+"</span>"},a=1;a<=c;a+=1)d={},a===r&&(d.isCurrent=!0,1!==a||o.options.infinite||(s.prevButton.isDisabledButton=!0),a!==c||o.options.infinite||(s.nextButton.isDisabledButton=!0)),d.pageNum=a,u.push(d);return s.pages=u,s},updateControls:function(e){this.addControls(e,!0)},updateCurrentClasses:function(e){var t,i=this,n="current-tile",a=i.getCurrentPage(),o=i.getNumVisibleTiles(),s=i.sliderGrid.slides;e=e||!1,s.removeClass(n).attr("aria-hidden","true"),s.find("a").attr("tabindex","-1"),t=s.slice(o*(a-1),o*a),t.addClass(n).attr("aria-hidden","false"),t.find("a").removeAttr("tabindex"),c.publish("contentSlider.pageChange",i.element,a,e)},unregister:function(){var e=this;t(window).off(".event"+e.uniqueId),e.deboucedResize&&c.unsubscribe("debounced.resize",e.deboucedResize)},getPagePosition:function(){var e;return e=b?function(e){return(e-1)*-100*C+"%"}:function(e){var t,i;return i=this.sliderGrid.slides.outerWidth(),t="undefined"==typeof i?"0px":(e-1)*this.getNumVisibleTiles()*-i*C+"px"}}(),positionPage:function(e,t){var i=this,n=i.getPagePosition(e),a=t?"0s":i.options.scrollTime;i.sliderGrid.css({"-webkit-transition-duration":a,"-moz-transition-duration":a,"transition-duration":a}),k?i.sliderGrid.css({transform:"translateX("+n+")"}):i.sliderGrid.css({left:n})},moveToPage:function(e,t){var i=this;e>0&&e<=i.getNumOfPages()&&(i.positionPage(e,t),i.setCurrentPage(e),i.updateControls())},next:function(){var e=this,t=e.getCurrentPage(),i=t+1;i>e.getNumOfPages()?e.options.infinite===!0?e.moveToPage(1):e.moveToPage(t):e.moveToPage(i),e.setPageFocus()},prev:function(){var e=this,t=e.getCurrentPage(),i=t-1;i<1?e.options.infinite===!0?e.moveToPage(e.getNumOfPages()):e.moveToPage(t):e.moveToPage(i),e.setPageFocus()},selectPage:function(e){var t=this,i=t.element.find(".content-slider-nav button").index(e)+1;t.moveToPage(i),t.setPageFocus()},setPageFocus:function(){var e,t=this,i=t.element.find(".current-tile").eq(0),n=t.element.find(".current-tile .flex-title").eq(0),a=t.element.find(".current-tile .tile-name").eq(0);e=1===n.length?n:1===a.length?a:i,y?t.element.one("transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",function(){o.focusElement(e)}):o.focusElement(e)},setCurrentPage:function(e){var t=this;t.currentPage=e,t.element.attr("data-current-page",e)},getCurrentPage:function(){return this.currentPage},getNumVisibleTiles:function(){var e=this.contentMask,t=this.sliderGrid.slides,i=e.width(),n=t.first().outerWidth();return Math.round(i/n)},getNumOfPages:function(){var e=this,t=e.sliderGrid,i=t.slides,n=i.length;return e.numVisibleTiles?Math.ceil(n/e.numVisibleTiles):0},getNewCurrentPage:function(e,t){var i,n=this,a=n.getCurrentPage(),o=n.getNumOfPages(),s=t*(a-1)+1,r=t*a;return i=t<e?Math.ceil(r/e):t>e?Math.ceil(s/e):a,i=i>o?o:i},handleViewChange:function(e){var i=this;if(i.uniqueId!==i.element.attr("data-unique-id")||0===t('[data-unique-id="'+i.uniqueId+'"]').length)return void i.unregister();var n,a,o=i.numVisibleTiles;i.sliderGrid.addClass("view-change"),i.numVisibleTiles=e,n=i.getCurrentPage(),a=i.getNewCurrentPage(e,o),i.updateControls(!0),n!==a&&setTimeout(function(){i.moveToPage(a,!0)},10),setTimeout(function(){i.sliderGrid.removeClass("view-change")},50)},handleResize:function(){var e=this,t=e.getNumVisibleTiles();e.numVisibleTiles!==t&&e.handleViewChange(t)},slideMove:function(e){var t,i=this,n=i.contentMask.width();t=((i.currentPage-1)*n+C*e)/n*-100*C,i.scrollPages(t)},slideEnd:function(e,t){var i=this,n=Math.abs(t/i.contentMask.width()),o=a.isRtl?"right":"left";n>.08?e===o?i.next():i.prev():i.moveToPage(i.currentPage)},scrollPages:function(e){var t=this;t.sliderGrid.css({"-webkit-transition-duration":"0.5s",transform:"translateX("+e+"%)"})}},r.initPlugin(d,u),t("[data-control=content-slider]")[d](),h.on(v+"."+d,p+" "+f,function(e){var i=t(e.target),n=i.closest(f),a=i.closest(p);e.preventDefault(),n.hasClass("next")?a[d]("next"):n.hasClass("prev")?a[d]("prev"):n.closest(".content-slider-nav").length>0&&a[d]("selectPage",n)}),b&&h.on("click."+d,p+" "+f,function(e){e.preventDefault()}),a.modules.ContentSlider=u,u}),define("uitk_carousel",["uitk_domReady","jquery","hammer","handlebars","uitk","uitk_plugins","uitk_i18n"],function(e,t,i,n,a,o,s){"use strict";function r(e,t){o.newModule.call(this,e,t,u)}if(conditionizr["lt-ie10"])return{init:function(){},initCarouselItems:function(){},prev:function(){},next:function(){}};var l="uitk_carousel",c='[data-control="uitk-carousel"]',u={prevDisabled:!0,nextDisabled:!1,transitionSpeed:1.5,pageByGroup:!0,carouselName:"carousel",peek:!1,mediaQueries:["mobile","smallTablet","tablet","desktop"],enableCarousel:["all"]},d=15,h="uitk-carousel",p="is-enabled",f="all-carousel-peek",g=h+"-items",m="is-animating",v=h+"-pagecontrol",b=h+"-pagecontrol-prev",y=h+"-pagecontrol-next",k=Modernizr.csstransitions;return r.prototype={constructor:r,init:function(){var e=this,t=e.element;e.parent=t[0],e.itemsParent=t[0].querySelector("."+g),e._initCarousel(),e.itemsArr=e._itemsArr(),e.itemsArr&&e.initCarouselItems()},_initCarousel:function(){var e=this,t=e.options;e.isFocused=!1,e.controlsEnabled=!1,e._generateControls(),k&&e.itemsParent.addEventListener("transitionend",function(t){t.target===e.itemsParent&&this.classList.contains(m)&&(this.classList.remove(m),e._setFocusAfterPage())}),"string"==typeof t.mediaQueries&&(t.mediaQueries=e._optionStringToArray(t.mediaQueries)),"string"==typeof t.enableCarousel&&(t.enableCarousel=e._optionStringToArray(t.enableCarousel))},initCarouselItems:function(){var e=this;e.currentItem=0,e.currentGroup=0,e.currentItem=0,e.totalItems=e._getTotalItems(),e._subscribeToMediaQueries()},_updateProperties:function(){var e=this;e.itemWidth=e._getItemWidth(),e.itemsPerGroup=e._getItemsPerGroup(),e.totalGroups=e._getTotalGroups()},_optionStringToArray:function(e){var t=",";return e.split(t)},_handleViewChange:function(e){var t=this,i=t.totalGroups,n=t.options.enableCarousel,a=n.indexOf("all")>-1,o=n.indexOf(e)>-1;t.currentGroup=t._getCurrentGroup(),i>1&&a||i>1&&o?t._enableCarousel():t._disableCarousel()},_enableCarousel:function(){var e=this,t=e.options.peek;e._addEnabledClass(),t&&e._addPeekClass(),e._setPagingStyle(),e._addControls(),e._ariaHideOffCanvasItems(),e._setTransitionTime()},_disableCarousel:function(){var e=this,t=e.options.peek;e._removeEnabledClass(),t&&e._removePeekClass(),e._removeControls(),e._removePagingStyle(),e._ariaShowAllItems()},_subscribeToMediaQueries:function(){var e,t,i=this,n=i.options.mediaQueries,o=function(a,o){e=o.key,t=n.indexOf(e)>-1,t&&(i._updateProperties(),i._handleViewChange(e))};a.subscribe("mediaquery.matched",o),a.mediaquery.publishAgain()},_generateControls:function(){var e=this,t=e.options,i={arg0:t.carouselName},n={icon:"arrow270",action:"prev",label:t.prevLabel||s.t("carousel_previous_label",i),"class":b,disabled:t.prevDisabled},a={icon:"arrow90",action:"next",label:t.nextLabel||s.t("carousel_next_label",i),"class":y,disabled:t.nextDisabled};e.prevControl=e._createControlMarkup(n),e.nextControl=e._createControlMarkup(a)},_createControlMarkup:function(e){var t=this,i=document.createElement("button"),n="",a=e.action;return n+='<span class="icon icon-'+e.icon,n+='" aria-hidden="true"></span>',n+='<span class="visuallyhidden">'+e.label+"</span>",i.classList.add("btn-text"),i.classList.add(e["class"]),i.classList.add(v),i.setAttribute("type","button"),i.disabled=e.disabled,i.innerHTML=n,i.addEventListener("click",function(e){t[a](),e.preventDefault()}),i},_addControls:function(){var e=this,t=e.parent,i=e.controlsEnabled;i||(t.appendChild(e.prevControl),t.appendChild(e.nextControl)),e.controlsEnabled=!0},_removeControls:function(){var e=this,t=e.parent,i=e.controlsEnabled;i&&(t.removeChild(e.prevControl),t.removeChild(e.nextControl)),e.controlsEnabled=!1},_addEnabledClass:function(){var e=this;e.parent.classList.add(p)},_removeEnabledClass:function(){var e=this;e.parent.classList.remove(p)},_addPeekClass:function(){var e=this;e.parent.classList.add(f)},_removePeekClass:function(){var e=this;e.parent.classList.remove(f)},_ariaHideOffCanvasItems:function(){var e,t=this,i=t.itemsArr,n=t.itemsPerGroup,a=t.currentGroup,o=t.totalItems,s=n*a,r=s+n,l=0;for(l;l<o;l++)e=i[l],l>=s&&l<r?t._removeAriaHidden(e):t._setAriaHidden(e)},_ariaShowAllItems:function(){var e,t=this,i=t.itemsArr,n=t.totalItems,a=0;for(a;a<n;a++)e=i[a],t._removeAriaHidden(e)},_setAriaHidden:function(e){e.setAttribute("aria-hidden","true")},_removeAriaHidden:function(e){e.removeAttribute("aria-hidden")},_announceState:function(e){var t,i=this,n="polite",o=i.options,r=i.itemsPerGroup,l=i.currentGroup,c=i.totalItems,u=l*r+1,d=u-1+r,h=0;d>c&&(h=c%r),1===r||1===h?t=s.t("carousel_single_item_in_view",{arg0:o.carouselName,arg1:u,arg2:c}):(h&&(d=u+h-1),t=s.t("carousel_multiple_items_in_view",{arg0:o.carouselName,arg1:u,arg2:d,arg3:c})),"beginning"===e?t+=" "+s.t("carousel_beginning"):"end"===e&&(t+=" "+s.t("carousel_end")),a.utils.liveAnnounce(t,n)},_updateControls:function(){var e=this,t=e.currentGroup,i=e.totalGroups,n=e.options,a=n.prevDisabled,o=n.nextDisabled,s=e.prevControl,r=e.nextControl;t<=0?(a=!0,o=!1):t+1>=i?(a=!1,o=!0):(a=!1,o=!1),s.disabled=a,r.disabled=o,e._ariaHideOffCanvasItems()},_setFocusAfterPage:function(){var e,i=this,n=i.currentGroup,o=i.totalGroups,s=i.itemsArr[i.currentItem],r=s.children;e=r.length>0?r[0]:s,a.utils.focusElement(t(e)),n<=0?i._announceState("beginning"):n+1>=o?i._announceState("end"):i._announceState("default")},_definePagingStyle:function(){var e,t=this,i=t.options.peek,n=t.currentGroup;return e=i?(-100+d)*n+"%":-100*n+"%"},_setPagingStyle:function(){var e=this,t=e._definePagingStyle(),i=e.itemsParent;i.style.transform="translateX("+t+")"},_removePagingStyle:function(){var e=this,t=e.itemsParent;t.style.transform=""},_page:function(e){var t=this,i=t.itemsParent;t.currentItem=t._getCurrentItem(),t._setPagingStyle(),k&&i.classList.add(m),t._updateControls(e)},prev:function(){var e=this;e.currentGroup--,
e._page("prev")},next:function(){var e=this;e.currentGroup++,e._page("next")},_itemsArr:function(e){var t=this,i=e||t.itemsParent.children;return i.length>0&&i},_getItemWidth:function(){var e=this,t=e.itemsArr[0];return t.getBoundingClientRect().width},_getTotalItems:function(){var e=this,t=e.itemsArr;return t.length},_getItemsPerGroup:function(){var e=this,t=e.itemsParent.offsetWidth,i=e.itemWidth,n=(e.options.peek,.1);return Math.floor(t/i+n)},_getCurrentItem:function(){var e=this,t=e.currentGroup,i=e.itemsPerGroup;return t*i},_getCurrentGroup:function(){var e=this,t=e.currentItem,i=e.itemsPerGroup;return Math.ceil((t+1)/i)-1},_getTotalGroups:function(){var e,t=this,i=t.totalItems,n=t.itemsPerGroup;return e=Math.ceil(i/n)},_calculateTransitionTime:function(){var e=this,t=e.options.transitionSpeed,i=e.parent,n=i.clientWidth;return n/t+"ms"},_setTransitionTime:function(){var e=this,t=e.itemsParent;t.style.transitionDuration=e._calculateTransitionTime()}},o.initPlugin(l,r),t(c)[l](),a.modules.carousel=r,r}),define("uitk_modal",["uitk_domReady","jquery","handlebars","uitk_focus","uitk_plugins","uitk_i18n","uitk_pubsub","uitk_allyutils","uitk_hbsutils","uitk_formutils","uitk-modal-bg-template.hbs","uitk-modal-inner-template.hbs","uitk-modal-template.hbs","uitk-modal-title-template.hbs"],function(e,t,i,n,a,o,s,r,l,c){"use strict";function u(e,i,n){var a,o,s,r,l=this,c={};l.element=t(e),n&&(l.focusMeOnClose=n),i=i||{},a=l.element.data()||{},i.jsTheme?o=i.jsTheme:l.element.data("jsTheme")&&(o=l.element.data("jsTheme")),s=b[o]||{},r=i.animation||a.animation||m.animation,c=l.getAnimationTypes(r,o),l.options=t.extend(!0,{},m,s,a,i,c),l.options.optOutStorage=l.options.optOut&&E,l.init()}var d="uitk_modal",h=t("body"),p=t("html"),f=t(document),g=t(window),m={title:!1,background:!0,optOut:!1,ajax:!1,footer:!1,dismiss:!0,closeBtn:!0,template:"uitk-modal-template",showLoader:!1,animation:"slide-in-slide-out",roleDialog:!1,focusOpen:".modal-body :first-child",focusClose:"",removalTime:500},v={fade:180,none:10,slide:500},b={},y="active",k="active-modal",w="active-modal-ios",C="active-modal-no-bg",T="modal-wrap",P="fade-in",S="fade-out",_="pop-in",D="pop-out",I="modal-inner",x="modal-body",O="modal-background",A="modal-close",E=Modernizr.sessionstorage,F="click."+d,M=Modernizr.positionfixed,L="transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",R=new n("modal"),H=R.focusEvent(),N=function(e,i,n){var a=t("."+T);a.each(function(){t(this).data("modal").close(e,i,n)}),f.off("keydown","."+T,function(e){27===e.keyCode&&N("esc",!0,e)})},z=function(e){return v[e]||m.removalTime};return u.prototype={constructor:u,init:function(){var e=this,t=e.options;return(!t.optOutStorage||(e.storageKey="modal-opt-out-"+t.modalId,"true"!==sessionStorage.getItem(e.storageKey)))&&(t.resetNoFocus={closeBtn:!0,lastFocusable:null,modal:null},i.registerPartial("uitk-modal-inner-template",l.getCompiledTemplate("uitk-modal-inner-template")),i.registerPartial("uitk-modal-bg-template",l.getCompiledTemplate("uitk-modal-bg-template")),e.getContent(),e.modalTemplate||(u.prototype.modalTemplate=l.getCompiledTemplate(t.template,!0),u.prototype.modalTitleTemplate=l.getCompiledTemplate("uitk-modal-title-template",!0),l.getCompiledTemplate("button-tag",!0)),e.getHtml(),void e.setAnimationClassNames())},isHtml:function(e){return e.indexOf(">")!==-1},getContentFromJquery:function(e){return t("<div></div>").append(e).html()},getContent:function(){var e=this,i=e.options.content,n=!1,a=!1;i||(i=e.element.attr("href"),n=!0),e.options.ajax?e.contentRequest=t.get(i,function(t){e.updateContent(t)}):"string"==typeof i?(a=e.isHtml(i),a?e.content=i:(n||(i="#"+i),t(i).data("modal-content")?e.content=t(i).data("modal-content"):(e.content=t(i).html(),t(i).data("modal-content",e.content),t(i).children().remove()))):i instanceof jQuery?e.content=e.getContentFromJquery(i):e.content=""},updateTitle:function(e){var i=this,n=i.options,a=i.modalWrap.find(".modal-title");return e?(a.length>0?a.html(e):i.modalWrap.find(".modal-inner").prepend(t(i.modalTitleTemplate({title:e,id:n.id,content:i.content}))),n.title=e):(i.modalWrap.find(".modal-header").remove(),n.title=!1),i},updateContent:function(e,t){var i=this;return"string"==typeof e&&i.isHtml(e)?(i.content=e,i.options.showLoader?i.modalBodyHtml.addClass("loading").attr("aria-busy","true"):i.modalBodyHtml.removeClass("loading").attr("aria-busy","false")):e instanceof jQuery?i.content=i.getContentFromJquery(e):(i.content="",i.modalInnerHtml.addClass("loading").attr("aria-busy","true"),i.modalWrap.find(".modal-header").attr("aria-hidden","true")),i.modalWrap&&(i.modalWrap.find(".modal-body").html(i.content),uitk.initCalendarInputs&&uitk.initCalendarInputs(i.modalWrap),uitk.initDatePickerInputs&&uitk.initDatePickerInputs(i.modalWrap),void 0!==t&&i.updateTitle(t),uitk&&s.publish&&s.publish("modal.appended",i),""!==i.content&&(i.modalInnerHtml.removeClass("loading").attr("aria-busy","false"),i.modalWrap.find(".modal-header").removeAttr("aria-hidden"))),i},getModalData:function(){var e=this,t={},i=e.options,n=i.classes;return t.title=i.title,t.id=i.modalId,t.roleDialog=i.roleDialog,t.optOut=i.optOutStorage,t.optOutText=i.optOutText||!1,t.theme=i.jsTheme,t.animationIn=i.animationIn,t.animationOut=i.animationOut,t.dismiss=i.dismiss&&i.background,t.closeBtn=i.closeBtn,t.closeText=i.closeText,t.background=i.background,t.isOpi="onpage-interstitial"===i.jsTheme,t.content=e.content||"",t.classes=void 0!==n&&" "!==n.substring(0,1)?" "+n:n,t.showLoader=i.showLoader,t.footer=i.footer||i.optOut,t.footerCloseButton={type:"button",id:"footerModalCloseButton",cssClass:"btn-utility btn-secondary modal-close",content:t.closeText||o.t("close")},t.closeButton={type:"button",id:"modalCloseButton",cssClass:"btn-close modal-close btn-primary",isBtnTypeClose:!0,modalBtnClose:!0},t},getHtml:function(){var e=this,i=e.getModalData(),n=t(e.modalTemplate(i));e.modalHtml=n,e.modalWrap=n.filter("."+T),e.modalBg=n.filter("."+O),e.modalInnerHtml=e.modalWrap.find("."+I),e.modalBodyHtml=e.modalWrap.find("."+x)},getAnimationTypes:function(e,t){var i=t&&"default"!==t,n=m.animation.split("-"),a=i||!e?n:e.split("-"),o=a[0],s=a.length<4?a[0]:a[2],r={};return i&&(a=n),r.animationOut=v.hasOwnProperty(s)?s:n[2],r.animationIn=v.hasOwnProperty(o)?o:n[0],r.removalTime=z(s),r},setAnimationClassNames:function(){var e=this,t=e.options,i=e.modalWrap,n=e.modalBg;switch(t.animationIn){case"fade":i.addClass(P),n.addClass(P);break;case"none":i.addClass(_),n.addClass(_)}switch(t.animationOut){case"fade":i.addClass(S),n.addClass(S);break;case"none":i.addClass(D),n.addClass(D)}},setAriaHidden:function(){var e,t,i=0;if(!window.isIE8)for(e=document.querySelectorAll('body > :not(#uitk-live-announce):not([class^="modal-"]):not(script):not([aria-hidden="true"])'),t=e.length,i;i<t;i++)e[i].className.indexOf("uitk-aria-hidden")<0&&(e[i].className+=" uitk-aria-hidden",e[i].setAttribute("aria-hidden",!0))},removeAriaHidden:function(){var e=document.getElementsByClassName("uitk-aria-hidden"),t=e.length;if(!window.isIE8)for(t;t>0;t--)e[t-1].removeAttribute("aria-hidden"),e[t-1].className=e[t-1].className.replace(" uitk-aria-hidden","")},setModalFocus:function(){var e=this,i=e.options,n=i.focusOpen,a=i.resetNoFocus,o=0===e.modalBodyHtml.children().length,l=".modal-body :first-child"===n,c=t(l?n:"#"+n);if((conditionizr.ie9||conditionizr.ie10||conditionizr.ie11)&&e.setAriaHidden(),0===c.length&&o&&(c=t(".modal-loader :first-child")),setTimeout(function(){R.setFocusContextSelector("."+T+"."+y),R.enable(),l&&i.title&&!o?R.firstFocus():R.blur(c.eq(0)),e.token=s.subscribe(H,e,e.onFocusCapture),conditionizr.ie9&&conditionizr.ie10&&conditionizr.ie11||e.setAriaHidden()},50),!i.closeBtn){var u=r.focusableElements(e.modalInnerHtml);(!u||u.length<1)&&(a.closeBtn=!1,a.defaultElement=c,document.addEventListener("keydown",e.disableTabKey))}},removeModalFocus:function(){var e=this,i=e.options,n=e.lastFocused,a=i.focusClose,o=a.length>0?t("#"+a):e.focusMeOnClose;s.unsubscribe(H,e.token),setTimeout(function(){o?R.blur(o):R.blur(n),R.disable()},50),e.removeAriaHidden()},onFocusCapture:function(e,i){var n,a,o,s,l=this,c=l.options,u=c.resetNoFocus,d=r.focusableElements(t(i.container));if("undefined"!=typeof d){if(a=d.index(i.focused),o=d.length,s=o>1,t(".uitk-tooltip.active-tooltip").each(function(e,a){if(i.focused&&t.contains(a,i.focused))return n=!0,!1}),s){if(o===a+1&&i.container)i.focused.addEventListener("keydown",function(e){u.lastFocusable=i.focused,9!==e.which||e.shiftKey?9===e.which&&e.shiftKey&&(e.preventDefault(),d[a-1].focus()):(e.preventDefault(),d[0].focus())});else if(0===a)i.focused.addEventListener("keydown",function(e){9===e.which&&e.shiftKey&&(e.preventDefault(),d[o-1].focus())});else if(u.lastFocusable)return void u.lastFocusable.removeEventListener("keydown",l.disableTabKey)}else 1===o&&i.focused.addEventListener("keydown",function(e){var i=t(e.currentTarget);9===e.which&&(i.hasClass("inline-label")||i.hasClass("modal-close")||i.is("input"))&&e.preventDefault()});i.isContainedInContext||n||(u&&!u.closeBtn?l.setModalFocus():R.focus())}},appendHtml:function(){var e=this,t=e.options,i=e.modalInnerHtml,n=e.modalWrap,a=e.modalBg;n.data("modal",e),e.modalHtml.appendTo(h),c.placeholdersPolyfill.refresh(),e.content&&s.publish&&s.publish("modal.appended",e),setTimeout(function(){e.scrollPosition=null,t.background||p.addClass(C),p.addClass(k),"default"===t.jsTheme&&Modernizr.appleios&&p.addClass(w),setTimeout(function(){n.addClass(y),a.addClass(y)},25),i.on(L,function(){i.off(L),e.setModalFocus()}),Modernizr.csstransitions||i.trigger("transitionEnd");var o=i[0].getElementsByClassName("modal-loader p");e.content&&o&&o.length>0&&o[0].setAttribute("aria-hidden",!0)},100)},disableTabKey:function(e){9===e.which&&e.preventDefault()},removeAfterAnim:function(e,i){var n,a=this,o=a.options,s=L;n=t("."+O),e.on(s,function(){e.off(s).remove(),a.finish&&0===t(".modal-wrap").length?(p.removeClass([k,C,w].join(" ")),Modernizr.appleios&&a.forceRepaint(h)):a.finish&&t(".modal-background").length>0?p.removeClass(C):a.finish=!0,!e.hasClass(O)&&o.background&&0===parseFloat(a.backgroundOpacity)&&n.trigger("transitionEnd"),i&&a.removeModalFocus()})},forceRepaint:function(e){var t=e[0].style.display;e[0].style.display="inline-block",e[0].offsetHeight,e[0].style.display=t},open:function(e,i){function n(){if(!t(document.activeElement).is(l)){var e=g.scrollTop()/17+"em";r.css({top:e})}}var a=this,o=a.options,r=a.modalHtml,l="input:not([readonly]), textarea";return"open"!==o.manual&&"both"!==o.manual||!e?(a.lastFocused=a.element,(!o.optOutStorage||"true"!==sessionStorage.getItem(a.storageKey))&&(a.appendHtml(),M||o.background||setTimeout(function(){n(),s.subscribe("debounced.scroll",function(){n()}),r.on("blur",l,function(){setTimeout(function(){n()},0)})},10),f.on("keydown","."+T,function(e){27===e.keyCode&&N("esc",!0,e)}),a)):(s.publish("modal.beforeOpen",a,i),!1)},close:function(e,i,n){var a,o,r,l=this,c=l.options,u=l.modalHtml,d=l.modalWrap,h=l.modalBg;return l.finish=!1,!("background"===e&&!c.background||"background"===e&&!c.dismiss||"esc"===e&&!c.dismiss)&&("close"!==c.manual&&"both"!==c.manual||!i?(document.removeEventListener("keydown",l.disableTabKey),c.background&&(r=t("."+O),l.backgroundOpacity=r.css("opacity")),uitk.tooltips&&uitk.tooltips.hideAll&&uitk.tooltips.hideAll(),Modernizr.csstransitions&&(c.background?(l.removeAfterAnim(d),l.removeAfterAnim(h,!0)):(l.finish=!0,l.removeAfterAnim(d,!0)),setTimeout(function(){d.trigger("transitionEnd"),h.trigger("transitionEnd")},c.removalTime)),c.optOutStorage&&(a=d.find("input[name="+c.modalId+"-opt-out]"),o=a&&a.prop("checked")?"true":"false",sessionStorage.setItem(l.storageKey,o)),d.removeClass(y),h.removeClass(y),s.publish("modal.close",l),Modernizr.csstransitions||(u.remove(),0===t(".modal-wrap").length?p.removeClass(k+" "+C):t(".modal-background").length>0&&p.removeClass(C),l.removeModalFocus()),M||c.background||s.unsubscribe("debounced.scroll"),l):(s.publish("modal.beforeClose",l,n),!1))}},a.initPlugin(d,u),h.on(F,'[data-control="modal"]',function(e){var i=t(e.target).closest('[data-control="modal"]');e.preventDefault(),i[d]("open",!0,e)}),h.on(F,"."+T,function(e){t(e.target).hasClass(T)&&(e.preventDefault(),N("background",!0,e))}),h.on(F,"."+A,function(e){e.preventDefault(),N("close-button",!0,e)}),t(window).on("orientationchange",function(){var e=document.activeElement,i=t(e),n=e.tagName;("INPUT"===n||"TEXTAREA"===n)&&!e.hasAttribute("readonly")&&i.closest(".modal-inner").length>0&&i.blur().focus()}),h.on("blur",".modal-inner input",function(e){"calendar"!==t(e.target).data("control")&&(h.css("height","+=10000").css("height","-=10000"),setTimeout(function(){h.css("height","")},0))}),uitk.modal={create:function(e,i){var n,a=null;return"undefined"!=typeof e&&e.focusClose&&e.focusClose.length>0?i=t("#"+e.focusClose):i?i=i.eq(0):(a=document.activeElement,a=t(a),a.length>0&&(i=a)),n=new u(null,e,i),n.open(!0),n},close:N},uitk.modules.Modal=u,u}),define("uitk_dropdown",["jquery","uitk_plugins","uitk_pubsub","uitk_allyutils"],function(e,t,i,n){"use strict";function a(e,i){var n=this;t.newModule.call(n,e,i,d)}var o,s,r,l,c,u="uitk_dropDown",d={gutter:6},h="[data-control=menu]",p=e(window),f=e("body"),g=parseFloat(f.css("min-width")),m=g>950||"false"===Modernizr.mediaqueries||Modernizr.mediaqueries===!1,v=window.isIE8,b="ie8-menu-arrow",y="menu-arrow",k="open",w="pin-center",C=!0;return a.prototype={constructor:a,init:function(){var t=this,n=t.element,a=n.attr("data-target"),o=function(e){C="menu.opened"===e};a||(a=n.attr("href")),t.$parent=e(a),t.$parent=t.$parent.length?t.$parent:n.parent(),t.$menu=t.$parent.find(".menu"),t.$close=t.$menu.find(".close"),t.$sticky=t.$menu.hasClass("sticky"),i.subscribe("menu.opened",o),i.subscribe("menu.closed",o)},open:function(){var t=this;t.$parent.addClass(k),t.element.attr("aria-expanded","true"),t.$menu.removeAttr("aria-hidden"),t.storeOpen(t.element),i.publish("menu.opened",{$menu:t.element}),f.on("click.dropdown.background",function(i){var n=e(i.target);t.$sticky&&t.$menu.find(i.target).length>0&&!n.hasClass("close")||(n.hasClass("close")&&t.$menu.find(i.target).length>0?(t.element.trigger("blur"),t.close(),uitk.utils.focusElement(t.element)):"menu"!==n.attr("data-control")&&t.closeAll())})},close:function(){var e=this;e.$parent.removeClass(k),e.$menu.attr("aria-hidden","true"),setTimeout(function(){e.element.attr("aria-expanded","false"),i.publish("menu.closed",{$menu:e.element})},100),e.clickOff()},closeAll:function(){var t=this,n=e(h).parent(),a=!!n.hasClass(k),o=n.find(".menu");n.removeClass(k),e(h).attr("aria-expanded","false"),o.attr("aria-hidden","true"),a&&i.publish("menu.closed",f.data("menuStored")),t.clickOff()},clickOff:function(){f.off("click.dropdown.background")},storeOpen:function(e){f.data("menuStored",{$menu:e})},getWindowWidth:function(){return p.width()},centerMenu:function(){var e=this,t=e.element,i=t.next(".menu");r=i.outerWidth(),l=t.outerWidth(),c=(l-r)/2,i.css("right",c+"px")},setPos:function(){var e=this,t=e.element,i=t.nextAll(".menu").first(),n=t.hasClass("nav-tab"),a=t.hasClass("pin-left"),u=i.parent().hasClass("btn-group"),d=t.hasClass("pin-right"),h=e.options.gutter;o=e.getWindowWidth(),r=i.outerWidth(),l=t.outerWidth(),c=(l-r)/2,s=t.hasClass(w),n||a?i.css({right:"auto",left:0}):u||d?i.css({left:"auto",right:0}):s&&i.css("right",c+"px");var p,f,g=i.offset(),m=g.left,v=o-(m+r),b=parseInt(m-h),y=parseInt(v-h),k=parseFloat(i.css("right")),C=k+b,T=k-y;m<h?(s?i.css("right",C+"px"):i.css("right",b+"px"),"0px"===i.css("right")&&"0px"===i.css("left")&&i.css("right","auto")):v<h&&(s?i.css("right",T+"px"):(i.css("left",y+"px"),p=i.position().left,f=r-l+p,f<=0&&i.css({right:0,left:"auto"})))},toggle:function(){var e,t=this,i=t.options.autoPos,n=t.element,a=n.hasClass(y),o=n.children().last(),r=o.hasClass(b);if(s=n.hasClass(w),!n.is(".disabled, :disabled"))return e=t.$parent.hasClass(k),t.closeAll(),e||(t.open(),v&&a&&(r||n.append('<span class="ie8-menu-arrow"></span>')),i===!1||m?s&&t.centerMenu():t.setPos()),!1},handleResize:function(e){var t,i=this,n=e.data("autoPos");if(o=i.getWindowWidth(),g||(g=255),!(n!==!1&&o>g))return!1;for(t=0;t<e.length;t++)e[u]("setPos")}},t.initPlugin(u,a),e(window).on("resize."+u,function(){var t=e(h+'[aria-expanded="true"]');!m&&t.length>0&&a.prototype.handleResize(t)}),e("html").on("click.dropdown",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",h,function(t){var i=e(t.target).closest(h);i[u]("toggle")}),a}),define("uitk_share",["uitk_domReady","jquery","uitk"],function(e,i,n){return n.initSocial=function(){var e=i(".socialize.medium"),a=n.locale||"en_US",o=i('meta[property="fb:app_id"]').attr("content")||"131538103586818";if(e.length>0&&(window.twttr=t={_e:[],ready:function(e){t._e.push(e)}},function(e,t,i){var n,s=e.getElementsByTagName(t)[0];e.getElementById(i)||(n=e.createElement(t),n.id=i,n.src="//connect.facebook.net/"+a+"/sdk.js#xfbml=1&appId="+o+"&version=v2.5",s.parentNode.insertBefore(n,s))}(document,"script","facebook-jssdk"),i.when(i.getScript("//platform.twitter.com/widgets.js"),i.getScript("//apis.google.com/js/plusone.js"),i.getScript("//assets.pinterest.com/js/pinit.js")).done(function(){e.css("visibility","visible")}),window.dctk&&dctk.onReady)){var s=function(e,t,i,n,a,o){dctk.onReady(function(){dctk.omtr.trackExternalLinks=!1,dctk.omtr.linkTrackVars=e,dctk.omtr.linkTrackEvents=t,dctk.omtr.prop16=i,dctk.omtr.eVar28=n,dctk.omtr.events=a,dctk.omtr.tl(!0,o,"Social:Share Success")})};window.fbAsyncInit=function(){FB.Event.subscribe("edge.create",function(e,t){s("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Facebook.Like","Social.Facebook.Like","event48","o")}),FB.Event.subscribe("message.send",function(e){s("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Facebook.Send","Social.Facebook.Send","event48","o")})},window.gplusCallback=function(){s("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.GPlus.Share","Social.GPlus.Share","event48","o")},twttr.ready(function(e){e.events.bind("tweet",function(e){s("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Twitter.Share","Social.Twitter.Share","event48","o")})}),i(".share-pinterest").on("click",function(){return s("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Pinterest.Share","Social.Pinterest.Share","event48","e"),!1}),i(".share-email").on("click",function(){s("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Email.Share","Social.Email.Share","event48","e")})}i(".share-tab.share-facebook").on("click keydown",function(e){var t,n=i(this);t="https://www.facebook.com/dialog/share?app_id="+o+"&href="+n.data("url")+"&redirect_uri="+n.data("url")+"&display=popup","click"!==e.type&&("keydown"!==e.type||13!==e.keyCode&&32!==e.keyCode)||(e.preventDefault(),window.open(t,"","width=626,height=436"))}),i(".share-tab.share-twitter").on("click keydown",function(e){var t,n=i(this);t="https://twitter.com/intent/tweet?url="+n.data("url")+"&text="+n.data("description"),"click"!==e.type&&("keydown"!==e.type||13!==e.keyCode&&32!==e.keyCode)||(e.preventDefault(),window.open(t,"","width=626,height=436"))}),i(".share-tab.share-googleplus").on("click keydown",function(e){var t,n=i(this);t="https://plus.google.com/share?url="+n.data("url"),"click"!==e.type&&("keydown"!==e.type||13!==e.keyCode&&32!==e.keyCode)||(e.preventDefault(),window.open(t,"","width=600,height=600"))}),i(".share-tab.share-pinterest").on("click keydown",function(e){var t,n=i(this);t="https://pinterest.com/pin/create/button/?url="+n.data("url")+"&media="+n.data("imageUrl")+"&description="+n.data("description"),"click"!==e.type&&("keydown"!==e.type||13!==e.keyCode&&32!==e.keyCode)||(e.preventDefault(),window.open(t,"","width=600,height=300"))})}(),n}),define("uitk_map",["uitk_domReady","jquery","handlebars","uitk","uitk_i18n","uitk_focus","uitk_pubsub","uitk_allyutils","uitk_hbsutils","uitk_metadata","uitk-map-template.hbs","button-tag.hbs","map-infowindow.hbs"],function(e,t,i,n,a,o,s,r,l,c){"use strict";n.map={};var u,d,h;return n.map.loadApi=function(){h=n.map.config||{},h.mapApiUrl=h.mapApiUrl||"//maps.googleapis.com/maps/api/js?v=3&callback=uitk.map.initPlugin",u=h.mapApiUrl,h.client=h.client||"gme-expedia",u=u+"&client="+h.client,h.language&&(u=u+"&language="+h.language),h.channel&&(u=u+"&channel="+h.channel);var e=document.createElement("script");e.type="text/javascript",e.src=u,document.body.appendChild(e)},n.map.initPlugin=function(){d()},d=function(){function e(e,i){var n;this.element=t(e),i=i||{},n=this.element.data()||{},this.options=t.extend(!0,{},p,n,i),this.getCustomParams(),this.init()}var i,u="uitk_map",d=t("body"),h=t(document),p={title:!1,subtitle:!1,center:"0,0",zoom:2,zoomToFit:!1,template:"uitk-map-template",sidebar:!1,sidebarContent:"",mapType:"ROADMAP",maxZIndex:5e3,fullscreen:!0,lastFocusable:null},f=google.maps.ControlPosition,g={toggleGroup:n.isRtl?f.LEFT_TOP:f.RIGHT_TOP,pan:n.isRtl?f.RIGHT_CENTER:f.LEFT_CENTER,zoom:n.isRtl?f.LEFT_BOTTOM:f.RIGHT_BOTTOM,mapType:n.isRtl?f.TOP_LEFT:f.TOP_RIGHT,streetView:n.isRtl?f.LEFT_BOTTOM:f.RIGHT_BOTTOM},m="map-overlay",v="active",b="map-active",y="map-close",k="click."+u,w="",C=o(),T=C.focusEvent(),P=function(){var e=t("."+m+"."+v);e.each(function(){t(this).data("map").close()}),h.off("keydown",function(e){27===e.keyCode&&P()})},S=function(){w&&(C.blur(w),C.disable())};e.prototype={constructor:e,init:function(){var e=this,t=e.element;t.attr("data-control","map"),e.mapTemplate||(e.mapTemplate=l.getCompiledTemplate(e.options.template,!0),l.getCompiledTemplate("button-tag",!0)),e.canvasId=r.createUniqueId()+"-canvas",e.getHtml(),e.options.fullscreen||e.open()},appendHtml:function(){var e=this,t=e.mapHtml;t.data("map",e),e.options.fullscreen?t.appendTo(d):e.element.prepend(t),setTimeout(function(){t.addClass(v),e.options.fullscreen&&d.addClass(b),e.loadMap()},100)},onMapAppended:function(){var e=this;w&&(e.token=s.subscribe(T,e,e.onFocusCapture),C.setFocusContextSelector("."+m+"."+v),C.enable(),C.firstFocus())},onFocusCapture:function(e,i){var n,a,o,s,l=this,c=l.options.lastFocusable,u=r.focusableElements(t(i.container));if("undefined"!=typeof u){if(a=u.index(i.focused),o=u.length,s=o>1,t(".uitk-tooltip.active-tooltip").each(function(e,a){if(i.focused&&t.contains(a,i.focused))return n=!0,!1}),s){if(o===a+1&&i.container)i.focused.addEventListener("keydown",function(e){c=i.focused,9!==e.which||e.shiftKey?9===e.which&&e.shiftKey&&(e.preventDefault(),u[a-1].focus()):(e.preventDefault(),u[0].focus())});else if(0===a)i.focused.addEventListener("keydown",function(e){9===e.which&&e.shiftKey&&(e.preventDefault(),u[o-1].focus())});else if(c)return void c.removeEventListener("keydown")}else 1===o&&i.focused.addEventListener("keydown",function(e){var i=t(e.currentTarget);9===e.which&&i.hasClass("map-close")&&e.preventDefault()});i.isContainedInContext||n||C.focus()}},getCustomParams:function(){var e,i,a=n.map.data,o=this.options;a&&(e=a[o.configId],"object"==typeof e&&(i=e.customParams,i&&(o=t.extend(!0,o,i))))},getHtml:function(){var e,i=this,n=i.getMapData();e=i.options.closeButtonText?i.options.closeButtonText:a.t("map_close"),i.options.fullscreen?(n.closeButton={type:"button",classes:"btn-sub-action btn-secondary map-close",content:e},i.mapHtml=t(i.mapTemplate(n))):i.mapHtml=t('<div id="'+i.canvasId+'" class="map-canvas"></div>')},getMapData:function(){var e=this,t={},i=e.options;return t.title=i.title,t.subtitle=i.subtitle,t.id=i.configId,t.sidebar=i.sidebar||i.legend,t.sidebarContent=i.sidebarContent||i.legendContent,t.legend=t.sidebar,t.legendContent=t.sidebarContent,t.canvasid=e.canvasId,t},getData:function(e){var t,i,a=n.map.data;return a&&(t=a[this.options.configId],t&&(i=t[e])),i},getMarkerData:function(){return this.getData("markerData")},loadToggleGroups:function(){var e=this,i=e.getData("toggleGroups"),n=t('<fieldset class="toggleGroups"></fieldset>');if(i&&i.length){for(var a=0;a<i.length;a++){var o=i[a];o.toggled=o.defaultToggled,e.toggleGroups||(e.toggleGroups={}),o.toggles=[],e.toggleGroups[o.key]=o;var s=!!o.defaultToggled,r=t('<span class="inline-label"></span>').text(o.localizedName),l=t('<input type="checkbox" name="toggleGroup" />').attr("id",o.key).attr("value",o.key).prop("checked",s),c=t('<label class="check toggleGroup"></label>').attr("for",o.key).append(l).append(r);n.append(c)}e.map.controls[g.toggleGroup].push(n[0]),t("#"+e.canvasId).on("change",".toggleGroup input",function(){var i=t(this),n=i.is(":checked"),a=i.val();e.updateToggleItems(a,n)})}},queueToggle:function(e,t){var i=this;e&&i.toggleGroups[e]&&t&&t.setMap&&i.toggleGroups[e].toggles.push(t)},setInitialToggleStates:function(){var e=this;for(var t in e.toggleGroups)if(e.toggleGroups.hasOwnProperty(t)){var i=e.toggleGroups[t];e.updateToggleItems(t,i.toggled)}},updateToggleItems:function(e,t){var i=this,n=i.toggleGroups[e],a=n.toggles,o=t?i.map:null;n.toggled=t;for(var s=0;s<a.length;s++)a[s].setMap(o)},loadMarkers:function(){var e=this,i=e.getMarkerData(),n=[];if(e.markers=[],e.currMarkerData=null,i&&t.each(i.markers,function(t,i){e.loadMarker(i);var a=e.stringToLatLng(i.latlong);"undefined"!=typeof a&&n.push(a)}),e.options.zoomToFit){e.bounds=new google.maps.LatLngBounds;for(var a=0,o=n.length;a<o;a++)e.bounds.extend(n[a]);e.map.fitBounds(e.bounds)}google.maps.event.addListener(e.infowindow,"closeclick",function(){e.closeMarkerInfo()})},loadMarker:function(e){var t,i=this,n=i.stringToLatLng(e.latlong);if("undefined"!=typeof n){var a,o=i.customMarker(e.type,e.letter);e.hoverType&&(a=i.customMarker(e.hoverType));var s;"undefined"!=typeof e.name&&(s=e.name.replace(/(<([^>]+)>)/gi,"").replace(/(\r\n|\n|\r)/gm,"")),t=new google.maps.Marker({map:i.map,title:s,content:e.content,position:n,icon:o.icon,hoverIcon:a?a.icon:void 0,noHoverIcon:o.icon,zIndex:e.zIndex?e.zIndex:i.options.maxZIndex,animation:e.createAnimation?google.maps.Animation.BOUNCE:void 0}),e.createAnimation&&setTimeout(function(){t.setAnimation(null)},740),e.showContent&&i.showMarkerInfo(t,e),google.maps.event.addListener(t,"click",function(){i.showMarkerInfo(t,e)}),t.hoverIcon&&(google.maps.event.addListener(t,"mouseover",function(){var e=this;e.setIcon(e.hoverIcon)}),google.maps.event.addListener(t,"mouseout",function(){var e=this;e.setIcon(e.noHoverIcon)}));var r=e.toggleGroup;r&&i.queueToggle(r,t),i.options.maxZIndex--}return i.markers&&i.markers.push(t),t},customMarker:function(e,t){var i,n,a,o={},s=c.corePath();switch(o.icon={},o.letter=t,e){case"blue-pin":i=s+"images/blu-marker.png";break;case"red-dot":i=s+"images/reddot.png",n=new google.maps.Size(10,10),a=new google.maps.Point(5,5);break;case"red-pin":i=s+"images/red-marker.png","string"==typeof o.letter&&o.letter.length&&(i="http://mt.google.com/vt/icon?psize=16&font=fonts/Roboto-Regular.ttf&color=ff330000&name=icons/spotlight/spotlight-waypoint-b.png&ax=44&ay=48&scale=1&text="+o.letter);break;case"grey-pin":i=s+"images/grey-marker.png";break;case"":case void 0:i=s+"images/red-marker.png";break;default:var r=e.size,l=e.anchor,u=e.url;u?(r&&(n=new google.maps.Size(r.x,r.y)),l&&(a=new google.maps.Point(l.x,l.y)),i=u):i=s+"images/red-marker.png"}return o.icon.url=i,o.icon.size=n,o.icon.anchor=a,o},showMarkerInfo:function(e,t){var n,a,o,r,c=this,u="";if(e&&t&&(n=t.name,a=t.content,r=t.width,"undefined"!=typeof a)){i||(i=l.getCompiledTemplate("map-infowindow",!0));try{o={title:n,secondaryContent:a},r&&(o.markerWidth=r),u=i(o)}catch(d){u=""}c.infowindow.setContent(u),e.autoPan||"undefined"==typeof e.autoPan||c.infowindow.setOptions({disableAutoPan:!0}),c.infowindow.open(c.map,e),c.currMarkerData=t,c.currMarkerData=t,s.publish&&s.publish("map.marker.opened",t)}},closeMarkerInfo:function(){var e=this;e.infowindow.close(),s.publish&&null!==e.currMarkerData&&s.publish("map.marker.closed",e.currMarkerData),e.currMarkerData=null},loadPolygons:function(){var e=this,i=e.getData("polygonData"),n=[];if(i){var a=i.polygons;if(a&&t.isArray(a))for(var o=0;o<a.length;o++){var s=a[o],r=e.loadPolygon(s);n.push(r)}}e.polygonList=n},loadPolygon:function(e){var t=this,i=e.latLongs,n=t.convertPolygonLatLngsToGoogle(i),a=t.buildGooglePolygon(e,n),o=e.toggleGroup;return o&&t.queueToggle(o,a),google.maps.event.addListener(a,"mouseover",function(){this.active||this.setOptions(this.hoverStyle)}),google.maps.event.addListener(a,"mouseout",function(){this.active||this.setOptions(this.defaultStyle)}),google.maps.event.addListener(a,"click",function(){var e=!t.active;t.clearPolygonActiveState(),t.active=e,t.togglePolygonActiveState(this),t.openPolygonInfo(this)}),a},convertPolygonLatLngsToGoogle:function(e){var i,n=this;if(e&&t.isArray(e)){i=[];for(var a=0;a<e.length;a++){var o=e[a],s=n.stringToLatLng(o);s&&i.push(s)}}return i},buildGooglePolygon:function(e,i){var n,a,o,s,r,l=this;return e&&i&&t.isArray(i)&&i.length>0&&(n=l.buildPolygonStyleObj(e),a=l.buildPolygonStyleObj(e.hoverStyle,n),o=l.buildPolygonStyleObj(e.activeStyle,n),s=t.extend({map:l.map,paths:i},n),r=new google.maps.Polygon(s),r.defaultStyle=n,r.hoverStyle=a,r.activeStyle=o,r.content=e.content),r},buildPolygonStyleObj:function(e,i){var n={strokeColor:"#FFF",strokeOpacity:1,strokeWeight:1,fillColor:"#FFF",fillOpacity:.5},a=i?{strokeColor:i.strokeColor,strokeOpacity:i.strokeOpacity,strokeWeight:i.strokeWeight,fillColor:i.fillColor,fillOpacity:i.fillOpacity}:{},o=e?{strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight,fillColor:e.fillColor,fillOpacity:e.fillOpacity}:{},s=t.extend(n,a,o);return s},openPolygonInfo:function(e){var i,n="removeClass";e.content&&(e.active&&(i=e.content,n="addClass"),t("#polygonLegend").html(i),t(".map-overlay")[n]("has-polygon-legend"),google.maps.event.trigger(this.map,"resize"))},togglePolygonActiveState:function(e){var t=e.active?e.activeStyle:e.hoverStyle;e.setOptions(t)},clearPolygonActiveState:function(){var e=this;if(e.polygonList)for(var t=0;t<e.polygonList.length;t++){var i=e.polygonList[t];i.active=!1,i.setOptions(i.defaultStyle)}},loadCircles:function(){var e=this,i=e.getData("circleData"),n=[];if(i){var a=i.circles;if(a&&t.isArray(a))for(var o=0;o<a.length;o++){var s=a[o],r=e.loadCircle(s);n.push(r)}}e.circleList=n},loadCircle:function(e){var t=this,i=e.centerLatLong,n=t.convertCircleLatLngToGoogle(i),a=e.radius,o=t.buildGoogleCircle(e,n,a),s=e.toggleGroup;return s&&t.queueToggle(s,o),google.maps.event.addListener(o,"mouseover",function(){this.active||this.setOptions(this.hoverStyle)}),google.maps.event.addListener(o,"mouseout",function(){this.active||this.setOptions(this.defaultStyle)}),google.maps.event.addListener(o,"click",function(){var e=!t.active;t.clearCircleActiveState(),t.active=e,t.toggleCircleActiveState(this),t.openCircleInfo(this)}),o},convertCircleLatLngToGoogle:function(e){var t,i=this;return e&&(t=i.stringToLatLng(e)),t},buildGoogleCircle:function(e,i,n){var a,o,s,r,l,c=this;return e&&i&&n&&(a=c.buildCircleStyleObj(e),o=c.buildCircleStyleObj(e.hoverStyle,a),s=c.buildCircleStyleObj(e.activeStyle,a),r=t.extend({map:c.map,center:i,radius:n},a),l=new google.maps.Circle(r),l.defaultStyle=a,l.hoverStyle=o,l.activeStyle=s,l.content=e.content),l},buildCircleStyleObj:function(e,i){var n={strokeColor:"#FFF",strokeOpacity:1,strokeWeight:1,fillColor:"#FFF",fillOpacity:.5},a=i?{strokeColor:i.strokeColor,strokeOpacity:i.strokeOpacity,strokeWeight:i.strokeWeight,fillColor:i.fillColor,fillOpacity:i.fillOpacity}:{},o=e?{strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight,fillColor:e.fillColor,fillOpacity:e.fillOpacity}:{},s=t.extend(n,a,o);return s},openCircleInfo:function(e){var i,n="removeClass";e.content&&(e.active&&(i=e.content,n="addClass"),t("#circleLegend").html(i),t(".map-overlay")[n]("circle-legend"),
google.maps.event.trigger(this.map,"resize"))},toggleCircleActiveState:function(e){var t=e.active?e.activeStyle:e.hoverStyle;e.setOptions(t)},clearCircleActiveState:function(){var e=this;if(e.circleList)for(var t=0;t<e.circleList.length;t++){var i=e.circleList[t];i.active=!1,i.setOptions(i.defaultStyle)}},loadMap:function(){var e,i,a,o=this,r=o.stringToLatLng(o.options.center),l=o.options,c=google.maps;if(o.center=r,e={scaleControl:!0,center:o.center,zoom:l.zoom,mapTypeId:c.MapTypeId[l.mapType]},!l.fullscreen&&l.title&&(e.panControlOptions={position:g.pan},e.zoomControlOptions={position:g.zoom},e.mapTypeControlOptions={position:g.mapType},e.streetViewControlOptions={position:g.streetView}),n.isTouchDevice&&l.fullscreen){var u=document.documentElement.clientWidth/window.innerWidth;u>1.01&&(e.draggable=!1,e.scrollwheel=!1)}i=n.map.data[l.configId],"object"==typeof i.mapOptions&&t.extend(e,i.mapOptions),o.map=new c.Map(document.getElementById(o.canvasId),e),n.map.data[l.configId].module=o,o.infowindow=new c.InfoWindow({maxWidth:400}),o.loadToggleGroups(),o.loadCircles(),o.loadMarkers(),o.loadPolygons(),o.setInitialToggleStates(),n.mapObj=o.map,s.publish&&s.publish("map.appended",o),s.subscribe("debounced.resize",function(){l.zoomToFit?o.map.fitBounds(o.bounds):(a=o.map.getCenter(),o.center=a,o.map.setCenter(o.center))}),c.event.addListener(o.map,"click",function(){o.closeMarkerInfo()})},open:function(e){var i=this;e&&(w=e instanceof jQuery?e:t(e)),s.subscribe("map.appended",i,i.onMapAppended),n.isTouchDevice&&(i.scrollPosition=h.scrollTop()),i.appendHtml(),i.options.fullscreen&&setTimeout(function(){var e,t,n=0;e=window.isIE8?[]:document.querySelectorAll('body > :not(#uitk-live-announce):not(script):not([aria-hidden="true"]):not(.'+m+")"),t=e.length,setTimeout(function(){for(n=0;n<t;n++)e[n].className.indexOf("uitk-aria-hidden")===-1&&(e[n].className+=" uitk-aria-hidden",e[n].setAttribute("aria-hidden",!0));i.focusMapHeading()},50),h.on("keydown",function(e){27===e.keyCode&&P()})},100)},focusMapHeading:function(){var e,i=t("."+m),n=i.find(".map-heading"),a=i.find(".subtitle"),o=i.find(".map-close");e=n.length>0?n:a.length>0?a:o,r.focusElement(e)},close:function(){var e=this;if(s.publish&&s.publish("map.close",e),e.options.fullscreen){d.removeClass(b),n.isTouchDevice&&h.scrollTop(e.scrollPosition);var t=document.getElementsByClassName("uitk-aria-hidden"),i=t.length;for(i;i>0;i--)t[i-1].removeAttribute("aria-hidden"),t[i-1].className=t[i-1].className.replace(" uitk-aria-hidden","")}e.mapHtml.removeClass(v),setTimeout(function(){e.mapHtml.remove(),n.mapObj=null,delete n.mapObj,S()},600)},stringToLatLng:function(e){var t,i=",";if("string"==typeof e&&e.indexOf(i)>0){var n=e.split(i),a=parseFloat(n[0]),o=parseFloat(n[1]);"number"!=typeof a||isNaN(a)||"number"!=typeof o||isNaN(o)||(t=new google.maps.LatLng(a,o))}return t}},t.fn[u]=function(){var i,n,a;return"object"==typeof arguments[0]?(i=arguments[0],n=arguments[1],a=arguments[2]):(i={},n=arguments[0],a=arguments[1]),this.each(function(){t.data(this,u)||t.data(this,u,new e(this,i)),"string"==typeof n&&t.data(this,u)[n](a)})},t('[data-control="map"][data-fullscreen="false"]')[u](),d.on(k,'[data-control="map"][data-fullscreen="true"]',function(e){var i=w=t(e.target).closest('[data-control="map"]');e.preventDefault(),i[u]("open")}),d.on(k,"."+y,function(e){e.preventDefault(),P()}),n.map.create=function(t,i){var n=new e(null,t);return n.open(i),n},n.map.close=P,s.publish&&s.publish("mapLoaded"),n.modules.Map=e},n.map}),define("uitk_pagination",["uitk_domReady","jquery","uitk_plugins","handlebars","uitk_i18n","uitk_mediaquery","uitk_pubsub","uitk_allyutils","uitk_hbsutils"],function(e,t,i,n,a,o,s,r,l){"use strict";function c(e,i){if(this.DEFAULT_RESULTS_PER_PAGE=10,this.DEFAULT_TOTAL_PAGES_TO_DISPLAY=7,this.$element=t(e),this.topLink=this.$element.data("top-link")||!1,"boolean"!=typeof this.topLink)throw new TypeError("UITK Pagination: The 'data-top-link' attribute must be true or false.");if(this.totalNumberOfResults=this.$element.data("total-results"),!this.totalNumberOfResults)throw new ReferenceError("UITK Pagination: The pagination control requires a 'data-total-results' attribute.");if("number"!=typeof this.totalNumberOfResults)throw new TypeError("UITK Pagination: The 'data-total-results' attribute must be a number.");if(this.currentFirstResult=this.$element.data("first-result"),!this.currentFirstResult)throw new ReferenceError("UITK Pagination: The pagination control requires a 'data-first-result' attribute.");if("number"!=typeof this.currentFirstResult)throw new TypeError("UITK Pagination: The 'data-first-result' attribute must be a number.");if(this.resultsPerPage=this.$element.data("per-page"),this.resultsPerPage&&0!==this.resultsPerPage){if("number"!=typeof this.resultsPerPage)throw new TypeError("UITK Pagination: The 'data-per-page' attribute must be a number.")}else this.resultsPerPage=this.DEFAULT_RESULTS_PER_PAGE;if(this.totalPagesToDisplay=this.$element.data("pages-to-display"),this.totalPagesToDisplay&&0!==this.totalPagesToDisplay){if("number"!=typeof this.totalPagesToDisplay)throw new TypeError("UITK Pagination: The 'data-pages-to-display' attribute must be a number.")}else this.totalPagesToDisplay=this.DEFAULT_TOTAL_PAGES_TO_DISPLAY;if(this.showResultsInPageUnit=this.$element.data("results-page-unit")||!1,"boolean"!=typeof this.showResultsInPageUnit)throw new TypeError("UITK Pagination: The 'data-results-page-unit' attribute must be true or false.");if(this.showAlwaysFirstAndLastPage=this.$element.data("show-always-first-last")||!1,"boolean"!=typeof this.showAlwaysFirstAndLastPage)throw new TypeError("UITK Pagination: The 'data-show-always-first-last' attribute must be true or false.");this.totalPages=Math.ceil(this.totalNumberOfResults/this.resultsPerPage),this.displayPagination=this.totalPages>1,this.currentPageNum=Math.ceil(this.currentFirstResult/this.resultsPerPage),this.showEllipses=!1,this.firstPage={number:1,isCurrentPage:!1},this.lastPage={number:this.totalPages,isCurrentPage:!1},this.showResults=!0,this.isSinglePage=1===this.totalPages,this.showFirstEllipses=!1,this.showLastEllipses=!1;var n=this.$element.data();this.topLinkFocus=n.topLinkFocus||"#header-logo",this.topLinkText=n.topLinkText||a.t("pagination_top_of_page"),this.topLinkFocus.indexOf("#")<0&&(this.topLinkFocus="#"+this.topLinkFocus),this.init()}var u,d="uitk_pagination",h="click",p=t("body");c.prototype={constructor:c,init:function(){var e="uitk-pagination-page-template",t=this;if(n.registerPartial(e,l.getCompiledTemplate(e)),this.calculateValues(),t.showPages=!0,Modernizr.mediaqueries){var i=function(e,i){"pag_isMobile"===i.key&&t.showPages!==!1&&(t.showPages=!1,t.render()),"pag_isNotMobile"===i.key&&t.showPages!==!0&&(t.showPages=!0,t.render())};s.subscribe("mediaquery.matched",i),o.register({pag_isMobile:"(max-width: 600px)",pag_isNotMobile:"(min-width: 601px)"})}this.render()},calculateValues:function(){var e=this.calcStartPage(this.totalPages,this.totalPagesToDisplay,this.currentPageNum),t=Math.min(this.totalPagesToDisplay,this.totalPages);this.calcPageVars(this.currentPageNum,this.totalPages),this.currentLastResult=Math.min(this.currentFirstResult+this.resultsPerPage-1,this.totalNumberOfResults),this.showAlwaysFirstAndLastPage?(this.showFirstEllipses=!1,this.showLastEllipses=!1,e>1&&(this.showFirstEllipses=!0,e+=1,t-=1),e+t<=this.totalPages&&(this.showLastEllipses=!0,t-=1)):(this.showEllipses=this.calcShowEllipses(e,t,this.totalPages),this.showEllipses&&(t-=2,e=Math.ceil(this.currentPageNum-t/2))),this.pages=this.generatePages(t,e,this.currentPageNum)},calcStartPage:function(e,t,i){return e<t||i<=t/2?1:i===e||i+t/2>=e?e-t+1:Math.ceil(i-t/2)},calcPageVars:function(e,t){this.onFirstPage=1===e,this.onLastPage=e===t,this.prevPageNum=e-1,this.nextPageNum=e+1,this.updateFirstAndLastPage()},updateFirstAndLastPage:function(){this.firstPage.isCurrentPage=this.onFirstPage,this.lastPage.isCurrentPage=this.onLastPage},calcShowEllipses:function(e,t,i){return e>1&&e+t<=i},generatePages:function(e,t,i){for(var n=[],a=0;a<e;a++)n[a]={number:t+a},i===t+a&&(n[a].isCurrentPage=!0);return n},goToPage:function(e){this.currentPageNum=e,this.currentFirstResult=(this.currentPageNum-1)*this.resultsPerPage+1,this.calculateValues(),this.render();var t={pageNumber:e};s.publish("pagination.pageChanged",t)},prevPage:function(){this.goToPage(this.currentPageNum-1)},nextPage:function(){this.goToPage(this.currentPageNum+1)},render:function(){var e=l.getCompiledTemplate("uitk-pagination-content-template"),t=e(this);this.$element.html(t)}},i.initPlugin(d,c),t(".pagination[data-single-page]")[d]();var f=t(".pagination-update");return u=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return null!==e&&e.length>=4?[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]:[]}return[]},u()[0]<=5&&(h="touchend"),p.on(h,".pagination-label",function(e){var i=e.currentTarget,n=t(i),a=n.closest(".pagination[data-single-page]"),o="BUTTON"===i.nodeName.toUpperCase()?n:n.prev("input"),s=parseInt(o.val(),10);e.preventDefault(),a[d]("goToPage",s),r.focusElement(f)}),p.on(h,".pagination-prev, .pagination-next",function(e){var i=t(e.currentTarget),n=i.closest(".pagination[data-single-page]");e.preventDefault(),i.hasClass("pagination-prev")?n[d]("prevPage"):n[d]("nextPage"),r.focusElement(f)}),p.on("keyup",".pagination input, button.pagination-label",function(e){var i=t(e.currentTarget),n=i.closest(".pagination");if(32===e.keyCode){var a=parseInt(i.val(),10);n[d]("goToPage",a),r.focusElement(f)}}),p.on("click",".backToTop",function(e){e.preventDefault();var i=t(t(this).attr("href")),n=i.offset().top;r.focusElement(i),window.scrollTo(0,n)}),c}),define("uitk_respSortbar",["uitk_domReady","jquery","handlebars","uitk_i18n","uitk_plugins","uitk_mediaquery","uitk_pubsub","uitk_allyutils","uitk_hbsutils","uitk-responsive-sortbar-template.hbs","uitk-responsive-sortbar-contents-template.hbs","uitk-responsive-sortbar-options-template.hbs","uitk-responsive-sortbar-more-template.hbs","icon-tag.hbs"],function(e,t,i,n,a,o,s,r,l){"use strict";function c(e,t){a.newModule.call(this,e,t,h)}var u="uitk_responsive_sortbar",d=t("body"),h={barTemplateId:"uitk-responsive-sortbar-template",contentsTemplateId:"uitk-responsive-sortbar-contents-template",optionsTemplateId:"uitk-responsive-sortbar-options-template",moreTemplateId:"uitk-responsive-sortbar-more-template",minVisibleWithLabel:2,selectView:!0,selectViewForce:!1,viewFlip:"mobile"},p="click."+u;return c.prototype={constructor:c,init:function(){var e,t=this,i=t.options,n=i.viewFlip,a=i.selectView,r=i.selectViewForce,l="uitk_rsb_"+n,c=Modernizr.mq("only all");c&&a&&!r?(e=s.subscribe("mediaquery.matched",function(i,n){n.key===l&&(s.unsubscribe("mediaquery.matched",e),t.addSortBar())}),s.subscribe("mediaquery.matched",function(e,i){i.key===l+"_down"?t.currentView="select":i.key===l&&(t.currentView="bar")}),o.publishAgain()):c&&a?t.currentView="select":(t.currentView="bar",t.addSortBar()),t.currentSelection=t.element.find("select").val()},addSortBar:function(){var e=this;e.handleEvent=!0,e.storeTemplates(),e.parseSelect(),e.options.selectViewForce===!1&&e.appendBarHtml(),e.storeOptionWidths(),e.updateVisibility(),e.optionsJson.more&&e.updateSortbar(!0),s.subscribe("throttled.resize",function(){e.handleResize()})},storeTemplates:function(){var e=this,t=l.getCompiledTemplate("icon-tag");i.registerPartial("button-tag",l.getCompiledTemplate("button-tag")),e.barTemplate=l.getCompiledTemplate(e.options.barTemplateId,!0),e.contentsTemplate=l.getCompiledTemplate(e.options.contentsTemplateId,!0),e.optionsTemplate=l.getCompiledTemplate(e.options.optionsTemplateId,!0),e.moreTemplate=l.getCompiledTemplate(e.options.moreTemplateId,!0),i.registerPartial("icon-tag",t)},parseSelect:function(){var e,t=this,i={},n=t.element.find(".sort-bar-select-wrap"),a=n.find("select"),o=n.find(".btn-label > .visuallyhidden").html(),s=n.find(".inline-label").text(),r=a.children("option"),l=r.length,c=!!d.hasClass("inverse")&&"right";for(t.optionsJson={},t.optionsJson.order=[],t.optionsJson.visibleOrder=[],t.optionsJson.invisibleCount=0,t.optionsJson.filterLabel=o,t.optionsJson.sortLabel=s,t.optionsJson.showSortLabel=!0,t.optionsJson.toggleLeft=n.hasClass("toggle-left"),t.optionsJson.toggleRight=n.hasClass("toggle-right"),t.optionsJson.moreLabel=t.options.moreLabel,t.optionsJson.inverse=c,e=0;e<l;e+=1){var u=r.eq(e),h=u.data("optGroup"),p=t.parseOptions(u),f={};i[h]?(f.states={},f.states[0]=i[h],f.states[1]=p,f.icon={name:"updown"},f.group=h,f.attributes=i[h].attributes,f.dataAttributes=i[h].dataAttributes,f.states[0].selected?f.selected=!0:f.states[1].selected&&(f.selected=!0)):(t.optionsJson.order.push(h),f=p),f.visible=!0,i[h]=f}t.optionsJson.options=i},parseOptions:function(e){var t,i,n,a,o,s,r={},l=e.data(),c=e.attr("data-attribute-names"),u="";if(r.label=e.text(),r.id=l.optId,r.group=l.optGroup,r.value=e.attr("value"),r.attributes="",c)for(t=c.split(","),i=t.length,s=0;s<i;s++)r.attributes+=" "+t[s]+'="'+e.attr(t[s])+'"';for(n in l)l.hasOwnProperty(n)&&"optId"!==n&&"attributeNames"!==n&&(a=l[n],o=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),u+=" data-"+o+'="'+a+'"');return r.dataAttributes=u,e.prop("selected")&&(r.selected=!0),r},appendBarHtml:function(){var e=this,t=e.optionsJson,i={filterLabel:t.filterLabel,sortLabel:t.sortLabel,toggleLeft:t.toggleLeft,toggleRight:t.toggleRight,moreLabel:t.moreLabel,showSortLabel:!0,options:e.getOptionsArray(),toggleButton:{type:"button",cssClass:"btn-sub-action btn-primary btn-has-text off-canvas-btn",dataAttributes:'data-control="off-canvas-toggle" data-target="[role=complementary]" data-side="'+t.inverse+'"',attributes:'aria-expanded="false"',content:'<span class="icon icon-offcanvas" aria-hidden="true"></span><span class="alt">toggle column</span> '+t.filterLabel}};e.element.append(e.barTemplate(i))},getOptionsArray:function(){var e=this.optionsJson;return t.map(e.order,function(t){return[e.options[t]]})},storeOptionWidths:function(){var e,t=this,i=t.element.find(".sort-options"),n=i.find(".tab"),a=n.length,o=0;for(e=0;e<a;e+=1){var s=n.eq(e),r=s.outerWidth()||0;o+=r,t.optionsJson.options[s.data("optGroup")].width=r}t.optionsJson.totalWidth=o,t.optionsJson.sortLabelWidth=i.find(".sort-bar-label").outerWidth()||0},publishChanged:function(){var e=this.element.find("select").val(),t=e!==this.currentSelection;this.currentSelection=e,s.publish("sortBar.changed",{sortBy:e,hasChanged:t})},handleResize:function(){var e=this,t=e.updateVisibility();e.updateSortbar(t,!1)},handleSelect:function(e){var t=this;if(t.handleEvent){var i,n,a=e.find(":selected").data();n=t.updateSelection(a.optGroup,a.optId),i=t.updateVisibility(),t.updateSortbar(i,n)}t.publishChanged()},handleSortBar:function(e,t){var i,n,a=this,o=e.data();a.element.find(".more.open .tab").uitk_dropDown("close"),"bar"===t?n=a.updateSelection(o.optGroup):"menu"===t&&(n=a.updateSelection(o.optGroup,o.optId)),i=a.updateVisibility(),a.updateSortbar(i,n),a.updateSelect(),a.handleFocus(t),a.announceSortStatus(o),a.publishChanged()},handleFocus:function(){var e=this,t=e.element,i=t.find(".selected");r.focusElement(i)},announceSortStatus:function(e){var t,i,a,o=this,s=o.optionsJson,l=o.optionsJson.options[e.optGroup],c=l.group,u="";t=s.visibleOrder.length>0?s.visibleOrder:s.order;for(var d=0;d<t.length;d++)t[d].indexOf(c)>-1&&(a=d+1);i=s.more?t.length+1:t.length,u=n.t("resp_sort_bar_results_label",{arg0:c,arg1:a,arg2:i}),r.liveAnnounce(u,"assertive")},updateSelection:function(e,t){var i,n,a=this,o=a.optionsJson.options,s=o[e],r=s.states,l=!1,c=function(e){e===i?(i.selected=!0,n.selected=!1):(i.selected=!1,n.selected=!0)};if(s.selected)l=!0;else{for(var u in o)o.hasOwnProperty(u)&&(o[u].selected=!1);s.selected=!0}return r&&(i=r[0],n=r[1],t?c(n.id===t?n:i):l?l&&c(n.selected?i:n):c(i)),!l},updateVisibility:function(){var e,t,i=this,n=i.element.find(".sort-options"),a=i.optionsJson.sortLabelWidth,o=n.width()-a-16,s=i.optionsJson,r=s.options,l=s.order,c=s.visibleOrder=[],u=l.length,d=s.totalWidth,h=!1,p=0,f=u-i.options.minVisibleWithLabel,g=!0;if(d<o){for(t in r)r.hasOwnProperty(t)&&(r[t].visible!==!0&&(h=!0),r[t].visible=!0);i.optionsJson.showSortLabel||(i.optionsJson.showSortLabel=!0,h=!0),this.optionsJson.more=!1}else{var m=!1,v=d;for(e=u-1;e>=0;e-=1){var b=r[l[e]];b.selected?(b.visible!==!0&&(h=!0),b.visible=!0):(v<o?m=!0:p===f&&(g=!1,o+=a,v<o&&(m=!0)),m||(v-=b.width,p+=1),g!==i.optionsJson.showSortLabel&&(i.optionsJson.showSortLabel=g,h=!0),b.visible!==m&&(h=!0,b.visible=m)),b.visible&&c.unshift(b.group)}this.optionsJson.more=!0}return h},updateSortbar:function(e,t){var i=this;e?i.updateHtml(".sort-bar-container","contentsTemplate"):t&&i.updateOptions()},updateOptions:function(){this.updateHtml(".sort-options","optionsTemplate")},updateHtml:function(e,t){var i=this,n=document.activeElement,a=!1,o=i.optionsJson,s=i.element.find(".more.open").length>0||!1,l={options:i.getOptionsArray(),more:o.more,moreOpen:s,sortLabel:o.sortLabel,moreLabel:o.moreLabel,moreIcon:{name:"toggle180"},showSortLabel:o.showSortLabel};(i.element.find(n).length>0||i.element[0]===n)&&(a=!0),i.element.find(e).html(i[t](l)),a&&r.focusElement(i.element)},updateSelect:function(){var e=this,t=e.getSelected();e.element.find("select").children('option[data-opt-id="'+t.id+'"]').prop("selected",!0).addBack().siblings().prop("selected",!1)},getSelected:function(){var e,t={},i=this.optionsJson.options;for(var n in i)i.hasOwnProperty(n)&&(e=i[n],e.selected&&(t.group=e.group,e.states?t.id=e.states[1].selected?e.states[1].id:e.states[0].id:t.id=e.id));return t}},a.initPlugin(u,c),d.on(p,".responsive-sortbar .sort-options .btn-sort",function(e){var i=t(e.target).closest(".btn-sort"),n=i.closest('[data-control="responsive-sortbar"]');n[u]("handleSortBar",i,"bar")}),d.on(p,".responsive-sortbar .menu .btn-sort",function(e){e.preventDefault();var i=t(e.target).closest(".btn-sort"),n=i.closest('[data-control="responsive-sortbar"]');n[u]("handleSortBar",i,"menu")}),d.on("change",'[data-control="responsive-sortbar"] select',function(e){var i=t(e.target),n=i.closest('[data-control="responsive-sortbar"]'),a=i.closest("select");n[u]("handleSelect",i),r.focusElement(a)}),o.register("(min-width:30.75em)","uitk_rsb_mobile"),o.register("(min-width:45.375em)","uitk_rsb_smallTablet"),o.register("(min-width:60em)","uitk_rsb_tablet"),o.register("(max-width:30.6875em)","uitk_rsb_mobile_down"),o.register("(max-width:45.3125em)","uitk_rsb_smallTablet_down"),o.register("(max-width:59.9375em)","uitk_rsb_tablet_down"),t("[data-control=responsive-sortbar]")[u](),uitk.modules.RespSortbar=c,c}),define("uitk_footer",["uitk_domReady","jquery","uitk","uitk_mediaquery","uitk_pubsub"],function(e,t,i,n,a){"use strict";var o=t("#site-footer-wrap").find(".tablet-collapse");if(n.register("(min-width: 320px) and (max-width: 726px)","not-desktop"),o){var s=function(e,i){"not-desktop"===i.key&&t(o).uitk_toggle("close")};a.subscribe("mediaquery.matched",s),n.publishAgain()}return i}),define("uitk_tables",["uitk_domReady","jquery"],function(e,t){var i=function(e){var i,n=e.length;for(i=0;i<n;i++){var a,o=e.eq(i),s=o.next(),r=o.parent(),l=o.find("tr"),c=l.eq(0).find("th"),u=l.length,d=[];if(o.data("tableInit"))return;for(o.detach(),o.data("tableInit",!0),c.each(function(){d.push(t(this).text())}),a=0;a<u;a++){var h,p=l.eq(a),f=p.find("td"),g=f.length;for(h=0;h<g;h++){var m=f.eq(h);m.attr("data-title",d[h])}}s.length>0?o.insertBefore(s):o.appendTo(r)}conditionizr.ie9&&t("table.data-table").hasClass("no-collapse")&&t("table.data-table").wrap('<div class="data-table-wrapper" />')},n=function(e){var e=e||t('[data-control="table"]');i(e)};return uitk.initResponsiveTables=n,i(t('[data-control="table"]')),n}),define("uitk_onOffSwitch",["uitk_domReady","jquery","uitk_pubsub"],function(e,t,i){var n,a,o,s,r,l,c,u=Modernizr.checkedselector,d=".on-off-switch";return o=function(e){var i=e&&e.parents(d).find("input")||t(d).find("input"),n=i&&i.find(":checked");!u&&n&&(i.removeClass("checked"),n.length?n.addClass("checked"):i.each(function(e,i){!!i.checked&&t(i).addClass("checked")})),i.each(function(e,i){i=t(i),i.is(":checked")||i.checked?i.attr("checked","checked"):i.attr("checked",!1)})},s=function(e){return e.val()},r=function(e){return e.attr("name")},l=function(e){return e.closest("fieldset")},c=function(e,t,n){var a={};a.name=t,a.value=n,i.publish("onOffSwitch.changed",e,a)},o(),t("body").on("click",".on-off-switch input",function(e){a=t(e.currentTarget),n=a.closest("input"),c(l(n),r(n),s(n)),o(n)}),uitk.modules.onOffSwitch={publishOnOffSwitchChange:c},uitk.modules.onOffSwitch}),define("uitk_onPageInterstitial",["uitk_domReady","jquery","uitk_i18n","uitk_pubsub","uitk_allyutils","uitk_modal"],function(e,t,i,n,a){var o,s,r,l=!1,c=!1,u=(t("body"),{modalId:"onpage-interstitial-modal",background:!1,dismiss:!1,jsTheme:"onpage-interstitial",showLoader:!1});return n.subscribe("results.changed",function(e,s){function r(){var e=(t(document).scrollTop()+90)/17+"em";I.css({position:"absolute",top:e})}var d,h=s.appendMsg,p=s.screenReaderMsg?s.screenReaderMsg:t("<div></div>").append(h).text(),f=s.replaceMsg,g=s.screenReaderMsg?s.screenReaderMsg:t("<div></div>").append(f).text(),m=t(".modal-body"),v=t(".loader"),b="<p>"+i.t("modal_loader_text_default")+"</p>",y="<span class='loader loader-dark loader-secondary loader-animated'></span>",k=s.screenReaderMsg?s.screenReaderMsg:s.message,w=s.ariaLevel?s.ariaLevel:"assertive";if(s.contentId){if(s.contentId&&"#"!==s.contentId.charAt(0)&&"."!==s.contentId.charAt(0))d=t("#"+s.contentId),s.disable&&(d.append('<div class="opi-overlay" ></div>'),"static"===d.css("position")&&d.css("position","relative"),d.attr("aria-busy","true"));else if(d=t(s.contentId),s.disable)for(var C=s.contentId.split(","),T=0;T<C.length;T++)t(C[T]).append('<div class="opi-overlay" ></div>'),"static"===t(C[T]).css("position")&&d.css("position","relative"),t(C[T]).attr("aria-busy","true");d.addClass("onpage-interstitial-results fade")}if(u.content=s.message,u.showLoader=s.showLoader,u.content&&u.content.indexOf(">")===-1&&(u.content="<p>"+u.content+"</p>"),u.content&&""!==u.content||h||f||(u.content=b,u.showLoader=!0),l&&(o.options.showLoader=u.showLoader),!l||h||f||(o.updateContent(o.options.showLoader?u.content+y:u.content),a.liveAnnounce(k,w)),l||h||f){if(h&&l){var P,S=m.html(),_=v.wrap("<p/>").parent().html(),D=S.indexOf(_);D===-1?(P=S+h,a.liveAnnounce(p,w)):S.toLowerCase().indexOf(b.toLowerCase())===-1?(P=S.substring(0,D)+h+S.substr(D),a.liveAnnounce(p,w)):(P=h+S.substr(D),a.liveAnnounce(p,w)),o.updateContent(P)}f&&l&&(o.updateContent(o.options.showLoader?f+y:f),a.liveAnnounce(g,w))}else{if(u.content=u.showLoader?u.content+y:u.content,o=uitk.modal.create(u),a.liveAnnounce(k,w),!Modernizr.positionfixed){var I=t("#"+u.modalId);r(),n.subscribe("debounced.scroll",function(){r()})}l=!0}s.scrollToTop&&(c=!0)}),n.subscribe("results.complete",function(e,i){var u;i=i||{},u=i.ariaLevel?i.ariaLevel:"polite",i.screenReaderMsg&&a.liveAnnounce(i.screenReaderMsg,u),"focusElement"in i&&""!==i.focusElement&&"#"!==i.focusElement&&(r=t("#"!==i.focusElement.charAt(0)&&"."!==i.focusElement.charAt(0)?"#"+i.focusElement:i.focusElement)),"contentId"in i&&""!==i.contentId&&(s=t("#"!==i.contentId.charAt(0)&&"."!==i.contentId.charAt(0)?"#"+i.contentId:i.contentId)),t(".opi-overlay").remove(),t("[aria-busy = 'true']").attr("aria-busy","false"),l&&(void 0!==r?o.focusMeOnClose=r:o.focusMeOnClose=s,o.close(),void 0!==i&&"contentId"in i&&""!==i.contentId&&s.removeClass("fade onpage-interstitial-results"),l=!1,c&&(setTimeout(function(){window.scroll(0,0)},250),c=!1),Modernizr.positionfixed||n.unsubscribe("debounced.scroll"))}),uitk}),define("uitk_flexcard",["uitk_domReady","jquery","uitk_plugins","uitk_mediaquery","uitk_pubsub"],function(e,t,i,n,a){"use strict";function o(e,t){i.newModule.call(this,e,t,r)}n.register("(max-width:45.3125em)","flexMaxSmallTablet"),n.register("(min-width:45.375em)","flexMinTablet"),n.register("(max-width:59.9375em)","flexMaxTablet"),n.register("(min-width:60em)","flexMinDesktop"),n.register("(max-width:30.6875em)","flexMaxMobile"),n.register("(min-width:30.75em)","flexMinSmallTablet");var s="uitk_flexCard",r={},l={mobile:{flip:"flexMaxMobile",reset:"flexMinSmallTablet"},smallTablet:{flip:"flexMaxSmallTablet",reset:"flexMinTablet"},tablet:{flip:"flexMaxTablet",reset:"flexMinDesktop"}},c="flex-tile",u="flex-listing";return o.prototype={constructor:o,init:function(){var e=this;e.element.children().hasClass("flex-placeholder")&&(a.subscribe("debounced.resize",function(){e.placeholder()}),e.placeholder()),e.options.flexFlip&&(e.options.flexType=e.element.hasClass(c)?c:u,e.options.flipType=e.options.flexType===c?u:c,a.subscribe("mediaquery.matched",function(t,i){e.flexFlip(i)}))},placeholder:function(){var e=t(this.element),i=e.prev(".col").children(".flex-card").height();e.children(".flex-placeholder").css("height",i)},flexFlip:function(e){var t=this.options.flexFlip,i=this.options.flexType,n=this.element.hasClass(c)?c:u;l[t].flip===e.key&&i===n?this.flipClass(this.element):l[t].reset===e.key&&i!==n&&this.flipReset(this.element)},flipReset:function(e){e.removeClass(this.options.flipType).addClass(this.options.flexType),e.children(".uitk-col")},flipClass:function(e){e.removeClass(this.options.flexType).addClass(this.options.flipType),e.children(".uitk-col")}},i.initPlugin(s,o),t("[data-flex-flip]")[s](),t(".flex-placeholder").parent()[s](),n.publishAgain(),uitk.modules.FlexCard=o,o}),define("uitk_flexcardset",["uitk_domReady","jquery","uitk_plugins"],function(e,t,i){"use strict";function n(e,t){i.newModule.call(this,e,t,o)}var a="uitk_flexCardSet",o={};return n.prototype={constructor:n,init:function(){var e,t=this,i=t.element,n="flex-same-height-clear",a="flex-2up",o="flex-3up",s="flex-4up";i.find(".col").removeClass(n),i.hasClass(a)?e="2n+3":i.hasClass(o)?e="3n+4":i.hasClass(s)&&(e="4n+5"),e&&i.find(".col:nth-child("+e+")").addClass(n)}},i.initPlugin(a,n),uitk.modules.FlexCardSet=n,n}),define("uitk_datepicker",["uitk_domReady","jquery","handlebars","uitk_i18n","uitk","uitk_pubsub","uitk_allyutils","uitk_hbsutils","exp_datetimeformats","uitk_localized_config","uitk_date"],function(e,t,i,n,a,o,s,r,l,c,u){"use strict";function d(e,i){var n,a,o=this;o.element=t(e),i=i||{},n=o.element.data()||{},o.options=t.extend(!0,{},E,n,i),o.datePickerInput=o.element.find("input."+H),a=o.datePickerInput.data("minRangeLength"),o.datePickerInput.data("minRangeLength")&&(o.options.minRangeLength=a),o.init()}var h,p,f,g,m,v,b,y,k,w="uitk_datepicker",C=t("body"),T=t(document),P=t(window),S=document.getElementsByTagName("html")[0],_=S.getAttribute("data-language"),D=l.dateTimeSettings[_]?_:c[_],I=l.dateTimeSettings[D],x=I.calendarPlaceholder,O=parseFloat(C.css("min-width")),A=O>950||"false"===Modernizr.mediaqueries||Modernizr.mediaqueries===!1,E={template:"uitk-datepicker-template",minRangeLength:null,gutter:6,borderOffset:-2},F="click."+w,M=new Date,L="datepicker",R="datepicker-open",H="datepicker-trigger-input",N="datepicker-dropdown",z="datepicker-label",$="focused",V="datepicker-prev",q="datepicker-next",j="pin-center",B="datepicker-no-close",W="first-month",G="last-month",U="datepicker-cal-month-header",Y=a.isRtl?"left":"right",J=a.isRtl?"right":"left",K="[data-control=datepicker]",X=n.t("date_picker_show_months"),Q=n.t("collapsed"),Z=n.t("selected").trim(),ee=a.isTouchDevice,te=function(){var e=function(){return"."===I.date.dateSeparators?/\./g:new RegExp(I.date.dateSeparators,"g")},t=e(),i=I.date.format["short"].toLowerCase().replace(t,"");return i.replace(/(m+)/g,"mm").replace(/(d+)/g,"dd").replace(/(y+)/g,"yy")},ie=function(){var e=["january","february","march","april","may","june","july","august","september","october","november","december"],t=[],i=I.date.month.wide;for(k=0;k<e.length;k++){var n=e[k];i.hasOwnProperty(n)&&t.push(i[n])}return t},ne=function(){var e=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],t=I.date.weekday.wide,i=I.date.weekday.narrow,n=[],a=[];for(k=0;k<e.length;k++){var o=e[k];t.hasOwnProperty(o)&&n.push(t[o]),i.hasOwnProperty(o)&&a.push(i[o])}return{"long":n,"short":a}},ae=function(){var e=I.date.format["long"],t=e.charAt(4),i=/[^\x00-\x7F]+/g,n=i.exec(t);if(n)return t};if(M.setHours(0,0,0,0),"undefined"==typeof a.datePickerCalendarObj){var oe=ne(),se={date_format:te(),date_separator:I.date.dateSeparators,start_day_of_the_week:I.startDayOfWeek,months:ie(),yearChar:ae(),days_of_the_week:oe["short"],days_of_the_week_full:oe["long"],close:n.t("close"),nights_text:n.t("nights_text"),stringToArray:function(){var e,t,i=this;for(t in i)e=i[t],"string"==typeof e&&"["===e[0]&&(e=e.substr(1,e.length-2).split(", "),i[t]=e),"start_day_of_the_week"===t&&(i[t]=parseInt(i[t]));return i}};se.stringToArray();var re=u.core.date.CalendarControl.Config;re.setFormatConfig(se.date_format,se.date_separator),re.setUnitConfig(se.start_day_of_the_week,se.months,se.days_of_the_week,se.days_of_the_week_full),re.setTextConfig(se.close),re.setNightTextConfig(se.nights_text),a.datePickerCalendarObj=u.core.date.Calendar(re),a.dateUpdater=u.core.date.DateUpdater(a.datePickerCalendarObj,re),f=function(e){e=e||C,e.find(K).each(function(){var e=t(this),i=e.find("."+H);i.attr("placeholder")&&""!==i.attr("placeholder")||i.attr("placeholder",x),ee&&!e.data("showKeyboard")&&i.attr("readonly","readonly")})},a.initDatePickerInputs=f}return d.prototype={constructor:d,monthCache:{},dateUpdaters:{},datePickerCalendarObj:!1,datePickerConfig:!1,daysHeader:!1,allowPastDates:!1,init:function(){var e=this,i=a.datePickerCalendarObj,n=e.options;e.element.data("dblFire",!1),e.dateError={},e.startDay=i.getStartOfWeek(),void 0===n.close&&(n.close=!0),e.datePickerTemplate||(r.getCompiledTemplate("button-tag",!0),d.prototype.datePickerTemplate=r.getCompiledTemplate(e.options.template)),e.daysHeader||(d.prototype.daysHeader=e.getDaysHtml()),n.firstValidDate?n.firstValidDate=i.getDateFromString(e.options.firstValidDate,!0):n.firstValidDate=M,n.firstValidDate.valueOf()<M.valueOf()&&(e.allowPastDates=!0),n.startDate||n.endDate?(n.startDate?(e.startDateSelector=n.startDate,e.datePickerPair=t(e.startDateSelector),e.startDateField=e.datePickerPair.find("."+H)):(e.startDateSelector="#"+e.element.attr("id"),e.startDateField=e.datePickerInput,e.dateType="start"),n.endDate?(e.endDateSelector=n.endDate,e.datePickerPair=t(e.endDateSelector),e.endDateField=e.datePickerPair.find("."+H)):(e.endDateSelector="#"+e.element.attr("id"),e.endDateField=e.datePickerInput,e.dateType="end"),n.defaultRangeLength=t(e.startDateSelector).data("default-range-length"),n.maxRangeLength=t(e.startDateSelector).data("max-range-length"),n.lastValidDate||(n.lastValidDate=t(e.startDateSelector).data("last-valid-date")),n.lastValidDate&&i.getDateFromString(n.lastValidDate,!0).valueOf()<M.valueOf()&&(e.allowPastDates=!0),e.registerFields()):(e.datePickerPair=!1,e.startDateField=e.datePickerInput,e.dateType="start"),n.lastValidDate=i.getDateFromString(e.options.lastValidDate,!0),n.lastValidDate&&n.lastValidDate.valueOf()<M.valueOf()&&(e.allowPastDates=!0)},getWindowWidth:function(){return P.width()},centerDropDown:function(e){var t,i=this,n=e.find("."+H),a=e.find("."+N),o=i.options.borderOffset;m=a.outerWidth(),v=n.outerWidth(),t=(v-m)/2,a.css(Y,t-o/2+"px")},setDatePickerPos:function(e){var t,i,n,a,o,s,r,l,c,u,d=this,p=e.find("."+H),f=e.find("."+N),b=e.hasClass("pin-left"),y=e.hasClass("pin-right"),k=d.options.gutter,w=d.options.borderOffset;if(h=d.getWindowWidth(),m=f.outerWidth(),v=p.outerWidth(),g=e.hasClass(j),b){var C={};C[Y]="auto",C[J]=w+"px",f.css(C)}else y?f.css(Y,w+"px"):g&&d.centerDropDown(e);if(t=f.offset(),i=t[J],n=h-(i+m),a=parseInt(i-k),o=parseInt(n-k),s=parseFloat(f.css(Y)),r=s+a,l=s-o,i<k)g?f.css(Y,r+"px"):f.css(Y,a+"px"),"-2px"===f.css(Y)&&"-2px"===f.css(J)&&f.css(Y,"auto");else if(n<k)if(g)f.css(Y,l+"px");else if(f.css(J,o+"px"),
c=f.position()[J],u=m-v+c,u<=0){var T={};T[Y]=w,T[J]="auto",f.css(T)}},openDatePicker:function(){var e=this,t=e.element,i=t.find("."+N),n=t.find("."+z),a=t.parents('[tabindex="-1"]');a.removeAttr("tabindex"),e.closeAllDatePickers(),t.addClass(R),i.removeAttr("aria-hidden"),n.addClass($),o.publish("datepicker.opened",{$datepicker:t}),T.on("keydown","."+R,function(t){27===t.keyCode&&setTimeout(function(){e.closeAllDatePickers()},10)})},closeDatePicker:function(e){var t=e.find("."+N),i=e.find("."+z);e.removeClass(R),t.attr("aria-hidden","true").empty(),i.removeClass($),T.off("keydown","."+R,function(e){27===e.keyCode&&setTimeout(function(){that.closeAllDatePickers()},10)})},closeAllDatePickers:function(){var e=t(K),i=e.find("."+N),n=e.find("."+z),a=e.find("."+H);e.hasClass(R)&&(e.removeClass(R),i.attr("aria-hidden","true").empty(),n.removeClass($)),ee||a.removeAttr("aria-label")},handleResize:function(e){var t=this,i=e.data("autoPos");h=t.getWindowWidth(),O||(O=255),i&&h>O&&e[w]("setDatePickerPos",e)},registerFields:function(){var e=this;if(e.startDateSelector&&e.endDateSelector){var t=e.startDateSelector+"_"+e.endDateSelector;t in e.dateUpdaters||(e.dateUpdaters[t]=a.dateUpdater.register(e.startDateField[0],e.endDateField[0],e.options.minRangeLength,null,null,e.options.defaultRangeLength,e.allowPastDates))}},getDaysHtml:function(e,t,i){var n,o,s,r=this,l=a.datePickerCalendarObj.config,c="";for(e=e||l.getDayAbbrs(),t=t||r.startDay,n=e.length,i=i||l.getDayNames(),s=0;s<n;s+=1)o=s+t,o>=n&&(o-=n),c+='<th scope="col" class="datepicker-day-name"><span class="visuallyhidden">'+i[o]+'</span><span aria-hidden="true">'+e[o]+"</span></th>";return c},getNextMonth:function(e,t){var i,n,o=a.datePickerCalendarObj.config;return e===o.getMonths().length-1?(i=0,n=t+1):(i=e+1,n=t),{month:i,year:n}},getPrevMonth:function(e,t){var i,n,o=a.datePickerCalendarObj.config;return 0===e?(i=o.getMonths().length-1,n=t-1):(i=e-1,n=t),{month:i,year:n}},getFirstDayOffset:function(e,t){var i,n=this;return t=t||n.startDay,i=e-t,i<0&&(i=7+i),i},getMonthHtml:function(e,t){var i,o,s,r,l,c=a.datePickerCalendarObj,u=[],d=n.t("date_picker_date_empty"),h=this;if(s=e+"-"+t,s in h.monthCache)return h.monthCache[s];for(o=c.getMonthCount(e,t),r=new Date(t,e,1,12).getDay(),l=h.getFirstDayOffset(r),u.push("<tr>"),i=1;i<=l;i+=1)u.push('<td><span class="visuallyhidden datepicker-day-empty">'+d+"</span></td>");for(i=1;i<=o;i+=1)u.push('<td class="datepicker-day-number notranslate"><button type="button" class="datepicker-cal-date" data-year="'+t+'" data-month="'+e+'" data-day="'+i+'"><span class="visuallyhidden">'+ie()[e]+"</span> "+i+"</button></td>");for(i=1;i<=u.length;i+=1)void 0!==u[i]&&i%7===0&&(u[i]=u[i]+"</tr><tr>");return u.push("</tr>"),u=u.join(""),h.monthCache[s]=u,u},getDatePickerCalHtml:function(e,i){var o,s,r,l,c,u,d=this,h=a.datePickerCalendarObj,p=h.config,f=d.options,g="datepicker-paging datepicker-prev btn-paging btn-secondary prev",m="datepicker-paging datepicker-next btn-paging btn-secondary next",v="datepicker-close-btn close btn-text",b=n.t("date_picker_prev_month"),y=n.t("date_picker_next_month"),k=n.t("close"),w=n.t("date_picker_close_hint");return d.firstMonth=e,d.firstYear=i,s=d.getNextMonth(e,i),r=s.month,l=s.year,e===f.firstValidDate.getMonth()&&i===f.firstValidDate.getFullYear()&&(g=g+" "+W),f.lastValidDate&&r===f.lastValidDate.getMonth()&&l===f.lastValidDate.getFullYear()&&(m=m+" "+G),c={prevButton:{type:"button",cssClass:g,content:'<span class="icon icon-pageprev" aria-hidden="true"></span><span class="visuallyhidden">'+b+"</span>"},nextButton:{type:"button",cssClass:m,content:'<span class="icon icon-pagenext" aria-hidden="true"></span><span class="visuallyhidden">'+y+"</span>"},datePickerFormatYearFirst:"y"===p.getDateFormat().charAt(0)&&"sv_SE"!==n.locale,datePickerYearChar:se.yearChar,datePickerCalDays:d.daysHeader,datePickerMonth1:p.getMonths()[e],datePickerYear1:i,datePickerCalDates1:d.getMonthHtml(e,i),datePickerMonth2:p.getMonths()[r],datePickerYear2:l,datePickerCalDates2:d.getMonthHtml(r,l)},f.close&&(c.closeButton={type:"button",cssClass:v,content:'<span aria-hidden="true">'+k+' </span><span class="visuallyhidden">'+w+'</span><span class="icon icon-close" aria-hidden="true"></span>'}),o=d.datePickerTemplate(c),d.currentDatePickerCal=t(o).data("datepicker",d.element),d.currentMonth=e,d.currentYear=i,d.highlight(d.currentDatePickerCal),f.close||d.currentDatePickerCal.addClass(B),d.startDate&&"start"!==d.dateType?"end"===d.dateType&&(d.disableDatesBefore(d.currentDatePickerCal,d.startDate),f.maxRangeLength&&(u=new Date(d.startDate.getTime()+864e5*parseInt(f.maxRangeLength,10)),d.disableDatesAfter(d.currentDatePickerCal,u))):d.disableDatesBefore(d.currentDatePickerCal,d.options.firstValidDate),f.lastValidDate&&d.disableDatesAfter(d.currentDatePickerCal,f.lastValidDate),"undefined"!=typeof f.blackoutDates&&d.disableDatesDuring(d.currentDatePickerCal),d.currentDatePickerCal},getMonthMsg:function(e){var i=[],n=e.find("."+U+":visible"),a=t(n);return a.each(function(e){i.push(a.eq(e).text())}),i=i.join(" ")},nextMonth:function(e){var t,i,a,o=this,r=o.datePickerCalContainer,l=n.t("date_picker_end_valid_range");e.hasClass(G)?r.addClass("show-second-month"):(t=o.getNextMonth(o.currentMonth,o.currentYear),i=t.month,a=t.year,r.html(o.getDatePickerCalHtml(i,a).html()),s.focusElement(r.find("."+q))),b=X+" "+o.getMonthMsg(r),(1===r.find("."+G).length&&2===r.find("."+U+":visible").length||e.hasClass(G))&&(s.focusElement(r.find("."+V)),b+=", "+l),s.liveAnnounce(b)},prevMonth:function(){var e,t,i,a=this,o=a.datePickerCalContainer,r=o.find(".datepicker-cal-month:visible"),l=n.t("date_picker_start_valid_range");return o.hasClass("show-second-month")&&2!==r.length||(e=a.getPrevMonth(a.currentMonth,a.currentYear),t=e.month,i=e.year,o.html(a.getDatePickerCalHtml(t,i).html())),o.removeClass("show-second-month"),b=X+" "+a.getMonthMsg(o),1===o.find("."+W).length?(s.focusElement(o.find("."+q)),b+=", "+l):s.focusElement(o.find("."+V)),s.liveAnnounce(b),r},getDateFromField:function(e,t){var i,n,o=this,s=e.closest("."+L),r=a.datePickerCalendarObj;return n=s[w]("getDateError"),i=n&&n.flagged?!(!n.replacementDate||!n.highlight&&!t)&&r.getDateFromString(n.replacementDate,o.allowPastDates):r.getDateFromString(e.val(),o.allowPastDates)},getStartDate:function(e){var t=this;return e=e||t.getDateFromField(t.startDateField),!e||e.valueOf()<t.options.firstValidDate.valueOf()?(t.startDate=null,e=t.options.firstValidDate):t.options.lastValidDate&&e.valueOf()>t.options.lastValidDate.valueOf()?(t.startDate=null,e=t.options.lastValidDate):t.startDate=e,e},getInitialDatePickerCal:function(){var e,t,i,n,o,s,r,l,c=this,u=a.datePickerCalendarObj;if(t=M.valueOf()>c.options.firstValidDate.valueOf()?M:c.options.firstValidDate,c.options.lastValidDate&&t.valueOf()>c.options.lastValidDate.valueOf()&&(t=c.options.lastValidDate),c.options.lastValidDate&&c.options.lastValidDate.valueOf()<M.valueOf()?0===t.getMonth()?(i=11,n=t.getFullYear()-1):(i=t.getMonth()-1,n=t.getFullYear()):(i=t.getMonth(),n=t.getFullYear()),s=c.getStartDate(),c.endDateField&&(r=c.getDateFromField(c.endDateField),c.setThisEndDate(s,r)),(c.startDate||c.endDate)&&(l="end"===c.dateType?c.getDateFromField(c.endDateField,!0)||r:c.getDateFromField(c.startDateField,!0)||s,(c.lastDisplayedMonth||0===c.lastDisplayedMonth)&&c.lastDisplayedYear&&(i=c.lastDisplayedMonth,n=c.lastDisplayedYear),l&&(!c.dateError.flagged||c.dateError.flagged&&c.dateError.replacementDate))){var d,h=c.dateType,p=l.getMonth(),f=1===p.toString().length?"0"+p:p,g=l.getFullYear(),m=g+""+f,v=c.getNextMonth(i,n),b=1===i.toString().length?"0"+i:i,y=n+""+b,k=v.month,w=1===k.toString().length?"0"+k:k,C=v.year,T=C+""+w;m>=y&&m<=T||("start"===h?(i=p,n=g):"end"===h&&(d=c.getPrevMonth(p,g),i=d.month,n=d.year))}"end"===c.dateType&&i!==s.getMonth()&&u.getMonthCount(s.getMonth(),s.getFullYear())-s.getDate()<7?(o=c.getNextMonth(i,n),c.setLastDisplayed({month:o.month,year:o.year}),c.getDatePickerCalHtml(o.month,o.year)):(c.setLastDisplayed({month:i,year:n}),c.getDatePickerCalHtml(i,n)),e=c.currentDatePickerCal;var P=e.find(".datepicker-cal-month").eq(1);return(c.options.lastValidDate&&c.options.lastValidDate.valueOf()<M.valueOf()&&0===e.find(".start, .end").length||P.find(".start").length>0||"end"===c.dateType&&P.find(".end").length>0)&&e.addClass("show-second-month"),e},getDateLink:function(e,t){if(e&&t)return e.find("button[data-day="+t.getDate()+"][data-month="+t.getMonth()+"][data-year="+t.getFullYear()+"]")},highlight:function(e){var t=this,i=t.highlightStart(e),n=t.highlightEnd(e);t.highlightRange(e,i,n)},highlightStart:function(e){var t=this,i=t.getDateFromField(t.startDateField);if(i)return t.getDateLink(e,i).addClass("start")},highlightEnd:function(e){var t=this;if(t.endDateField){var i=t.getDateFromField(t.endDateField);if(i)return t.getDateLink(e,i).addClass("end")}},highlightRange:function(e,t,i){var n,a,o,s,r=this,l=e.find(".datepicker-cal-dates button"),c=l.index(t)+1,u=l.index(i),d=r.startDate,h=r.endDate,p=r.currentMonth,f=r.currentYear;if(l.removeClass("highlight"),c>u&&l.filter(".end").removeClass("end"),t&&c>0)o=0;else{if(!d)return;n=d.getFullYear(),o=d.getMonth()<p&&n===f||n<f?-1:1}if(i&&u>=0)s=0;else{if(!h)return;a=h.getFullYear(),s=h.getMonth()<p&&a===f||a<f?-1:1}if(!(o<0&&s<0||o>0&&s>0)){if(o<0)c=0;else if(o>0)return;if(s>0)u=l.length;else if(s<0)return;l.slice(c,u).addClass("highlight")}},disableDates:function(e){var i=n.t("date_picker_date_disabled");e.each(function(){var e=this,n=t(e);n.replaceWith('<button type="button" class="datepicker-cal-date disabled" aria-hidden="true" disabled>'+n.html()+'</button><span class="visuallyhidden">'+n.text()+", "+i+"</span>")})},disableDatesBefore:function(e,t){var i,n=this,a=e.find(".datepicker-cal-date"),o=n.getDateLink(e,t);o.length>0&&(i=a.index(o),i>0&&(n.disableDates(a.slice(0,i)),e.find("button.prev").addClass(W)))},disableDatesAfter:function(e,t){var i,n,a,o,s,r=this,l=e.find(".datepicker-cal-date"),c=l.length,u=r.getDateLink(e,t);u.length>0?(i=l.index(u),i+1<c&&(r.disableDates(l.slice(i+1)),e.find("button.next").addClass(G))):(n=l.first(),a=n.data("year"),o=n.data("month"),s=t.getFullYear(),(a>s||o>t.getMonth()&&a===s)&&(r.disableDates(l),e.find("button.next").addClass(G)))},disableDatesDuring:function(e){var i,n,o,s,r,l,c,u,d,h,p,f,g=this,m=a.datePickerCalendarObj,v=m.getDateFormat(),b=m.getDateSeparator(),y=e.find(".datepicker-cal-date"),k=g.options.blackoutDates,w=k.dates.length,C=k.blackoutDatesFlag,T=[],P=[],S=[];if("mmddyy"!==v&&"undefined"==typeof k.formatted){for(l=0;l<w;l++){var _=[];k.dates[l]=k.dates[l].split("/"),u=v.indexOf("mm")/2,c=v.indexOf("dd")/2,d=v.indexOf("yy")/2,_[d]=k.dates[l][2],_[c]=k.dates[l][1],_[u]=k.dates[l][0],_=_.join(b),k.dates[l]=_}k.formatted=!0}for(h=0;h<w;h++)T.push(m.getDateFromString(k.dates[h],g.allowPastDates));for(i=T.length,p=0;p<i;p++){var D=g.getDateLink(e,T[p])||{};D.length>0&&(P.push(D),C===!1&&(r=t.inArray(D.get(0),y),S.push(r)))}if(n=P.length,C===!0||"undefined"==typeof C){if(n>0){for(o=P[0],f=1;f<n;f++)o=o.add(P[f]);g.disableDates(o)}}else{for(s=S.length,f=s-1;f>=0;f--)y.splice(S[f],1);g.disableDates(y)}},selectDate:function(e){var t=window.Intl&&"object"==typeof window.Intl&&"ar_SA"===a.locale,i=a.datePickerCalendarObj.toStringFromCompWithLocale&&"function"==typeof a.datePickerCalendarObj.toStringFromCompWithLocale,n=new Date(e.data("year"),e.data("month"),e.data("day"),12),r=this,l=t&&i?a.datePickerCalendarObj.toStringFromCompWithLocale(n):a.datePickerCalendarObj.toStringFromComp(n.getDate(),n.getMonth()+1,n.getFullYear()),c=l.split("/").join(" "),u=r.element.closest('[data-control="datepicker"]'),d=u.find("."+z),h=u.find("."+H);a.datePickerCalendarObj.internalDate=a.datePickerCalendarObj.toStringFromComp(n.getDate(),n.getMonth()+1,n.getFullYear()),y=d.text(),b=y+" "+Q,setTimeout(function(){a.updatePlaceholderClass(r.startDateField),r.endDateField&&a.updatePlaceholderClass(r.endDateField)},50),r.setLastDisplayed(),r.clearDateError(),r.element.data("showDatePickerCal",!1),r.datePickerInput.val(l),ee?(b=c+" "+Z+". "+y+" "+Q,s.liveAnnounce(b)):(b=y+" "+Q,h.attr("aria-label",b)),o.publish("datepicker.selectDate",{element:r.datePickerInput,date:n}),r.datePickerInput.trigger("focus")},mouseenterDate:function(e){var t=this;"start"===t.dateType?(t.datePickerCalContainer.find("a.start").removeClass("start"),t.highlightRange(t.datePickerCalContainer,e,t.highlightEnd(t.datePickerCalContainer))):"end"===t.dateType&&(t.datePickerCalContainer.find("a.end").removeClass("end"),t.highlightRange(t.datePickerCalContainer,t.highlightStart(t.datePickerCalContainer),e))},mouseleaveDate:function(){var e=this;e.highlightRange(e.datePickerCalContainer,e.highlightStart(e.datePickerCalContainer),e.highlightEnd(e.datePickerCalContainer))},setContainer:function(e){var t=this;t.datePickerCalContainer=e},setLastDisplayed:function(e,t){var i=this,n=e&&(e.month||0===e.month)?e.month:i.firstMonth,a=e&&e.year?e.year:i.firstYear;t=!(t||t===!1||!i.datePickerPair),t&&i.datePickerPair[w]("setLastDisplayed",{month:n,year:a},!1),i.lastDisplayedMonth=n,i.lastDisplayedYear=a},setThisEndDate:function(e,t){var i=this;!t||t.valueOf()<e.valueOf()?i.endDate=null:i.endDate=t},updateOptions:function(e,i){var n,o=this,s=a.datePickerCalendarObj,r={},l=!1;i=!(i||i===!1||!o.datePickerPair);for(n in e)if(e.hasOwnProperty(n))switch(n){case"firstValidDate":case"lastValidDate":o.options[n]=s.getDateFromString(e[n],o.allowPastDates);break;case"maxRangeLength":o.options[n]=e[n],r[n]=e[n];break;default:o.options[n]=e[n]}if(i===!0){for(n in r)if(r.hasOwnProperty(n)){l=!0;break}l&&(o.options.startDate?t(o.startDateSelector)[w]("updateOptions",r,!1):o.options.endDate&&t(o.endDateSelector)[w]("updateOptions",r,!1))}},flagDateError:function(e,t){var i=this;t=!t&&t!==!1,i.dateError={flagged:!0,replacementDate:e||!1,highlight:t}},clearDateError:function(){var e=this;e.dateError={flagged:!1,replacementDate:!1,highlight:!1}},getDateError:function(){var e=this;return e.dateError}},t.fn[w]=function(){var e,i,n,a,o;return"object"==typeof arguments[0]?(e=arguments[0],i=arguments[1],n=arguments[2],a=arguments[3]):(e={},i=arguments[0],n=arguments[1],a=arguments[2]),this.each(function(){t.data(this,w)||t.data(this,w,new d(this,e)),"string"==typeof i&&(o=t.data(this,w)[i](n,a))}),o},p=function(e){var t,i,a,o=e.find("."+N),r=e.data("autoPos"),l=e.hasClass(j),c=e.find("."+z),u="datepicker-cal",d=e.find("."+H),h=n.t("expanded");t=e[w]("getInitialDatePickerCal"),void 0!==t&&(e[w]("openDatePicker"),o.append(t),e[w]("setContainer",e.find("."+u)),y=c.text(),b=y+" "+h+". ",a=X+" "+e[w]("getMonthMsg",e),ee?(i=n.t("date_picker_use_hint_touch"),b+=i+". "+a,setTimeout(function(){s.liveAnnounce(b)},200)):(i=n.t("date_picker_use_hint",{arg0:x}),b+=i+". "+a,d.attr("aria-label",b)),r&&!A?e[w]("setDatePickerPos",e):l&&e[w]("centerDropDown",e)),setTimeout(function(){e.data("showDatePickerCal",!0)},100)},C.on("focus."+w+" "+F,"."+H,function(e){var i,n=t(e.target),a=n.closest('[data-control="datepicker"]');a.data("dblFire")||(a.data("showDatePickerCal")!==!1?(a.data("showDatePickerCal",!1),p(a)):a.data("showDatePickerCal",!0),i=conditionizr.safari?t('[data-control="datepicker"]'):a,i.data("dblFire",!0),setTimeout(function(){i.data("dblFire",!1)},400))}),C.on(F,".datepicker-next",{stopPropagation:!0},function(e){var i=t(e.target),n=i.closest(".datepicker-cal").data("datepicker");e.preventDefault(),e.stopPropagation(),n[w]("nextMonth",i)}),C.on(F,".datepicker-prev",{stopPropagation:!0},function(e){var i=t(e.target),n=i.closest(".datepicker-cal").data("datepicker");e.preventDefault(),e.stopPropagation(),n[w]("prevMonth",i)}),C.on(F,".datepicker-cal-date",function(e){var i=t(e.target),n=i.closest(".datepicker-cal").data("datepicker");e.preventDefault(),i.hasClass("disabled")||(n[w]("selectDate",i),setTimeout(function(){n[w]("closeDatePicker",n)},100))}),C.on("mouseenter."+w+" focus."+w,".datepicker-cal-date",function(e){var i=t(e.target),n=i.closest(".datepicker-cal").data("datepicker");e.preventDefault(),i.hasClass("disabled")||n[w]("mouseenterDate",i)}),C.on("mouseleave."+w+" blur."+w,".datepicker-open .datepicker-cal-date",function(e){var i=t(e.target),n=i.closest(".datepicker-cal").data("datepicker");e.preventDefault(),i.hasClass("disabled")||n[w]("mouseleaveDate",i)}),C.on(F,".datepicker-close",function(e){var i=t(e.target),n=i.closest(".datepicker-cal").data("datepicker"),a=n.find("."+H),r=n.find("."+z);y=r.text(),b=y+" "+Q,e.preventDefault(),ee?s.liveAnnounce(b):a.attr("aria-label",b),n.data("showDatePickerCal",!1),o.publish("datepicker.closeButton",{$datepicker:n,$datepickerCloseBtn:i}),a.trigger("focus"),setTimeout(function(){n[w]("closeDatePicker",n)},50)}),T.on(F+" focusin."+w,function(e){if("focusin"!==e.type||s.isFocusableElement(t(e.target))){var i=t(e.target).closest('[data-control="datepicker"]');i.length<=0&&(i=t(e.target)),"datepicker"===i.data("control")||i.hasClass(R)||0!==i.closest("."+R).length||d.prototype.closeAllDatePickers()}}),P.on("resize."+w,function(){var e=t(K+"."+R);!A&&e.length>0&&d.prototype.handleResize(e)}),f(),a.modules.DatePicker=d,a.modules.DatePickerConfig={getDateFormat:te,getFullMonths:ie,getDaysOfTheWeek:ne,getYearCharacter:ae},d}),define("uitk_autocomplete",["jquery","handlebars","uitk","uitk_i18n","uitk_pubsub","uitk_allyutils","uitk_hbsutils","uitk-autocomplete-by-category.hbs","uitk-autocomplete-default.hbs"],function(e,t,i,n,a,o,s){"use strict";function r(e,t,i){this.__essAbacusIds=e,this.__variantAssigner=t,this.__pageIdGetter=i,this.guid=this.__getGuid()}function l(t){if(!t.data("autocomplete")){var i=t.data("template");void 0!==i&&(i.indexOf("/")>=0?e.ajax({url:i,success:function(e){var i=t.data();i.rawHtml=!0,new A(t,e,i)},dataType:"text"}):new A(t,i,t.data()))}}var c,u,d,h,p,f=e("body"),g=e(window),m=parseFloat(f.css("min-width")),v=m>950||"false"===Modernizr.mediaqueries||Modernizr.mediaqueries===!1,b={gutter:6,borderOffset:-2},y="[data-control=autocomplete]",k="autocomplete",w="autocomplete-trigger-input",C="autocomplete-dropdown",T=i.isRtl?"left":"right",P=i.isRtl?"right":"left",S="autocomplete-open",_="autocomplete-arrow",D="pin-center",I="pin-left",x="pin-right",O="highlight";if("undefined"!=typeof window.uitkautocomplete)return console.log("autocomplete is now included in the UITK so you no longer need to load it manually"),window.uitkautocomplete;if(f[0].hasAttribute("data-disable-autocomplete"))return!0;var A=function(n,a,o){this.$element=e(n),this.$parent=this.$element.closest("."+k),this.$label=this.$element.closest("label"),p=this.$parent.data("autoPos"),this.setPinClass(this.$parent),this.ariaOwns=this.$element.attr("aria-owns")||"backwards",this.templateUsed=a,this.firstItemFlag=!0,this.lastItemFlag=!0,o.rawHtml?this.template=t.compile(a):i?this.template=s.getCompiledTemplate(a):(a=e(a).html(),this.template=t.compile(a)),this.opts=e.extend(!0,{},A.defaultOptions,o),this.searchType=null,this.cache={},this.ignoreNext=!1,this.isClickOn=!1,this.bodyClick=!1,this.$element.autocomplete="off",this.$element.closest("form").attr({autocomplete:"off",spellcheck:"false"}),this.$element.on("focus",e.proxy(this.focus,this)).on("keydown",e.proxy(this.keyDown,this)).on("keyup",e.proxy(this.keyUp,this)).on("keypress",e.proxy(this.keyPress,this)).on("blur",e.proxy(this.blur,this)),this.$ta=this.$element.closest(".autocomplete").find("."+C),this.$ta.on("mousedown",e.proxy(this.clickOn,this)).on("mouseup",e.proxy(this.clickOff,this)).on("click",e.proxy(this.click,this)).on("mouseenter","a",e.proxy(this.mouseEnter,this)),this.$element.data("autocomplete",this),this.opts.openDefaultTa?(this.shouldBeOpen=!0,this.request("defaultResponse",!1)):this.request("zzzzzz",!0),g.on("resize",function(){var t=e(y+"."+S);!v&&t.length>0&&A.prototype.handleResize(t)})};return A.prototype={constructor:A,shouldBeOpen:!1,startRequest:function(){var e=this.$element.val();e.length>=this.opts.minchar?this.cache[e]?this.render(e,this.cache[e]):this.request(e):this.closeIfOpen()},request:function(t,i){var n,a={},o=r.defaultGenerator;"v4"===this.opts.version?(n=this.opts.overrideServiceUrl?[this.opts.overrideServiceUrl,encodeURIComponent(t)].join(""):[this.opts.serviceUrl,"/api/",this.opts.version,"/typeahead/",encodeURIComponent(t),"?callback=?"].join(""),"CARS"===this.opts.lob&&(a.sortcriteria="category"),a.regiontype=this.opts.mask,a.locale=this.opts.locale,a.ab=this.opts.abtest,a.lob=this.opts.lob,a.format="jsonp",a.dest=this.opts.dest,a.maxresults=this.opts.maxresults,a.rid=this.opts.regionid,a.features=this.opts.features,a.client=this.opts.clientId?this.opts.clientId:o.getClientId(),a.siteid=o.getSiteId(),a.guid=o.guid):(n=this.opts.overrideServiceUrl?[this.opts.overrideServiceUrl,encodeURIComponent(t)].join(""):[this.opts.serviceUrl,"/hint/es/",this.opts.version,"/ac/",this.opts.locale,"/",encodeURIComponent(t),"?callback=?"].join(""),a.type=this.opts.mask,a.ab=this.opts.abtest,a.lob=this.opts.lob,a.format="json",a.dest=this.opts.dest,a.maxresults=this.opts.maxresults,a.rid=this.opts.regionid,this.opts.overrideServiceUrl||"//suggest.expedia.com"!==this.opts.serviceUrl||(a.client=this.opts.clientId?this.opts.clientId:o.getClientId(),a.siteid=o.siteId,a.guid=o.guid));var s;if(s=i?e.noop:e.proxy(this.callback,this),this.opts.additionalDataSourceUrl){s=e.proxy(this.combineResults,this);var l=[this.opts.additionalDataSourceUrl,encodeURIComponent(t)].join(""),c=n;e.when(e.getJSON(l,a),e.getJSON(c,a)).then(s)}else e.getJSON(n,a,s)},combineResults:function(e,t){var i=[];e[0]&&e[0].sr&&(i=i.concat(e[0].sr)),t[0]&&t[0].sr&&(i=i.concat(t[0].sr)),this.processResults(i,e[0].q)},callback:function(e){var t=e.sr?e.sr:e.r,i=e.q;this.processResults(t,i)},processResults:function(e,t){e&&this.shouldBeOpen&&this.$element[0]==document.activeElement?(this.cache[t]=e,this.render(t,e)):(this.cache[t]=[],this.closeIfOpen())},playBackUserTypedText:function(t,i){if(this.opts.playBackText&&"defaultResponse"!==i){var n=!0;if(e.each(t,function(e,t){t.id===-1&&(n=!1)}),n){var a=/<script[\s\S]+?script\s*>?/gi;i=i.replace(a,"");var o=/\d/,s=this.opts.playBackText;s=s.replace(o,i);var r={};r.l=i,r.d=s,r.id=-1,r.i=-1,"HOTELS"===this.opts.lob&&(r.t="HOTEL"),t.push(r)}}},render:function(t,i){var s="v4"===this.opts.version,r=this.$element.val(),l={};if(i.length>0&&(this.opts.openDefaultTa||r===t)){this.playBackUserTypedText(i,t),i.sort(function(e,t){var i=s?e.index-t.index:e.i-t.i;return i});var c=this.opts,u={};e.each(i,function(e,t){var i=s?A.CATEGORIES[t.type]:A.CATEGORIES[t.t],n=i?i.name:"Other";"undefined"==typeof u[n]&&(u[n]=!0)});var d={};"HOTELS"===this.opts.lob?(u["Region/City"]&&(d["Region/City"]=[]),u.Attractions&&(d.Attractions=[]),u.Airports&&(d.Airports=[]),u.Amenities&&(d.Amenities=[]),u.Hotels&&(d.Hotels=[])):"CARS"===this.opts.lob&&(u.Airports&&(d.Airports=[]),u["Region/City"]&&(d["Region/City"]=[]),u.Attractions&&(d.Attractions=[])),e.each(i,function(e,t){var i=s?A.CATEGORIES[t.type]:A.CATEGORIES[t.t],n=i?i.name:"Other";"undefined"==typeof d[n]&&(d[n]=[]),t.categoryName=n,d[n].push(t),c.forceicon?t.icon=c.forceicon:t.icon=i?i.icon:"location",s&&t.regionNames?"undefined"!=typeof t.regionNames.lastSearchName?t.regionNames.lastSearchName=t.regionNames.lastSearchName.replace(/'/g,"&#39;"):"undefined"!=typeof t.regionNames.fullName&&(t.regionNames.lastSearchName=t.regionNames.fullName.replace(/'/g,"&#39;"),t.regionNames.fullName=t.regionNames.fullName.replace(/'/g,"&#39;")):"undefined"!=typeof t.l&&(t.regionNames={lastSearchName:t.l,displayName:t.d},t.type=t.t),t.data=JSON.stringify(t)}),a.publish("typeahead.opened",{results:i,text:t}),l.continueText=this.opts.continuetext,l.closeText=this.opts.closetext,l.results=i,l.resultsByCategory=d,Modernizr.android||(l.ariaOwns=this.ariaOwns),l.isV4=s;var h=this.template(l);this.$ta.html(h),this.$ta.is(":hidden")&&this.open(),this.$label.addClass("focused");var p,f=i.length;p=1===f?"typeahead_results_displayed_one":"typeahead_results_displayed_other",o.liveAnnounce(n.t(p,{arg0:f}))}else r===t&&this.closeIfOpen()},open:function(){this.$ta.closest("."+k).addClass(S),this.$ta.show(),p&&!v?this.setAutocompletePos(this.$parent):h&&this.centerDropDown(this.$parent)},closeIfOpen:function(){this.$ta.closest("."+k).hasClass(S)&&this.close()},close:function(){this.$label.removeClass("focused"),this.$ta.closest("."+k).removeClass(S),this.$ta.hide(),this.$ta.html(""),this.removeActiveDescendant(),a.publish("typeahead.closed")},closeAllTA:function(){var t=e("."+k);t.find("label."+_).removeClass("focused"),t.removeClass(S).find("."+C).html("").hide(),this.removeActiveDescendant()},removeActiveDescendant:function(){var t=e("input[aria-activedescendant]");t.length>0&&t.removeAttr("aria-activedescendant")},prev:function(){var t=this.$ta.find("a"),i=this.$ta.find("."+O).removeClass(O),n=t.index(i),a=t[n-1],s=e(a),r=e(a).attr("id"),l=t.length-1,c="";i.attr("aria-selected","false"),a?(n!==l||conditionizr.safari||(c=s.attr("data-value"),o.liveAnnounce(c,"polite")),s.addClass(O),s.attr("aria-selected","true"),this.$element.attr("aria-activedescendant",r)):(this.$element.removeAttr("aria-activedescendant"),o.liveAnnounce(this.$element.val(),"polite"))},next:function(){var t,i=this.$ta.find("a"),a=this.$ta.find("."+O).removeClass(O),s=i.index(a),r=i[s+1],l=e(r),c=e(r).attr("id"),u="";l.hasClass("close")||a.attr("aria-selected","false"),conditionizr.safari||(this.firstItemFlag===!0?this.firstItemFlag=!1:"undefined"==typeof i[s]&&(t=this.$ta.find("a")[0],u=e(t).attr("data-value"),o.liveAnnounce(u,"polite"))),r?(l.addClass(O),l.attr("aria-selected","true"),l.hasClass("close")?o.liveAnnounce(n.t("close"),"assertive"):this.$element.attr("aria-activedescendant",c)):o.liveAnnounce(this.$element.val(),"polite")},removeHighlights:function(){this.$ta.find("."+O).removeClass(O)},selectHighlighted:function(t,s){var r,l,c=this.$ta.find("."+O),u=c.text(),d="#uitk-autocomplete-default"===this.templateUsed?"results-item":"results-item-ally";if(i.isTouchDevice&&(c=e(t.target).closest("."+d).find("a"),c.context=this.$ta.context,u=c.text(),s=""===u),r=u.replace(/(^\s+|\s+$)/g,""),this.updateTextField(c),c.removeClass(O),s===!0)l=c.text().replace(/(^\s+|\s+$)/g,""),o.liveAnnounce(n.t("close_button_menu_closed"));else{var h=n.t("item_selected_menu_closed",{arg0:r});o.liveAnnounce(h,"assertive")}var p=t.target||t.srcElement,f=p.classList;if(!f.contains("close")&&!f.contains("icon-close")){var g={element:c};a.publish("typeahead.resultSelected",g)}},updateTextField:function(e){if(e){var t=this,i=e.attr("data-value");if(i){i=i.replace(/&#39;/g,"'"),t.$element.val(i);var n=e.attr("data-id");n&&t.$element.attr("data-id",n),t.opts.selectioncallback&&("function"==typeof t.opts.selectioncallback?t.opts.selectioncallback(e):"string"==typeof t.opts.selectioncallback&&window[t.opts.selectioncallback](e))}t.closeIfOpen(),Modernizr.appleios?setTimeout(function(){t.$element.trigger("focus")},100):t.$element.trigger("focus")}},focus:function(){},keyDown:function(e){var t;switch(e||(e=window.event),t=e.keyCode){case 27:this.closeIfOpen(),e.stopPropagation();break;case 9:case 13:if(this.opts.selectFirstElementByDefault&&this.$ta.find("."+O).length<=0&&this.$label.hasClass("focused")){var i=this.$ta.find("li.category-item");if(i&&0!==i.length||(i=this.$ta.find("li.results-item")),i){var n=i.first();n&&n.find("a").addClass(O)}}this.$ta.find("."+O).length&&(e.stopPropagation(),13===t&&e.preventDefault(),this.selectHighlighted(e,this.$ta.find("."+O).hasClass("close")));break;case 32:this.$ta.find("."+O).hasClass("close")&&(e.stopPropagation(),e.preventDefault());break;case 39:this.$ta.find("."+O).length&&(this.ignoreNext=!0,e.stopPropagation(),this.selectHighlighted());break;case 38:e.preventDefault(),e.stopPropagation(),this.prev();break;case 40:e.stopPropagation(),e.preventDefault(),this.next()}},keyPress:function(e){e||(e=window.event),13===e.keyCode&&this.closeIfOpen()},keyUp:function(e){if(this.ignoreNext)return void(this.ignoreNext=!1);switch(e||(e=window.event),e.keyCode){case 27:break;case 37:this.removeHighlights();break;case 38:e.preventDefault(),e.stopPropagation();break;case 40:e.stopPropagation(),e.preventDefault();break;case 16:case 17:case 18:break;case 13:this.shouldBeOpen=!1;break;case 32:this.$ta.find("."+O).hasClass("close")&&(e.stopPropagation(),e.preventDefault(),this.selectHighlighted(e,this.$ta.find("."+O).hasClass("close")));break;default:this.shouldBeOpen=!0,this.startRequest()}},blur:function(){window.navigator.msPointerEnabled&&!window.PointerEvent||this.isClickOn&&(this.$ta.bind("mousedown",e.proxy(this.cancelEvent,this)),e(document.body).bind("mousedown",e.proxy(this.close,this)),this.bodyClick=!0)},clickOn:function(){this.isClickOn=!0},clickOff:function(){this.isClickOn=!1},click:function(e){e.stopPropagation(),e.preventDefault(),this.selectHighlighted(e)},mouseEnter:function(t){this.removeHighlights(),e(t.currentTarget).addClass(O)},cancelEvent:function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancel=!0,e.returnValue=!1},remove:function(){this.$element.autocomplete="on",this.$element.closest("form").attr("autocomplete","on"),this.$element.off("focus",e.proxy(this.focus,this)).off("keydown",e.proxy(this.keyDown,this)).off("keyup",e.proxy(this.keyUp,this)).off("keypress",e.proxy(this.keyPress,this)).off("blur",e.proxy(this.blur,this)),this.$ta.off("mousedown",e.proxy(this.mouseDown,this)).off("mouseup",e.proxy(this.mouseUp,this)).off("click",e.proxy(this.click,this)).off("mouseenter","a",e.proxy(this.mouseEnter,this)).remove()},getWindowWidth:function(){return g.width()},centerDropDown:function(e){var t,i=e.find("."+w),n=e.find("."+C),a=b.borderOffset;u=n.outerWidth(),d=i.outerWidth(),t=(d-u)/2,n.css(T,t-a/2+"px")},setAutocompletePos:function(e){var t,i,n,a,o,s,r,l,p,f,g=this,m=e.find("."+C),v=e.find("."+w),y=e.hasClass(I),k=e.hasClass(x),S=b.gutter,_=b.borderOffset;if(c=g.getWindowWidth(),u=m.outerWidth(),d=v.outerWidth(),h=e.hasClass(D),y){var O={};O[T]="auto",O[P]=_+"px",m.css(O)}else k?m.css(T,_+"px"):h&&g.centerDropDown(e);if(t=m.offset(),i=t[P],n=c-(i+u),a=parseInt(i-S),o=parseInt(n-S),s=parseFloat(m.css(T)),r=s+a,l=s-o,i<S)h?m.css(T,r+"px"):m.css(T,a+"px"),"-2px"===m.css(T)&&"-2px"===m.css(P)&&m.css(T,"auto");else if(n<S)if(h)m.css(T,l+"px");else if(m.css(P,o+"px"),p=m.position()[P],f=u-d+p,f<=0){var A={};A[T]=_,A[P]="auto",m.css(A)}},handleResize:function(e){var t=this,i=e.data("autoPos");c=t.getWindowWidth(),m||(m=255),i&&c>m&&t.setAutocompletePos(e)},setPinClass:function(e){e.hasClass(I)||e.hasClass(x)||e.hasClass(D)||e.addClass(I)}},A.AIRPORT=1,A.CITY=2,A.MULTICITY=4,A.NEIGHBORHOOD=8,A.POI=16,A.ADDRESS=32,A.METROCODE=64,A.HOTEL=128,A.MULTIREGION=256,A.TRAINSTATION=512,A.METROSTATION=1024,A.REGIONTYPE={ALL:31,AIRPORT:1,CITIES:2},A.LOB={HOTELS:"HOTELS",PACKAGES:"PACKAGES",FLIGHTS:"FLIGHTS"},A.CATEGORIES={CITY:{id:0,name:"Region/City",icon:"location"},ATTRACTION:{id:1,name:"Attractions",icon:"location"},AIRPORT:{id:2,name:"Airports",icon:"flights"},HOTEL:{id:3,name:"Hotels",icon:"hotels"},ADDRESS:{id:4,name:"Address",icon:"location"},TRAINSTATION:{id:5,name:"Train Station",icon:"train"},METROSTATION:{id:6,name:"Metro Station",icon:"train"},MULTICITY:{id:7,name:"Region/City",icon:"location"},NEIGHBORHOOD:{id:8,name:"Region/City",icon:"location"},METROCODE:{id:9,name:"Airports",icon:"flights"},POI:{id:11,name:"Attractions",icon:"location"},RENTAL:{id:12,name:"Rental locations",icon:"location"},DEALS:{id:13,name:"Deals",icon:"location"},AMENITY:{id:14,name:"Amenities",icon:"tag"}},r.prototype.ESS_ABACUS_IDS=[],r.prototype.clientIdByPageId={aws_Homepage:"AWSHomepage",Homepage:"Homepage","page.Flights":"FlightsLandingPage","page.Hotels":"HotelsLandingPage","page.Cars":"CarsLandingPage","page.Activities":"LXLandingPage","page.Packages":"PackageLandingPage","page.car.search.list":"Cars.Search","page.Car-Search":"Cars.Search","page.Flight-Search-Disambig":"Flights",
"page.Flight-Search-Roundtrip":"Flights","page.Flight-Search-Roundtrip.Out":"Flights","page.Flight-Search-Roundtrip.In":"Flights","page.Flight-Search-Oneway":"Flights","page.Package.FC.Flight-Search-Roundtrip.Out":"Packages.Search","page.Package.FC.Flight-Search-Roundtrip.In":"Packages.Search","page.Package.FC.Flight-Search-Roundtrip":"Packages.Search","page.Package.FC.Car-Search":"Packages.Search","page.Package.HC.Hotel-Search":"Packages.Search","page.Package.HC.Car-Search":"Packages.Search","page.HC.Package.Infosite.Information":"Packages.Search","page.FHC.Package-Search":"Packages.Search","page.Package.FHC.Hotel-Search":"Packages.Search","page.FHC.Package.Infosite.Information":"Packages.Search","page.Package.FHC.Flight-Search-Roundtrip.Out":"Packages.Search","page.Package.FHC.Flight-Search-Roundtrip.In":"Packages.Search","page.Package.FHC.Flight-Search-Roundtrip":"Packages.Search","page.Package-Change-Flight.Outbound":"Packages.Search","page.FHC.package-search.changeFlight.Roundtrip":"Packages.Search","page.Package.FHC.Car-Search":"Packages.Search","page.Package.FH.Hotel-Search":"Packages.Search","page.FH.Package.Infosite.Information":"Packages.Search","page.Package.FH.Flight-Search-Roundtrip":"Packages.Search","page.Package.FH.Flight-Search-Roundtrip.Out":"Packages.Search","page.Package.FH.Flight-Search-Roundtrip.In":"Packages.Search","page.Package-Search":"Packages.Search","page.Packages.Infosite.Information":"Packages.Search","page.package-search.changeFlight.Outbound":"Packages.Search","page.package-search.changeFlight.Roundtrip":"Packages.Search","page.Package.FH.Hotel-Search.Error":"Packages.Search","page.FH.Package-Search.Error":"Packages.Search","page.HC.Package-Search.Error":"Packages.Search","page.Package.HC.Hotel-Search.Error":"Packages.Search","page.FHC.Package-Search.Error":"Packages.Search","page.FHC.package-search.changeFlight.Outbound":"Packages.Search","page.FHC.package-search.changeFlight.Return":"Packages.Search","page.Package.FH.Hotel-Search.ChangeHotel":"Packages.Search","page.Package.FC.Car-Search-Dynamic":"Packages.Search","page.Package-Search.Error":"Packages.Search","page.FC.Package-Search.Error":"Packages.Search"},r.prototype.defaultPageIdGetter=function(){var t=e("#pageId"),i=1===t.length?t.val():"";return i?i:""},r.prototype.getClientId=function(){var e="function"==typeof this.__pageIdGetter&&this.__pageIdGetter(),t=e&&r.prototype.clientIdByPageId[e];return t?t:"Unknown"},r.prototype.__getVariantAssignment=function(e){var t=this.__variantAssigner(e);return void 0===t?void 0:"".concat(e,".",t)},r.prototype.generateAbacusParameter=function(){function t(e){return"function"==typeof i.__getVariantAssignment?i.__getVariantAssignment(e):void 0}var i=this,n=[];return e(this.__essAbacusIds).each(function(e,i){var a=t(i);a&&n.push(a)}),n.length>0?n.join("|"):""},r.prototype.getSiteId=function(){return"undefined"!=typeof utag_data&&utag_data.siteId?utag_data.siteId:window.site_id?window.site_id:""},r.prototype.__getCookie=function(e){var t="; "+document.cookie,i=t.split("; "+e+"=");if(2===i.length)return i.pop().split(";").shift()},r.prototype.__getGuid=function(){var t=this.__getCookie("MC1"),i=t&&t.split("=");return e.isArray(i)&&2===i.length?i[1]:""},r.prototype.defaultVariantAssigner=function(){if(window.corewizard&&window.corewizard.searchExperiments)return window.corewizard.searchExperiments.getSearchExperimentVariantIfParticipating},r.defaultGenerator=new r(r.prototype.ESS_ABACUS_IDS,r.prototype.defaultVariantAssigner?r.prototype.defaultVariantAssigner():void 0,r.prototype.defaultPageIdGetter),t.registerHelper("each_with_key",function(e,t){var i,n,a="",o=t.hash.key;for(n in e)e.hasOwnProperty(n)&&(i=e[n],o&&(i[o]=n),a+=t.fn(i));return a}),A.defaultOptions={minchar:3,maxitems:20,version:"v4",locale:"en_US",abtest:"",mask:A.AIRPORT|A.CITY|A.MULTICITY|A.NEIGHBORHOOD|A.POI,lob:A.LOB.FLIGHTS,dest:!1,closetext:"Close",continuetext:"Continue typing to refine search",selectioncallback:null,forceicon:!1,serviceUrl:"//suggest.expedia.com",overrideServiceUrl:"",features:"",clientId:"",additionalDataSourceUrl:"",playBackText:"",openDefaultTa:!1,selectFirstElementByDefault:!1},e(function(){f.on("focus.autocomplete",'[data-provide="autocomplete"]',function(){var t=e(this);l(t)})}),window.uitkautocomplete=A,e(document).on("click.uitk_autocomplete focusin.uitk_autocomplete",function(t){if("focusin"!==t.type||o.isFocusableElement(e(t.target))){var i=e(t.target).closest('[data-control="autocomplete"]');i.length<=0&&(i=e(t.target)),(1===i.length&&!i.hasClass(S)||"autocomplete"!==i.data("control")&&!i.hasClass(S)&&0===i.closest("."+S).length)&&A.prototype.closeAllTA()}}),a.subscribe("Input cleared",function(e,t){var i=t.$elem,n=i.data("autocomplete");n&&n.closeIfOpen()}),A}),define("uitk_drawer",["uitk","jquery","hammer","uitk_plugins","uitk_i18n","uitk_mediaquery","uitk_allyutils","uitk_pubsub","uitk_domReady","uitk_focus"],function(e,t,i,n,a,o,s,r,l,c){"use strict";function u(e,i){var n,a=this;a.drawer=e,a.$drawer=t(e),i=i||{},n=a.$drawer.data()||{},a.options=t.extend(!0,{},W,n,i),i.testRun&&b(!0),a.init()}if(!conditionizr.ie8){var d,h,p,f,g,m,v,b,y="uitk_drawer",k="uitk-drawer",w=k+"-wrapper",C="uitk-overlay",T=k+"-overlay-visible",P="is-open",S="is-closed",_=k+"-aria-hidden",D="drawer-pos-left",I="[data-control=drawer-close]",x="[data-control=drawer-trigger]",O="aria-hidden",A="click",E="click."+k+"-close",F="keydown."+k,M=k+"-transition",L="transitionend."+M+" msTransitionEnd."+M+" transitionEnd."+M+" webkitTransitionEnd."+M,R=t("body"),H=t(".uitk-layout"),N="open",z="openTransition",$="closed",V="closedTransition",q="uitk_drawerEnable",j="uitk_drawerDisable",B={defaultOpenMsg:a.t("drawer_default_open"),defaultCloseMsg:a.t("drawer_default_close"),filterOpenMsg:a.t("drawer_filter_open"),filterCloseMsg:a.t("drawer_filter_close"),navOpenMsg:a.t("drawer_nav_open"),navCloseMsg:a.t("drawer_nav_close")},W={triggerTarget:"left",drawerType:"default"},G={smalltablet:492,tablet:726,desktop:960},U=!1;return b=function(e){if(!U||e){var i=function(){var e,i=document.getElementsByClassName(k),n=i.length;for(e=0;e<n;e++)t(i[e])[y]("drawerViewOff")};if(H=e||0===H.length?t(".uitk-layout"):H,0===H.length)return;U=!0,d=Modernizr.csstransitions,h=H.find("."+w),p=h[0],f=h.data("drawerDisableAt"),f&&(G[f]&&(f=G[f]),g="(max-width: "+(f-1)/16+"em)",m="(min-width: "+f/16+"em)",e||(o.register(g,q),o.register(m,j),r.subscribe("mediaquery.matched",function(e,t){t.key===j&&i()}),o.publishAgain())),R.on(A,x,function(e){var i=t(e.target).closest(x),n=i.data("targetDrawer")||W.triggerTarget;n&&t(".drawer-pos-"+n)[y]("showDrawer",i)})}else console.log("UITK Drawer is already initialised.")},u.prototype={init:function(){var n,a,o=this,s=o.options;o.state=$,o.drawerViewEnabled=!0,o.$overlay=h.find("."+C),s.drawerSide=o.$drawer.hasClass(D)?"left":"right",a=new c("drawer"),v=a.focusEvent(),a.setFocusContextSelector(o.drawer),n=t(x),"left"===s.drawerSide?(a.injectFocusTrap("top"),o.$defaultTrigger=n.not("[data-target-drawer=right]")):(a.injectFocusTrap("bottom"),o.$defaultTrigger=n.filter("[data-target-drawer=right]")),o.focus=a,s.openMsg||(s.openMsg=B[s.drawerType+"OpenMsg"]),s.closeMsg||(s.closeMsg=B[s.drawerType+"CloseMsg"]),d&&o.$drawer.on(L,function(e){e.target===this&&o._handleTransEnd()}),e.isTouchDevice&&(o.overlaySwipe=new i.Manager(o.$overlay[0],{recognizers:[[i.Swipe,{direction:i.DIRECTION_HORIZONTAL}]]}),o.drawerSwipe=new i.Manager(o.drawer,{recognizers:[[i.Swipe,{direction:i.DIRECTION_HORIZONTAL}]]}),o.overlaySwipe.on("swipe"+s.drawerSide,function(){o.hideDrawer()}),o.drawerSwipe.on("swipe"+s.drawerSide,function(){o.hideDrawer()})),r.subscribe("mediaquery.matched",function(e,t){t.key===q&&o.drawerViewOn()}),r.subscribe("tooltip.open",function(){o.tooltipOpen=!0}),r.subscribe("tooltip.hidden",function(){o.tooltipOpen=!1})},drawerViewOn:function(){var t=this,i=t.$drawer.find(document.activeElement).length>0;t.drawerViewEnabled=!0,i?(t.state===N?(t._swipeOn(),t._focusOn(!0),t._overlayOn()):t.state===$&&t.showDrawer(null,!0),e.tooltips.hideAll()):i||(t.state===N?t.hideDrawer(!0):t.state===$&&t._addClosedClass()),r.publish("drawer.enabled",t.drawer)},drawerViewOff:function(){var t=this;t.drawerViewEnabled=!1,t._removeClosedClass(),t.state===N&&(t._swipeOff(),t._focusOff(),t._overlayOff(),e.tooltips.hideAll()),r.publish("drawer.disabled",t.drawer)},showDrawer:function(e,t){var i=this;return!!i.drawerViewEnabled&&(i.state=z,i.holdFocus=t,i.$trigger=e||i.$defaultTrigger,i._addEscListener(),h.on(E,"."+C+", "+I,function(){i.hideDrawer()}),i._removeClosedClass(),i.$drawer[0].scrollTop=0,void setTimeout(function(){i._overlayOn(),i.$drawer.addClass(P),d||i._handleTransEnd(),r.publish("drawer.open",i.drawer)},25))},hideDrawer:function(e){var t=this;return!!t.drawerViewEnabled&&(t.state=V,t._removeEscListener(),h.off(E),t._swipeOff(),t.$drawer.removeClass(P),t._overlayOff(),e||t._focusOff(),d||t._handleTransEnd(),void r.publish("drawer.close",t.drawer))},_addClosedClass:function(){this.$drawer.addClass(S)},_removeClosedClass:function(){this.$drawer.removeClass(S)},_addEscListener:function(){var e=this;R.on(F,function(t){e.tooltipOpen||27!==t.keyCode||e.state!==N||e.hideDrawer()})},_removeEscListener:function(){R.off(F)},_swipeOn:function(){return!!e.isTouchDevice&&(this.overlaySwipe.set({enable:!0}),void this.drawerSwipe.set({enable:!0}))},_swipeOff:function(){return!!e.isTouchDevice&&(this.overlaySwipe.set({enable:!1}),void this.drawerSwipe.set({enable:!1}))},_handleTransEnd:function(){var e=this;e.state===V?(e._addClosedClass(),s.liveAnnounce(e.options.closeMsg,"polite"),e.state=$):e.state===z&&(e._focusOn(e.holdFocus),e._swipeOn(),s.liveAnnounce(e.options.openMsg,"polite"),e.state=N)},_overlayOn:function(){R.addClass(T)},_overlayOff:function(){R.removeClass(T)},_focusOn:function(e){var t,i=this;(conditionizr.ie10||conditionizr.ie11)&&i._ariaHiddenOn(),e||(t=i.$drawer.find("#"+i.options.focusOnOpenId),t.length>0?s.focusElement(t):i.focus.firstFocus(!0)),i._trapFocus(),conditionizr.ie9||conditionizr.ie10||conditionizr.ie11||i._ariaHiddenOn()},_focusOff:function(){var e=this;e._ariaHiddenOff(),e._releaseFocus()},_trapFocus:function(){var e=this,t=e.focus;t.enable(),e.focusToken=r.subscribe(v,function(e,i){i.isContainedInContext||i.isContainedInModal||t.focus()})},_releaseFocus:function(){var e=this,t=e.focus;t.disable(),setTimeout(function(){t.blur(e.$trigger)},250),r.unsubscribe(v,e.focusToken)},_ariaHiddenOn:function(){if(!conditionizr["lt-ie10"]){var e,t=this,i=H[0];e=function(e,t){var i,n,a=e.children,o=a.length,s=document.getElementById("uitk-live-announce");for(n=0;n<o;n++)i=a[n],i===t||i===s||i.attributes.getNamedItem(O)||(i.className+=" "+_,i.setAttribute(O,"true"))},e(i,p),e(p,t.drawer)}},_ariaHiddenOff:function(){if(!conditionizr["lt-ie10"]){var e,t,i=document.getElementsByClassName(_);for(t=i.length-1;t>=0;t--)e=i[t],e.removeAttribute(O),e.className=e.className.replace(" "+_,"")}}},n.initPlugin(y,u),"drawer"===H.data("uitkLayout")&&b(),e.initDrawerLayout=b,u}});var uDash="uitk-",uLoDash="uitk_",hb=".hbs",tmp="template"+hb;define(uLoDash+"init",["uitk",uLoDash+"metadata",uLoDash+"messages",uLoDash+"cookies",uLoDash+"events",uLoDash+"onclick",uLoDash+"videohelpers",uLoDash+"mediaquery",uLoDash+"pubsub",uLoDash+"throttle",uLoDash+"debounce",uLoDash+"domutils",uLoDash+"keyevents",uLoDash+"scrollarea",uLoDash+"allyutils",uLoDash+"formutils",uLoDash+"hbsutils",uLoDash+"date",uLoDash+"i18n","hammer","hbsHelpers","button-tag"+hb,"figure-tag"+hb,"icon-tag"+hb,"map-infowindow"+hb,uDash+"datepicker-"+tmp,uDash+"content-slider-controls-"+tmp,uDash+"map-"+tmp,uDash+"modal-bg-"+tmp,uDash+"modal-inner-"+tmp,uDash+"modal-"+tmp,uDash+"modal-title-"+tmp,uDash+"pagination-content-"+tmp,uDash+"pagination-page-"+tmp,uDash+"responsive-sortbar-contents-"+tmp,uDash+"responsive-sortbar-more-"+tmp,uDash+"responsive-sortbar-options-"+tmp,uDash+"responsive-sortbar-"+tmp,uDash+"ta-by-category"+hb,uDash+"ta-default"+hb,uDash+"youtube-video"+hb,uLoDash+"polyfill_placeholder",uLoDash+"focus",uLoDash+"browserStorage",uLoDash+"tooltip",uLoDash+"typeahead",uLoDash+"tabs",uLoDash+"toggle",uLoDash+"offCanvasToggle",uLoDash+"media",uLoDash+"mediaViewer",uLoDash+"mediaSlider",uLoDash+"contentSlider",uLoDash+"carousel",uLoDash+"modal",uLoDash+"dropdown",uLoDash+"share",uLoDash+"map",uLoDash+"pagination",uLoDash+"respSortbar",uLoDash+"footer",uLoDash+"tables",uLoDash+"onOffSwitch",uLoDash+"onPageInterstitial",uLoDash+"flexcard",uLoDash+"datepicker",uLoDash+"autocomplete",uLoDash+"drawer"],function(e){"use strict";return"undefined"!=typeof $LAB&&("undefined"!=typeof uitkformatter&&uitkformatter.dependency?require(uitkformatter.dependency,function(){$LAB.runQueue()}):$LAB.runQueue()),e.readyState=!0,e.readyState}),require([uLoDash+"init"]),require(["handlebars"],function(e){window.Handlebars=e});