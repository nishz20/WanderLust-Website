define("uitk_localized_dateApi",["uitk_domReady","jquery","uitk","exp_datetimeformats","uitk_localized_config"],function(e,t,r,a,n){"use strict";function i(e,t,r,i,o){var c=this;c.date=e,c.time=t,c.isDateTime=o,c.locale=a.dateTimeSettings[r]?r:n[r],!i&&"object"==typeof a&&a.dateTimeSettings&&a.dateTimeSettings[c.locale]&&(i=a.dateTimeSettings[c.locale]),c.settings=i;try{c._validate()}catch(s){console.log(s.name+": "+s.message)}}var o;return o={javaDateFormats:["yyyy","yy","y","MMMMM","MMMM","MMM","MM","M","dd","d","EEEEE","EEEE","EEE","EE","E","ggggg","GGGGG"],javaTimeFormats:["HH","H","hh","h","mm","m","ss","s","aaaaa","a","zzzz","zzz","zz","z"],month:["january","february","march","april","may","june","july","august","september","october","november","december"],day:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]},i.prototype={constructor:i,_validate:function(){var e=this,t="LocalizedDate() requires ",r=function(e){throw new ReferenceError(t+e)};if(e.isDateTime&&(e.date||r("a date"),e.time||r("a time"),e.locale||r("a locale")),e.date||e.time){if(e.date&&"string"==typeof e.date)e.parseDate(e.date);else if(e.date&&"object"!=typeof e.date)throw new TypeError(t+"a date as an object or a string")}else r("a date or time");if(e.time&&"string"==typeof e.time)e.parseTime(e.time);else if(e.time&&"string"!=typeof e.time)throw new TypeError(t+"a time as a string");e.locale||r("a locale"),e.settings||r("a date settings to be loaded")},parseDate:function(e){for(var t,r,a,n,i,o=this,c=o.settings.calendarPlaceholder,s="",d=[],l=1,m=c.length;l<m&&(s=c.charAt(l),s===c.charAt(l-1)||s===c.charAt(l+1));l++);r=function(){var e=o.settings.date.format["short"];e.indexOf(s)===-1&&(s=o.checkFormatBreak(e));for(var t=0,r=e.split(s);t<r.length;t++)r[t].indexOf("D")>-1||r[t].indexOf("d")>-1?d.push("day"):r[t].indexOf("M")>-1||r[t].indexOf("m")>-1?d.push("month"):d.push("year");return d},o.formatOrder=r(e),e.indexOf(s)===-1&&(t=o.checkFormatBreak(e)),t="undefined"==typeof t?s:t;var u=e.split(t);a=u[o.formatOrder.indexOf("year")]||(new Date).getFullYear().toString(),n=u[o.formatOrder.indexOf("month")],i=u[o.formatOrder.indexOf("day")],n=1===n.length?"0"+n:n,i=1===i.length?"0"+i:i,o.date=new Date(a+"/"+n+"/"+i)},parseTime:function(e){var t,r,a,n=this,i="",o="",c="GMT";e!==n.time&&(n.time=e),e.indexOf(" ")>-1&&(c=e.split(" ")[e.split(" ").length-1],e=e.split(" ")[0]);try{i=n.checkFormatBreak(e)}catch(s){console.log(s.name+": "+s.message)}(e.indexOf("AM")>-1||e.indexOf("PM")>-1)&&(o=e.indexOf("AM")>-1?"AM":"PM",e=e.replace(o,"")),t=e.split(" ")[0].split(i)[0],r=e.split(" ")[0].split(i)[1],a=e.split(" ")[0].split(i)[2]||"0";try{if(isNaN(t)||isNaN(t))throw new TypeError("The given time does not contain an hour or minute value as a number")}catch(s){console.log(s.name+": "+s.message)}n.formattedTime=[t,r,a,o,c]},setTimeString:function(e){var t=this;t.parseTime(e)},checkFormatBreak:function(e){for(var t,r=this,a=["/",".","-"," ",":"],n=0,i=a.length;n<i&&(t=a[n],!(e.indexOf(t)>-1));n++);if(r.time)if(r.time.indexOf(t)===-1&&e!==r.settings.time.format["short"])r.checkFormatBreak(r.settings.time.format["short"]);else if(r.time.indexOf(t)===-1)throw new TypeError("The formatting separator of the time is not found");if(r.date&&!r.time&&(e.indexOf(t)===-1||e.match(new RegExp(t,"g")).length<2&&e.length>5))throw new TypeError("The formatting separator of the date is not found");return t},convertToLocaleDate:function(e){var r=this;if(!r.date)throw new ReferenceError("LocalizedDate() needs to have a date as an object");for(var a,n=r.settings.date.format[e],i=o.month[r.date.getMonth()],c=o.day[r.date.getDay()],s={},d=0,l=/'(\S*?)'/g;null!==(a=l.exec(n));){var m="{"+d+"}",u=a[1];s[m]=u,n=n.replace(u,m),d++}t.each(o.javaDateFormats,function(e,t){if(n.indexOf(t)>-1){var a="{"+d+"}",o=r.jsonDateParser(t,i,c);s[a]=o,n=n.replace(t,a),d++}});for(var f=0;f<d;f++)n=n.replace("{"+f+"}",s["{"+f+"}"]);return n.replace(/'+/g,"")},convertToLocaleTime:function(e){var r=this,a=r.time,n=r.settings.time.format[e],i={h:!(!n.match(/h/g)||!n.match(/H/g)),m:!!(n.match(/m/g)&&n.match(/m/g).length>1&&n.match(/m/g).length%2===1),s:!!(n.match(/s/g)&&n.match(/s/g).length>1&&n.match(/s/g).length%2===1),a:n.indexOf("aaaaa")>-1,z:!1};if(!a)throw new ReferenceError("LocalizedDate() needs to have a time as a string");if(!r.formattedTime&&a)throw new ReferenceError("LocalizedDate() needs time to be parsed first to execute this method");return t.each(o.javaTimeFormats,function(e,t){if(n.indexOf(t)>-1&&!i[t]){var a=r.jsonTimeParser(t);n=n.replace(t,a)}}),n.replace(/'+/g,"")},jsonDateParser:function(e,t,r){var a,n=this;switch(e){case"yyyy":a=n.date.getFullYear().toString();break;case"yy":a=n.date.getFullYear().toString().slice(-2);break;case"y":a=n.date.getFullYear().toString();break;case"MMMMM":a=n.settings.date.month.narrow[t].toString();break;case"MMMM":a=n.settings.date.month.wide[t].toString();break;case"MMM":a=n.settings.date.month.abbreviated[t].toString();break;case"MM":var i=n.date.getMonth()+1;i=i<10?"0"+i.toString():i.toString(),a=i;break;case"M":a=(n.date.getMonth()+1).toString();break;case"dd":var o=n.date.getDate();o=o<10?"0"+o.toString():o.toString(),a=o;break;case"d":a=n.date.getDate().toString();break;case"EEEEE":a=n.settings.date.weekday.narrow[r].toString();break;case"EEEE":a=n.settings.date.weekday.wide[r].toString();break;case"EEE":a=n.settings.date.weekday.abbreviated[r].toString();break;case"EE":a=n.settings.date.weekday.abbreviated[r].toString();break;case"E":a=n.settings.date.weekday.abbreviated[r].toString()}return a},jsonTimeParser:function(e){var t,r,a,n=this,i=parseInt(n.formattedTime[0]),o=parseInt(n.formattedTime[1]),c=parseInt(n.formattedTime[2]);switch(r=function(t){return 2===e.length?t=t<10?"0"+t.toString():t.toString():("0"===t[0]&&(t=t.substr(1)),t.toString())},a=function(e,t){var r="string"==typeof e&&0===e.indexOf("0"),a=n.time.indexOf("AM")>-1,i=n.time.indexOf("PM")>-1;return e=parseInt(e),12===e?a?"H"!==t||i||(e=0):(e=12,n.formattedTime[3]="PM"):24===e||0===e?(e="h"===t?12:0,n.formattedTime[3]="AM"):e>12?("h"===t&&(e%=12),n.formattedTime[3]="PM"):!i&&e<12?n.formattedTime[3]="AM":i?"H"===t&&e<12&&(e+=12):e+=12,e=r&&e<10?"0"+e:String(e)},e){case"HH":i=r(i),i=a(i,"H"),t=i;break;case"H":i=r(i),i=a(i,"H"),t=i;break;case"hh":i=a(i,"h"),i=i<10?"0"+i.toString():i.toString(),t=i;break;case"h":i=a(i,"h"),t=i.toString();break;case"mm":o=r(o),t=o;break;case"m":o=r(o),t=o;break;case"ss":c=r(c),t=c;break;case"s":c=r(c),t=c;break;case"aaaaa":t=n.formattedTime[3].charAt(0).toLowerCase();break;case"a":t=n.formattedTime[3];break;case"zzzz":t=n.formattedTime[4];break;case"zzz":t=n.formattedTime[4];break;case"zz":t=n.formattedTime[4];break;case"z":t=n.formattedTime[4]}return t},padDate:function(e){var t,r=this,a=r.checkFormatBreak(e),n=e.split(a),i=/[0-9]/;for(t in n)if(n.hasOwnProperty(t)){var o=n[t];1===o.length&&i.test(o)&&(n[t]="0"+n[t])}return e=n.join(a)},dateFormatter:function(e,t){var r,a=this,n="short"===e&&t&&t.pad===!0;try{r=a.convertToLocaleDate(e),n&&(r=a.padDate(r))}catch(i){console.log(i.name+": "+i.message)}return r},shortDate:function(e){return this.dateFormatter("short",e)},mediumDate:function(){return this.dateFormatter("medium")},longDate:function(){return this.dateFormatter("long")},fullDate:function(){return this.dateFormatter("full")},shortTime:function(){var e,t=this;try{e=t.convertToLocaleTime("short")}catch(r){console.log(r.name+": "+r.message)}return e},mediumTime:function(){var e,t=this;try{e=t.convertToLocaleTime("medium")}catch(r){console.log(r.name+": "+r.message)}return e},longTime:function(){var e=this,t="";try{t=e.convertToLocaleTime("long")}catch(r){console.log(r.name+": "+r.message)}return t},fullTime:function(){var e=this,t="";try{t=e.convertToLocaleTime("full")}catch(r){console.log(r.name+": "+r.message)}return t}},r.utils.createLocalizedDate=function(e,t,r){return new i(e,null,t,r)},r.utils.createLocalizedISODate=function(e,t,r){try{var a=function(e){if("string"!=typeof e)throw new Error("createLocalizedISODate requires an ISO formatted string");var t=e.split("-"),r=new RegExp(/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/);try{if(e.indexOf("-")<0)throw new Error('ISO8601 date strings require a "-" seperator character.');if(10!==e.length)throw new Error("ISO8601 date-only (no time portion) strings must be 10 characters long.");if(3!==t.length)throw new Error('ISO8601 date strings must have two "-" characters.');if(r.test(e)===!1)throw new Error("Please provide a valid ISO8601 date string and ensure the date is a real date.")}catch(a){return console&&"function"==typeof console.warn&&console.warn(a),!1}return!0};if(a(e)){var n=e.split("-"),o=parseInt(n[0],10),c=parseInt(n[1]-1,10),s=parseInt(n[2],10),d=new Date(o,c,s);return new i(d,null,t,r)}throw new Error("createLocalizedISODate failed to interpret the provided dateString as YYYY-MM-DD: "+e)}catch(l){console.log(l.name+": "+l.message)}},r.utils.createLocalizedTime=function(e,t,r){return new i(null,e,t,r)},r.utils.createLocalizedDateTime=function(e,t,r,a){return new i(e,t,r,a,(!0))},i}),define("uitk_localized_priceApi",["uitk_domReady","jquery","uitk","exp_currencyformats","uitk_localized_config","uitk_i18n"],function(e,t,r,a,n,i){"use strict";function o(e,t,r,i){var o=this,c=n;o.price=e,o.currencyCode=r,a&&a.currencySettings?o.locale=a.currencySettings[t]?t:c[t]:o.locale=t,!i&&"object"==typeof a&&a.currencySettings&&a.currencySettings[o.locale]&&(i=a.currencySettings[o.locale][o.currencyCode]),o.settings=i;try{o._validate()}catch(s){console.log(s.name+": "+s.message)}}return o.prototype={constructor:o,_validate:function(){var e=this,t="LocalizedPrice() requires ",r=function(e){throw new ReferenceError(t+e)};if(e.price){if(e.price&&"string"!=typeof e.price)throw new TypeError(t+"a price as a string");if(isNaN(e.price))throw new TypeError(t+"a price as a string which can be converted in to a number")}else r("a price");e.currencyCode||r("a currencyCode"),e.locale||r("a locale"),e.settings||r("a currency settings to be loaded")},format:function(){var e,t,r=this.settings,a=r.currencyFormat,n=this.price.indexOf("-")!==-1,o=n?this.price.replace("-"," "):this.price,c=a.indexOf(".00")===-1?0:r.scale,s=r.currencySymbol.replace(/'/g,"");return e=n?null===r.negativeCurrencyFormat.match("0")?r.negativeCurrencyFormat.replace("¤","%u").replace("#","%n").replace(/\#{1,}/g,"").replace(/,/g,""):r.negativeCurrencyFormat.replace("¤","%u").replace(/\#{1,}/g,"").replace(/,/g,"").replace("0.00","%n").replace("0","%n"):a.replace("¤","%u").replace(/\#{1,}/g,"").replace("0.00","%n").replace("0","%n").replace(/,/g,""),t=i.toCurrency(o,{precision:c,separator:r.decimalSeparator,delimiter:r.groupingSeparator,format:e,unit:s})},_createRoundedPrice:function(e){var a=this,n=t.extend({},a.settings,{scale:0});return r.utils.createLocalizedPrice(e,a.locale,a.currencyCode,n)},roundUp:function(){var e=this,t=Math.ceil(e.price).toString();return e._createRoundedPrice(t)},roundDown:function(){var e=this,t=Math.floor(e.price).toString();return e._createRoundedPrice(t)},roundHalfUp:function(){var e=this,t=Math.round(e.price).toString();return e._createRoundedPrice(t)},roundHalfDown:function(){var e=this,t=Math.round(e.price-1e-5).toString();return e._createRoundedPrice(t)}},r.utils.createLocalizedPrice=function(e,t,r,a){return new o(e,t,r,a)},o});