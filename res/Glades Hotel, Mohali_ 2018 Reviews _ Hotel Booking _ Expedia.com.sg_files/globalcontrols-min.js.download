"use strict";if(define("gc/headerMessages",[],function(){return{closeButtonLabel:"Close",supportMenuLink:"Support",customerSupportLink:"Customer Support",feedbackLink:"Feedback",accountMenuLink:"Account",signInLink:"Sign In",createAccountLink:"Create an Account",accountLink:"My Account",moreMenuLink:"More",currentlySelected:"Currently selected",rbcRewardsHome:"RBC Rewards Home",travelRewards:"Travel Rewards",availablePoints:"Available Points",signOutLink:"Sign Out",identifiedSignOutLink:"Not <span id='userGreetingNameSignOut'></span> ?","identifiedSignOutLink-v2":"Not <span id='userGreetingNameSignOut-v2'></span> ? </br> <span class='type-200'>Log in to your account</span>",scratchpadLink:"My Lists",tripsLink:"My Trips",taapTrackingCode:"Tracking Code",travelAgentTitle:"TRAVEL AGENT AFFILIATE PROGRAM",userGreeting:"<span class='nonArrangedUser hidden'>Hello, <span id='userGreetingName'></span></span> <span class='arrangedUser hidden'><span id='arrangedUserGreetingName'></span>'s Account</span>",arrangeeMessage:"Booking travel on behalf of <strong><span id='arrangee-first-name'></span> <span id='arrangee-last-name'></span></strong>",doneArrangingText:"Done",beginMainContent:"Beginning of main content",skipNavContent:"Skip to main content",shopTravel:"Shop Travel",getLowRatesOnHotelsLink:"Get lower rates on thousands of hotels.",rewardsLink:"My Rewards",zeroPointsLink:"0 points",joinExpediaRewardsLink:"Join Expedia Rewards",userIconAltText:"User Icon",savedHotelText:"Saved Hotels",showAccountMenuText:"Show Account Menu",createAccountInAccountIconLink:"or <a id='header-account-signup' href='/user/createaccount' data-onclick='xp.nav.trackAnalytics(this, &quot;a&quot;, &quot;Header.CreateAccount&quot;)'>create an {{0}} Account</a>",sessionExpiredButton:"Sign In",sessionExpiredPara:"Please sign back in.",sessionExpiredTitle:"You have been logged out due to inactivity.",sessionForcedExpireTitle:"You have been logged out.",sessionLoading:"Loading",sessionWarningButton:"Extend Session",sessionWarningPara:"It's been a while since you were active on the site. Please extend your session below to continue shopping.",sessionWarningTitle:"Session Timeout Warning",epcAddProperty1:"List your property",epcAddProperty2:"Add your property",spHeaderLink:"My Lists",spHeaderLink_1:"My Favourites",spHeaderLink_2:"My Lists",spHeaderLink_3:"My Shortlist",spHeaderLink_4:"Recently Viewed",spHeaderLink_5:"My Notes",spSpTrayBadgeOne:"You have 1 recent search",spSpTrayBadgePlural:"You have {{count}} recent searches",spViewallitems:"View all {{count}} items",spViewscratchpadlink:"View your lists",spViewscratchpadlink_1:"View Favourites",spViewscratchpadlink_2:"View Lists",spViewscratchpadlink_3:"View Shortlist",spViewscratchpadlink_4:"View Recently Viewed",spViewscratchpadlink_5:"View Notes",savedHotels:"Saved Hotels",showAccountIconMenu:"Show Account Menu",spEmailaskstring:"Get price updates by email for your saved items and recent searches.",spPageupdatesoffer:"Get price updates by email for your saved items and recent searches.",spToolTipOff:"Get price updates by email for your saved and recently viewed items.",spTrackChanges:"Track changes",spSaveScratchpad:"Sign In or Create an Account to Keep",spEmailconfirmationstring:"You are receiving price updates for your saved items and recent searches. Watch your inbox!",spToolTipOnJS:"You are receiving price updates for your saved and recently viewed items. Watch your inbox at {{userEmail}}.",spSavesuccessstring:"This search has been added to your recent searches list.",spStandardGreeting:"Things you view while shopping are saved here.",spLoadingGreeting:"Loading your lists...",spLoadingGreeting_1:"loading your Favourites...",spLoadingGreeting_2:"loading your Lists...",spLoadingGreeting_3:"loading your Shortlist...",spLoadingGreeting_4:"loading your Recently Viewed...",spLoadingGreeting_5:"loading your Notes...",spSaveconfirmationstring:"Things you view while shopping are saved here. Pick up where you left off.",spOriginAirportToDestinationAirport:"{{departureAirportCode}} to {{arrivalAirportCode}}",spTimeRange:"{{startTime}} - {{endTime}}",spDateRange:"{{startDate}} - {{endDate}}",spAsOfDate:"as of {{lastSeenDate}}",spAsOfTime:"as of {{lastSeenTime}}",spPerPerson:"per person",spHotelSearchAvgPerNight:"avg per night",spHotelSearchAvgTotalRate:"avg total rate",spHotels:"{{destination}} hotels",spDaily:"daily",spWeekly:"weekly",spTotal:"total",spPerTraveler:"per traveller",spCruiseSearchPerNight:"per night",spCruiseSearchCruises:"Cruises",spCruiseSearchAllMonths:"All Months",spCruiseSearchAllDestinations:"All Cruise Destinations",spPricefrom:"from {{itemPrice}}",spSeePrice:"See price",spOneWay:"One way",spRoundtrip:"Round trip",spAirlineLogoAltText:"logo",spMultipleAirlinesLogoAltText:"Multiple Airlines logo",spPackageTitle:"{{packageDestination}} Packages",spPackageIncludes:"Flight and hotel included",spThing1PlusThing2:"{{item1}} + {{item2}}",spCarPackageItem:"car",spCarsAt:"Cars at {{destination}}",spCarsNear:"Cars near {{destination}}",nudgeEnrollmentTitle:"Get price updates by email for your saved items and recent searches.",nudgeEnrollmentSubtitle:"We'll watch prices on your saved items and recent searches for you.",nudgeEnrollmentAction:"Track Changes",nudgeEnrollmentSuccess:"You are receiving price updates for your saved items and recent searches. Watch your inbox!",spPriceDownOne:"1 price dropped.",spPriceDownMany:"{{params.[0]}} prices dropped.",spPriceUpOne:"1 price increased.",spPriceUpMany:"{{params.[0]}} prices increased.",spPriceDownManyUpMany:"{{params.[0]}} prices dropped, {{params.[1]}} prices increased.",spPriceDownManyUpOne:"{{params.[0]}} prices dropped, {{params.[1]}} price increased.",spPriceDownOneUpMany:"{{params.[0]}} price dropped, {{params.[1]}} prices increased.",spPriceDownOneUpOne:"1 price dropped, 1 price increased.",seeWhatChanged:"See what’s changed",signInToSee:"Sign in to see your notifications.",scratchpadFoundUpdates:"There's a price update on at least 1 item in your recent searches.",somethingHasChanged:"Something’s changed!",welcome:"Welcome! ",itinBouncedEmail:"We weren’t able to deliver your purchase confirmation email.",itinBouncedEmailLink:"View your itinerary online or resend",seeDetails:"See details",itemsChanged:"Items you viewed have changed!",noNotifications:"All caught up!",noNotificationsPartTwo:"No new notifications right now.",spMemberDealsSignUp:"Sign Up Now",spMemberRewardsSignUp:"Join Now",rewardsHotelCouponAvailability:"You have a {{params.[0]}} voucher available. Use it on your next hotel booking and save!",rewardsVIPCouponAvailability:"You have a {{params.[0]}} +VIP Access voucher available. Use it on your next hotel booking and save!",rewardsHotelCouponAvailabilityLink:"Shop hotels",rewardsVIPCouponAvailabilityLink:"Shop +VIP Access hotels",rewardsHotelCouponExpirationLinkV2:"Visit your account",rewardsHotelCouponExpirationV1:"Your {{params.[0]}} voucher expires on {{params.[1]}}!&lt;br&gt;Book now to make sure you get your rewards.",rewardsHotelCouponExpirationV2:"You have a voucher that’s expiring soon. Check your account for more details.",rewardsTierLink:"See&lt;br&gt;your new benefits",rewardsOneAwayLink:"See all the perks",rewardsGoldUpgradeLink:"See your new benefits",rewardsPointExpirationLink:"Redeem now",rewardsPayWithPointsLearnMoreLink:"Learn More",rewardsNewBadge:"NEW!",spAccessibleBellIcon:"Your notifications",spAccessibleBadgeOne:"You have 1 notification",spAccessibleBadgePlural:"You have #### notifications",spAccessibleNotifClose:"Close",addChromeExtensionNotificationMessage:"The official Expedia Member Only Deals extension is here! Stay connected and get your 10% off with member pricing.",addChromeExtensionNotificationLink:"Add to Chrome",spSwitchToAarp:"Get AARP Member discounts on AARP Travel Centre",exclusiveDealsMsg:"Sign in to see exclusive Member Pricing.",newCreateAccountLink:"New? <span>Create an Account</span>",TAAPWelcomeMessage:"Welcome to Expedia Travel Agent Affiliate Programme. You’re eligible to earn commission on your purchases!",TAAPWelcomeMessageLeanMoreLink:"Learn more about our incentives.",flightMIPGTMsg:"Exclusive offer: Your flight booking just unlocked up to 20% off ground transfer!",flightMIPActivityMsg:"Exclusive offer: Your flight booking just unlocked up to 20% off activities!",flightMIPActivityMsgCTC:"See Things to Do",flightMIPGTMsgCTC:"See Transport",TAAPGBVRemainingMessageSilver:"You’re <b>{{params.[0]}}</b> away from reaching the Silver level - higher commission on hotels, car hire and activities.",TAAPGBVRemainingMessageGold:"You’re <b>{{params.[0]}}</b> away from reaching the Gold level - higher commission on hotels, car hire and activities.",TAAPGBVRemainingMessagePlatinum:"You’re <b>{{params.[0]}}</b> away from reaching the Platinum level - higher commission on hotels, car hire and activities.",TAAPGBVRemainingLink:"See our incentive plans",promisingText:"Price Guarantee",downloadText:"Download the free app",pointsText:"Earn 2x {{brand}} points on all bookings",DEpointsText:"Book on the go.",TravelocitydownloadText:"Get 15% off hotels in app",TravelocitypointsText:"Download the app & use code <b>MOB15</b> to save 15% on select hotels",OrbitzdownloadText:"Download the free app",OrbitzpointsText:"Earn 5% back in app + save 15% on select hotels with code <b>APP15</b>",CheapTicketsdownloadText:"Become a travel ninja",CheapTicketspointsText:"Book on the go and stay connected with real-time trip updates on the app",eBookersdownloadText:"Download the free app",eBookerspointsText:"Earn 5% BONUS+ back in app & save 10% on hotels with code APP10",WotifdownloadText:"Take a shortcut to your next trip",WotifpointsText:"Get the Wotif App and book on the go",speedbumpTitle:"You're continuing to another website",speedbumpButtonContinue:"Continue",speedbumpButtonReturn:"Return",speedbumpNoThanks:"No thanks",bacSpeedbumpReturnToTravelCenter:"Return To Travel Centre",bacSpeedbumpMessage:"You're continuing to another website that we do not own or operate. Its owner is solely responsible for the website's content, offerings and level of security, so please refer to the website's posted privacy policy and terms of use.",nikeSpeedbumpPreTitle:'<div class="pretitle">You are now leaving Chase.com. <a href="#" class="speedbumpDismiss">Return to Chase Ultimate Rewards&#174;</a></div>',nikeSpeedbumpMessage:"Chase's website and/or mobile terms, privacy and security policies don't apply to the site or app you're about to visit. Please review its terms, privacy and security policies to see how they apply to you. Chase isn't responsible for (and doesn't provide) any products, services or content at this third-party site or app, except for products and services that explicitly carry the Chase name.<br /><br />Note : Your Chase account is still open on the original window where you logged in. If you're on a public computer, we advise you to log off.",nikeLhrcTitle:"Your stay with The Luxury Hotel &amp; Resort Collection<span>℠</span> Awaits",nikeLhrcPreTitle:'<div class="custom-pretitle"><strong>You are now leaving Chase.com.</strong> <a href="#" class="speedbumpDismiss">Return to Chase Ultimate Rewards&#174;</a><br><br><p>You will be <strong>transferred to The Luxury Hotel &amp; Resort Collection<span>℠</span> website</strong>, which is a site operated on behalf of Chase by a third party service provider. Chase\'s website terms, privacy and security policies apply to the site you\'re about to enter.<br><br>Please note that your Chase account is still open on the original window where you logged in. If you\'re on a public computer, we advise you to log off.</p></div>',nikeLhrcMessage:"<p>Your {{cardName}} card brings you exclusive benefits at over 900 luxury hotels and resorts worldwide, including breakfast for 2, room upgrades, early check-ins/late check-outs, and a special amenity unique to each property.</p><p>These properties are reservation-only. <strong>That means that you must make your reservations online with Ultimate Rewards by clicking “Continue”, but you complete your payment with {{cardName}} upon check-out at the hotel.</strong> Other than a deposit, which some hotels require with the reservation, you will not pay in advance. Because these are reservation-only properties, they do not accept points as payment.</p><p>Would you like to browse these luxury properties now?</p>",nikeLhrcLegal:'<div class="custom-footer"><strong>The Luxury Hotel &amp; Hotel Terms and Conditions:</strong><br>The Luxury Hotel &amp; Resort Collection programme benefits and Guest Privileges are available exclusively on select Chase credit cards. To receive the Guest Privileges, reservations must be made through a Luxury Hotel &amp; Resort Collection Travel Specialist or on the website. All exclusive amenities and Guest Privileges are provided per room and are based on double occupancy. Some amenities may only apply to select rates, may be subject to availability at check-in, and are not redeemable for cash. Amenities may not be combined with other offers, including tour operator or wholesaler rates and packages. Programme benefits, participating properties, and Guest Privileges are valid through the current calendar year, but may become unavailable due to circumstances outside of Chase\'s control. All efforts have been made to ensure the accuracy of the information contained. We reserve the right to correct any mistakes. Certain blackout dates and other restrictions may apply. This programme is brought to you by Chase through an agreement with Signature Travel Network.</div>',disclaimerBannerMessage:"Welcome to <u>{{displayDomain}}</u>, a US site operated by Expedia, Inc., a Washington corporation.",redirectPopupMessage:"Welcome to <u>{{displayDomain}}</u>, a US site operated by Expedia, Inc., a Washington corporation.",mcmlLanguageLabel:"Choose your language",mcmlCurrencyLabel:"Choose your currency",mcmlSaveSettingsLabel:"Save",welcomeToDomainMsg:"Welcome to {{domainText}}",continueToUSSiteMsg:"Continue to the U.S. site at {{usSiteDomain}}",bannerCloseMsg:"close",topCustomerMsg:"Thanks for being one of our most valued customers!"}}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),define("gc/abTestRegistry",["gc/abTestRegistryOverride","gc/errorLogging"],function(e,t){try{var n=[11054,10901,11237,10921,11776,10406,10120,11046,11841,11842,11872,11636,11877,12234,12609,10188,12087,12963,12978,11714,12571,13429,13430,13543,13851,14261,14592,16064,14764,15108,14767,14693,15538,15714,16316,24500,25126,25792,25810,25896,24759,24760,25593,26618,27383,27385,27387,27388,26565,27365,27370,27360];return n=function(e,t){for(var n={},i=e.length-1;0<=i;--i)n[e[i]]=e[i];for(i=t.length-1;0<=i;--i)n[t[i]]=t[i];var r=[];for(var a in n)n.hasOwnProperty(a)&&r.push(n[a]);return r}(n,e)}catch(e){t.logError(e,"wizard","gc/abTestRegistryOverride","main")}}),function(e,t){"function"==typeof define&&define.amd?require(["gc/abTestRegistry","jquery"],t().initialize):"object"==typeof module&&module.exports&&(module.exports=t())}("undefined"!=typeof self&&self,function(){var i,r,a,o="/api/bucketing/v1/evaluateExperiments/",t="/api/bucketing/v1/evaluateExperimentsAndLog";function n(e){return"string"==typeof e&&(e=parseInt(e)),e}function s(e){return e=n(e),r.hasOwnProperty(e)?r[e]:(console.log("Test ID "+e+" not evaluated. Add it to the abTestRegistry"),{id:e,value:0,cached:!1})}function c(e){var t=s(e=n(e));return t.cached&&!t.logged}function l(e){return c(e)?i.ajax({url:d(t,[e]),type:"GET",dataType:"json",contentType:"application/json",timeout:2e3}).then(function(){r[e].logged=!0}):i.Deferred().reject().promise()}function d(e,t){for(var n,i,r,a,o=u("abov"),s=e+"?guid="+(r=u("DUAID"),a=u("MC1"),0===r.length?a.startsWith("GUID=")&&37<=a.length?a.split("=")[1].replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5"):(console.log("No valid GUID found"),""):r)+"&tpid="+(1<(i=u("tpid").split(",")).length?i[1]:"")+"&eapid="+(1<(n=u("iEAPID")).length?n.split(/[^0-9]/)[0]:0),c=0;c<t.length;c++)s+="&id=",s+=t[c];return 0<o.length&&(s+="&overrides="+o),s}function u(e){var t=("; "+a.cookie).split("; "+e+"=");return 2===t.length?t.pop().split(";").shift():""}var p={initialize:function(e,t,n){return i=t,r={},a=void 0!==n?n:document,function(t){try{var e=d(o,t)}catch(e){return console.log("Not evaluating experiments. Missing cookies",t,e),i.Deferred().resolve().promise()}return i.ajax({url:e,dataType:"json",timeout:2e3}).then(function(e){if(e.evaluatedExperiments&&0<e.evaluatedExperiments.length){var t=e.evaluatedExperiments.map(function(e){return{id:parseInt(e.id),value:parseInt(e.value),cached:!0}}).reduce(function(e,t){return e[parseInt(t.id)]=t,e},{});i.extend(r,t)}},function(e,t,n){console.log("Error evaluating AB tests",t,n)})}(e).then(function(){"function"==typeof define&&define.amd&&define("gc/abTest",[],function(){return p})})},get:function(e,t,n){var i=s(e);return n&&l(e),i},evaluateAndLog:function(e,t){var n=s(e);return void 0!==n?(void 0!==t&&t||l(e),n.value):0},override:function(e,t){r[e].value=t},log:l,isTestLogged:function(e){return void 0!==r[e]&&!0===r[e].logged},shouldTestBeLogged:c};return p}),define("gc/analyticsStore",function(){return{publishClickEvent:function(e){!function(t){try{require(["dctk/dctk"],function(e){e.onReady&&e.trackEvent&&e.onReady(function(){e.trackEvent(t)})})}catch(e){e.message}}(e),function(c){try{require("PlatformAnalytics",function(e){var t,n,i,r,a,o,s=e.getInstance();void 0!==s&&(s.newDataCapture?(t=s,o=n=c,r=(i=function(e,t){t.events=o.trackEvents,t.trackVars=o.trackVars})?new Array(i):[],(a=t.newDataCapture({eventType:"click",adobeMappers:r})).collect({pageInfo:{referrerId:n.rfrr}}),a.publish()):function(e,t){var n={referrerId:t.rfrr,eventType:"click"};t.name&&(n.linkName=t.name);e.trackEvent({schemaName:"referrer",messageContent:n})}(s,c))})}catch(e){e.message}}(e)}}}),require(["jquery","gc/abTestRegistry","env","gc/errorLogging"],function(e,t,n,i){function r(e){var t=window.location.search,n=e+"=";return-1<t.indexOf(n)?"&"+n+t.split(n)[1].split("&")[0]:""}function a(e){try{var t=e;if(t.hasUser=function(){return!!t.user},t.isUserAnonymous=function(){return t.hasUser()&&t.user.userStatus&&t.user.userStatus.match(/^ANONYMOUS$/i)},t.isUserIdentified=function(){return t.hasUser()&&t.user.userStatus&&t.user.userStatus.match(/^(AUTHENTICATED|IDENTIFIED)$/i)},t.isUserAuthenticated=function(){return t.hasUser()&&t.user.userStatus&&t.user.userStatus.match(/^AUTHENTICATED$/i)},c){var n=t.user&&t.user.loyalty?t.user.loyalty:{};t.user=c,t.user.loyalty=l||n}else l&&(t.user.loyalty=l);d&&(t.site=d),s=t}catch(e){i.logError(e,"pagemodel","gc/pageModel","buildPageModel")}}try{for(var o=r("langid")+r("locale")+r("currency"),s={site:{id:0,tpid:0,eapid:0,brandName:"",companyCode:0,defaultDomain:"",langId:0,locale:"",resolvedCurrency:"USD"},user:{guid:"",userStatus:"ANONYMOUS",hasGroups:!1,arranged:!1},abTests:[]},c=void 0!==window.__GCSTATE__&&window.__GCSTATE__.user,l=void 0!==window.__GCSTATE__&&window.__GCSTATE__.loyalty,d=void 0!==window.__GCSTATE__&&window.__GCSTATE__.site,u=0;u<t.length;u++)-1===o.indexOf(t[u])&&(o+="&id="+t[u]);var p="";d&&(p="skipSite=true"),l&&(p=""==p?"skipLoyalty=true":p+"&skipLoyalty=true"),c&&(p=""==p?"skipUser=true&tuid="+c.tuid:p+"&skipUser=true&tuid="+c.tuid),e.ajax({url:"//"+window.location.host+"/gc/model.json",data:p+o,dataType:"json",cache:!1,timeout:n.pageModelTimeout}).done(a).fail(function(e,t,n){a(s),i.logError(n,"pagemodel","gc/pageModel","$.ajax","Ajax Failed: "+t+" : "+n),"undefined"!=typeof console&&console.warn("failed to get model.json: ["+t+"] ["+n+"]")}).always(function(){define("gc/pageModel",[],function(){return s})})}catch(e){i.logError(e,"pagemodel","gc/pageModel","main")}}),require(["jquery","gc/pageModel","gc/omnitureLogger","uitk_domReady"],function(r,e,a){var t=r("#add-hotel-link"),n=window.location.pathname.replace(/\//g,""),o=n||"Homepage",s=e.site.langId,c=e.site.defaultDomain.replace(/\./g,"")+"-"+e.site.locale;if(r(["header-partner-add-hotel-container","partner-add-hotel-container"]).each(function(e,t){var n=r("#"+t),i=r("> a",n);0<n.length&&0<i.length&&i.attr("href",i.attr("href").replace(/{LANGID}/g,s).replace(/{POS}/g,c).replace(/{PAGE_NAME}/g,o))}),0<t.length){var i=t.attr("href"),l=i+"/LangCode/"+s+"?utm_source="+c+"&utm_medium=referral&utm_campaign="+o+"&utm_content=footer-eps";t.attr("href",t.attr("href").replace(i,l))}var d=r("#header-account-menu  .btn-label").css("color");r("#header-partner-add-hotel-container a").css({color:d,borderColor:d}),r(document).on("click","#add-hotel-link, #partner-add-hotel-container a, #header-partner-add-hotel-container a",function(e){var t,n,i=(t=e,n=new RegExp("utm_content[^&]*"),"GC-AddProperty|"+(t.target.href.match(n)?t.target.href.match(n)[0].replace("utm_content=",""):"gc_utm_component")+"|"+a.getClientID()+"|"+c),r={eVar28:i,prop16:i};a.sendToOmniture("epc-add-your-property",r)})}),void 0===OneTapSignUp)var OneTapSignUp={};var gssExperimentId;if(require(["gc/abTest","gc/pageModel","jquery","dctk/dctk","env"],function(e,t,n,i,r){var a,o=t&&("Identified"===t.user.userStatus&&t.user.expUserId<0||"ANONYMOUS"===t.user.userStatus),s=0,c=r.googleYoloClientId,l="user_cancelled_one_tap",d="https://accounts.google.com";(OneTapSignUp.loadGoogleClientLibrary=function(){var e=document.createElement("script");e.type="application/javascript",e.src="https://smartlock.google.com/client",e.async=!0,e.defer=!0,document.getElementsByTagName("head")[0].appendChild(e)},OneTapSignUp.getCookie=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""},OneTapSignUp.setCookie=function(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var r="expires="+i.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"},OneTapSignUp.addOmnitureEvent=function(e,t){var n={id:e,element:null,omnitureVariables:{pageName:"",prop16:e,eVar28:e}};null!=t&&(n.event=t),i.onReady(function(){i.trackAction(n.id,n.element,n.omnitureVariables,n.event)})},OneTapSignUp.checkIfOneTapCancelledCookieIsPresent=function(){return""!=OneTapSignUp.getCookie(l)},OneTapSignUp.setLogoutCookie=function(){OneTapSignUp.setCookie(l,!0,1)},OneTapSignUp.logOutFromOneTap=function(){var e=n.Deferred();return void 0===a?e.reject().promise():(a.disableAutoSignIn().then(function(){OneTapSignUp.setLogoutCookie(),e.resolve()},function(){a.disableAutoSignIn().then(function(){OneTapSignUp.setLogoutCookie(),e.resolve()},function(){e.reject()})}),e.promise())},OneTapSignUp.loginWithCredentials=function(e,t){if(e.password);else{var n="Account.Google.Onetap.Connect";t&&(n="Account.Google.Onetap.Login"),OneTapSignUp.addOmnitureEvent(n,null),OneTapSignUp.signInUsingIdToken(e.idToken)}},OneTapSignUp.handleHintRequestError=function(e,t){switch(e.type){case"userCanceled":OneTapSignUp.addOmnitureEvent("Account.Google.Onetap.Close.Hint",null),t.cancelLastOperation().then(function(){OneTapSignUp.setCookie(l,!0,7)});break;case"noCredentialsAvailable":OneTapSignUp.addOmnitureEvent("Account.Google.Onetap.NoCredentialsAvailable",null);break;case"requestFailed":OneTapSignUp.addOmnitureEvent("Account.Google.Onetap.RequestFailed",null);break;case"operationCanceled":OneTapSignUp.addOmnitureEvent("Account.Google.Onetap.OperationCancelled",null);break;case"unsupportedBrowser":OneTapSignUp.addOmnitureEvent("Account.Google.Onetap.UnsupportedBrowser",null)}},OneTapSignUp.signInUsingIdToken=function(e){n.ajax({url:"/user/connect/google",type:"GET",data:{id_token:e},success:function(e){"true"===e.isSuccess?("true"===e.isNewUser?OneTapSignUp.addOmnitureEvent("Account.Google.Onetap.Create.Success","event25"):OneTapSignUp.addOmnitureEvent("Account.Google.Onetap.Login.Success","event26"),"true"===e.isAccountLinkedWithExisting&&OneTapSignUp.addOmnitureEvent("Account.Google.Onetap.Link.Success",null),location.reload()):OneTapSignUp.addOmnitureEvent("Account.Google.Onetap.Service.Failure",null)},error:function(){OneTapSignUp.addOmnitureEvent("Account.Google.Onetap.Failure",null)}})},OneTapSignUp.isOneTapEnabledOnThePage=function(){var e=window.location.pathname;return"localhost"===window.location.hostname||"/"===e||-1<e.indexOf("/gc/")||-1<window.location.host.indexOf("localhost")},window.onGoogleYoloLoad=function(t){a=t,o&&t.retrieve({supportedAuthMethods:[d],supportedIdTokenProviders:[{uri:d,clientId:c}]}).then(function(e){OneTapSignUp.loginWithCredentials(e,!0)},function(e){"userCanceled"===e.type?(OneTapSignUp.addOmnitureEvent("Account.Google.Onetap.Close.Retrieve",null),t.cancelLastOperation().then(function(){OneTapSignUp.setCookie(l,!0,7)})):"unsupportedBrowser"===e.type?OneTapSignUp.addOmnitureEvent("Account.Google.Onetap.UnsupportedBrowser",null):"noCredentialsAvailable"===e.type&&t.hint({supportedAuthMethods:[d],supportedIdTokenProviders:[{uri:d,clientId:c}]}).then(function(e){OneTapSignUp.loginWithCredentials(e,!1)},function(e){OneTapSignUp.handleHintRequestError(e,t)})})},OneTapSignUp.isOneTapEnabledOnThePage())&&(s=e.get(25811,null,!1).value,o&&e.log(25811),1===s&&!1===OneTapSignUp.checkIfOneTapCancelledCookieIsPresent()&&OneTapSignUp.loadGoogleClientLibrary())}),require(["gc/errorLogging","gc/abTest","gc/pageModel","gc/analyticsStore","uitk"],function(t,e,n,i,r){try{void 0===window.xp&&(window.xp={}),void 0===xp.namespace&&(xp.namespace=function(){for(var e,t=arguments,n=null,i=0;i<t.length;i+=1){e=t[i].split("."),n=window;for(var r=0;r<e.length;r+=1)n[e[r]]=n[e[r]]||{},n=n[e[r]]}return n}),xp.namespace("xp.nav"),xp.nav.trackAnalytics=function(e,t,n){return i.publishClickEvent({name:"RFRR Action Link",rfrr:n,type:t}),!0},xp.nav.trackAnalyticsLanguageLinkWithLangID=function(e,t){i.publishClickEvent({name:"RFRR Action Link",rfrr:e,trackVars:{prop30:t,eVar54:t}})},xp.namespace("xp.nav.event"),xp.nav.event.onDOMReady=function(t){if(window.addEventListener)window.addEventListener("load",t,!1);else if(window.attachEvent)window.attachEvent("onload",t);else if(null!=window.onload){var n=window.onload;window.onload=function(e){n(e),window[t]()}}else window.onload=t};var a="gc_rewrite_lang_links";r.subscribe(a,function(e,t){t.forEach(function(e){var t=document.querySelector("#header-language-"+e.langId);t&&(t.href=e.canonicalUrl+(0<=e.canonicalUrl.indexOf("?")?"&":"?")+"langid="+e.langId,t.dataset.onclick&&(t.dataset.onclick=t.dataset.onclick.replace("langRedirectionUrl(this);return false;","")))}),r.unsubscribe(a)}),r.publish("gc_headjs_isready",{})}catch(e){t.logError(e,"header","header.js","main")}}),require(["uitk","jquery"],function(a,o){o(".utility-nav a").on("click",function(){var e=o(this).attr("id"),t=o(this).attr("href"),n=o(this).attr("target"),i=o(this).data("route"),r=o(this).data("omniture-id");a.publish("gc_nav_click",{id:e,href:t,target:n,route:i,omnitureId:r})})}),require(["uitk","jquery"],function(e,t){var n=t("#account-menu ul"),i=t("#globalSiteNavigation");e.publish("gc_topcust_msg",{item:n,image:i})}),require(["gc/abTest","gss-modal","env","gc/pageModel","uitk","uitk_init","jquery","dctk/dctk","gc/analyticsStore"],function(o,s,c,e,t,n,i,l,d){var r=!1;void 0!==e.location&&void 0!==e.location.country&&("cn"===e.location.country&&(r=!0));if(r)l.loggingAdapter.logMessage("GSS_MODAL_ORIGINATED_FROM_CHINA");else if(gssExperimentId=25810){var u,a=e&&"Identified"===e.user.userStatus,p=e&&"AUTHENTICATED"===e.user.userStatus,g=e&&("Identified"===e.user.userStatus&&e.user.expUserId<0||"ANONYMOUS"===e.user.userStatus),h=window.innerWidth<=725,m=o.get(14261,null,!1).value,f=null!=m?3==m:void 0,v=o.get(gssExperimentId,null,!1).value;if(g){var y=E("account-signin"),w=E("account-register");if(h)C(y=E("header-accountMenu-signin"),w=E("header-account-signup"),"data-onclick","data-onclick");else{var k=E("header-account-signin-button");null!==k&&"undefined"!==k&&(y=E("header-account-signin"),w=E("header-account-register")),C(y,w,"data-onclick","data-onclick")}}else{var S=E("account-myaccount");h&&(S=E("account-menu-myaccount")),p&&null!==S?(localStorage.setItem("identifiedLogout",!1),S.addEventListener("click",function(t){t.preventDefault();var n=i(this);i.ajax({url:"/gc/getUserState.json",type:"GET",async:!1,timeout:c.pageModelTimeout,success:function(e){(p=e.authenticated)?n.trigger("click"):(b(),T(S,t))}})})):a&&null!==S&&(localStorage.setItem("identifiedLogout",!0),S.addEventListener("click",function(e){b(),T(S,e)}))}"?logout=1"===window.location.search&&"true"===localStorage.getItem("identifiedLogout")&&g&&(localStorage.removeItem("identifiedLogout"),A(null,null,"page.Account.GSS.SignIn",null,null,null))}function b(){o.log(gssExperimentId,null,!0).always(function(){!1===o.isTestLogged(gssExperimentId)&&l.loggingAdapter.logMessage("abtest_logging_failed_GSS_Variant"+v)})}function C(t,n,e,i){if(s=n,void 0!==(o=t)&&void 0!==s&&null!=o&&null!=s){var r=I(n,i),a=I(t,e);h&&(t.removeAttribute("onclick"),a="xp.nav.trackAnalytics(this,'a','Header.Signin')",r="appendRedirectionUrl(this); return false;"+r),n.addEventListener("click",function(e){b(),d.publishClickEvent({name:"RFRR Action Link",rfrr:"Header.CreateAccount"}),A(n,t,"page.Account.GSS.CreateAccount",r,a,e)}),t.addEventListener("click",function(e){b(),d.publishClickEvent({name:"RFRR Action Link",rfrr:"Header.Signin"}),A(n,t,"page.Account.GSS.SignIn",r,a,e)})}var o,s}function T(e,t){u=e.pathname,A(null,e,"page.Account.GSS.SignIn",null,I(e,"data-onclick"),t)}function A(e,t,n,i,r,a){1<v&&"undefined"!==v?(!function(e){var t={showLoyaltyCheckBox:v<4};t.siteid=c.siteId,t.langid=c.langId,t.locale=c.locale,t.rurl=u,t.evaluateRecaptchaGCFlag=f,t.showGoogleSignInSignUp=o.get(24759,null,!1).value,t.showNaverSignInSignUp=o.get(24760,null,!1).value,t.showSignInLoyalty=!0,null!==e&&e.preventDefault();s.initDomEmbedded(t)}(a),l.onReady(function(){l.omtr.pageName=n,l.omtr.t()}),"page.Account.GSS.CreateAccount"===n?s.openSignUp():s.openSignIn()):(null!==t&&(h&&null!==e?t.setAttribute("data-onclick",r+"; location.href='/user/signin?ckoflag=0'"):t.setAttribute("data-onclick",r)),null!==e&&e.setAttribute("data-onclick",i))}function I(e,t){var n=e.getAttribute(t);return e.removeAttribute(t),n}function E(e){return document.getElementById(e)}}),require(["jquery"],function(e){var t=e("#header-container > .b2p-yellow-header");if(0<t.length&&/Trident|MSIE/i.test(window.navigator.userAgent)){var n=t.find("#header-logo img");n.on("load",function(){var e=n.css("width");"0px"!==e&&n.css("width",e)}).each(function(){this.complete&&e(this).trigger("load")})}}),require(["env"],function(e){null!=e.siteId&&"70201"==e.siteId&&0==window.location.pathname.indexOf("/rewards")&&(document.getElementById("language-link-2058").style.display="none")}),void 0===OneTapSignUp)var OneTapSignUp={};function targetPageReload(e){var t,n=window.location.pathname,i=(/uurl=([^&]+)/.exec(window.location.search)||[])[1];window.header_feedDomain?e="http:"+window.header_feedDomain+e+"&uurl=http:"+window.header_feedDomain:i&&-1!==i.indexOf("e3id")?e=e+"&uurl="+i:"/Hotel-Search"===n?(t=n+window.location.search+window.location.hash.replace("#",""===window.location.search?"?":"&"),e+="&uurl="+encodeURIComponent("e3id=redr&rurl="+t)):"/"!==n&&(t=n.concat(window.location.search,window.location.hash),e+="&uurl="+encodeURIComponent("e3id=redr&rurl="+t)),window.location.href=e.replace(/\'/g,"").replace(/\"/g,"")}function createMarketingCookie(e,t,n,i,r){var a=e+"="+t+";";n&&(n instanceof Date?isNaN(n.getTime())&&(n=new Date):n=new Date((new Date).getTime()+1e3*parseInt(n)*60*60*24),a+="expires="+n.toGMTString()+";"),i&&(a+="path="+i+";"),r&&(a+="domain="+r+";"),document.cookie=a}function getMarketingCookie_unreliable(e){var t=new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g").exec(document.cookie);return null===t?null:t[1]}function deleteMarketingCookie(e,t,n){createMarketingCookie(e,"",-1,t,n)}function setMarketingEAPID(i){var r=function(e,t){if(getMarketingCookie_unreliable("iEAPID")!=e){var n=getMarketingDomain();deleteMarketingCookie("iEAPID","/",n),createMarketingCookie("iEAPID",e,null,"/",n),t<5&&setTimeout(function(){r(i,t++)},1500)}};"undefined"!=typeof jQuery?$(document).ready(function(){r(i,0)}):r(i,0)}function getMarketingDomain(){var e=location.href.match(/:\/\/(www\.)?([^\/:]+)/);return""<e&&(e="."+(e=e[2]?e[2]:"")),e}function logoutMarketingUser(){var e=getMarketingDomain();deleteMarketingCookie("linfo","/",e),deleteMarketingCookie("user","/",e),deleteMarketingCookie("minfo","/",e),deleteMarketingCookie("accttype","/",e),deleteMarketingCookie("iEAPID","/",e)}function buildTaapMdpcidValue(e,t,n){return"WPK."+e+"."+t+"-"+n}function buildDateYYYYMMDD(e){var t=new Date((new Date).setTime((new Date).getTime()+24*e*60*60*1e3)),n=t.getFullYear().toString(),i=(t.getMonth()+1).toString();i.length<2&&(i="0"+i);var r=t.getDate().toString();return r.length<2&&(r="0"+r),n+i+r}function setMarketingCidInASPP(e,t){createMarketingCookie("aspp","v.1,0|"+t+"|||||||||"+e+"|"+buildDateYYYYMMDD(30)+"|",null,"/",getMarketingDomain())}window.gcSafeLogError=function(t,n,i,r,a){require("gc/errorLogging",function(e){e.logError(t,n,i,r,a)})},window.langRedirectionUrl=function(e){try{var t="/pub/agent.dll?qscr=chlg&lang={langID}&ovrd=3&rurl=",n=window.location.pathname,i=e.href.split("?langid=")[1],r=window.location.search,a=window.location.hash,o=e.href,s=-1<n.indexOf("agent.dll")||-1<n.indexOf("/daily/"),c=window.header_feedDomain;t=t.replace("{langID}",i),s&&(o=t+encodeURIComponent(window.location)),c?o="http:"+window.header_feedDomain+t+encodeURIComponent("http:"+window.header_feedDomain+"/"):(""===r&&(r="?"),o=n+(r=-1<r.indexOf("langid=")?r.replace(/langid=\d+/,"langid="+i):r+"&langid="+i)+a),window.location.href=o}catch(e){window.gcSafeLogError(e,"header","header.js","langRedirectionUrl")}},window.currencyRedirectionUrl=function(e){var t=window.location.pathname,n=window.location.search,i=window.location.hash,r=window.location.pathname,a=e.href.split("?currency=")[1];if(window.header_feedDomain)r="http:"+window.header_feedDomain+"/?currency="+a;else{if(""===n&&(n="?"),-1<n.indexOf("rfrr")){for(var o=n.split("&"),s=0;s<o.length;s++)-1<o[s].indexOf("rfrr")&&(o.splice(s,1),s--);0!==(n=o.join("&")).indexOf("?")&&(n="?"+n)}r=t+(n=-1<n.indexOf("currency=")?n.replace(/currency=[A-Z]{3}/,"currency="+a):n+"&currency="+a)+i}window.location.href=r},window.appendRedirectionUrl=function(e){try{-1!=e.href.indexOf("/user/signin")?targetPageReload("/user/signin?ckoflag=0"):-1!=e.href.indexOf("/user/login")?targetPageReload("/user/login?ckoflag=0"):-1!=e.href.indexOf("/user/createaccount")?targetPageReload("/user/createaccount?fromheader=true"):"function"==typeof OneTapSignUp.logOutFromOneTap?OneTapSignUp.logOutFromOneTap().always(function(){targetPageReload("/user/logout?")}):targetPageReload("/user/logout?")}catch(e){window.gcSafeLogError(e,"header","header.js","appendRedirectionUrl")}},require(["gc/errorLogging","gc/abTest","gc/pageModel","gc/analyticsStore","uitk","jquery"],function(p,e,y,g,h,w){var r=!1;!function(){var e="",t="",n=localStorage.getItem("selectedLangId"),i=localStorage.getItem("selectedLang"),r=localStorage.getItem("currencyValue"),a=window.location.search,o="",s=w("#select-multi-currency option"),c=w("#select-multi-language option");if(null!=a&&0<a.length&&(-1<a.indexOf("?")&&(a=a.replace("?","")),o=a.split("&")),y.site&&y.site.resolvedCurrency&&y.site.langId)s.each(function(){w(this).attr("value")===y.site.resolvedCurrency&&(e=w(this).text())}),c.each(function(){parseInt(w(this).attr("value"))===y.site.langId&&(t=w(this).text())});else if(""!==o&&0<o.length)for(var l=0;l<o.length;l++){var d=o[l].split("=");"currency"===d[0]&&null!=d[1]&&0<d[1].length&&s.each(function(){w(this).attr("value")===d[1]&&(e=w(this).text())}),"langid"===d[0]&&null!=d[1]&&0<d[1].length&&c.each(function(){w(this).attr("value")===d[1]&&(t=w(this).text())})}else if(null!=n&&0<n.length&&null!=i&&0<i.length&&null!=r&&0<r.length){var u=n.split("-"),p=r.split("-");null!=u&&1<u.length&&u[1]===window.site_id&&null!=p&&0<p.length&&(t=i,e=p[0])}var g=w("#multi-currency-multi-lang-picker-menu a"),h=g.text().split("-"),m=w.trim(h[0]),f=w.trim(h[1]),v=g.find("img");""!==t&&0<t.length&&(m=t),""!==e&&0<e.length&&(f=e),g.html(" "+m+" - "+f),g.prepend(v)}(),w("#onPageModalLink01").click(function(){var e="",t=w("#multi-currency-multi-lang-picker-menu a").text().split("-"),n=w.trim(t[0]),i=w.trim(t[1]);w("#select-multi-language option").each(function(){w(this).text()===n&&(e=w(this).attr("value"))}),null!=i&&0<i.length&&null!=e&&0<e.length&&(w("select[name^=select-multi-language] option[value="+e+"]").siblings().removeAttr("selected"),w("select[name^=select-multi-language] option[value="+e+"]").attr("selected","selected"),w("select[name^=select-multi-currency] option[value="+i+"]").attr("selected","selected")),setTimeout(a,100)});var a=function(){r||(r=!0,w("#multi-currency-multi-lang-save-btn").click(function(){try{var e="/pub/agent.dll?qscr=chlg&lang={langID}&ovrd=3&rurl=",t=window.location.pathname,n=window.location.search,i=window.location.hash,r=window.location.pathname,a=w("#select-multi-language option:selected").attr("value"),o=w("#select-multi-language option:selected").text(),s=w("#select-multi-currency option:selected").attr("value");!function(e,t){var n=localStorage.getItem("selectedLangId"),i=localStorage.getItem("currencyValue"),r="",a=0;if(null!=n&&0<n.length){var o=n.split("-");1<o.length&&o[1]===window.site_id&&o[0]!=e&&(r="Header.LanguagePicker."+e,a+=1)}else r="Header.LanguagePicker."+e,a+=1;if(null!=i&&0<i.length){var s=i.split("-");1<s.length&&s[1]===window.site_id&&s[0]!=t&&(r="Header.CurrencyPicker."+t,1===a&&(r="Header.LanguageCurrencyPicker."+e+"."+t))}else r="Header.CurrencyPicker."+t,1===a&&(r="Header.LanguageCurrencyPicker."+e+"."+t);null!=r&&0<r.length&&g.publishClickEvent({name:"RFRR Action Link",rfrr:r})}(a,s),localStorage.setItem("selectedLangId",a+"-"+window.site_id),localStorage.setItem("selectedLang",o),localStorage.setItem("currencyValue",s+"-"+window.site_id);var c=window.header_feedDomain,l=-1<t.indexOf("agent.dll")||-1<t.indexOf("/daily/");if(e=e.replace("{langID}",a),l&&(r=e+encodeURIComponent(window.location)),c)r="http:"+window.header_feedDomain+"/?currency="+s;else{if(""===n&&(n="?"),-1<n.indexOf("rfrr")){for(var d=n.split("&"),u=0;u<d.length;u++)-1<d[u].indexOf("rfrr")&&(d.splice(u,1),u--);0!==(n=d.join("&")).indexOf("?")&&(n="?"+n)}r=t+(n=function(e,t){e=-1<e.indexOf("langid=")?e.replace(/langid=\d+/,"langid="+t):e+"&langid="+t;return e}(n=function(e,t){e=-1<e.indexOf("currency=")?e.replace(/currency=[A-Z]{3}/,"currency="+t):e+"&currency="+t;return e}(n,s),a))+i}window.location.href=r,h.modal.close()}catch(e){p.logError(e,"multi-currency-multi-language-picker","multi-currency-multi-language-picker.js","langAndCurrencyRedirectionUrl")}}))};h.subscribe("modal.close",function(){r&&(r=!1);var e=localStorage.getItem("selectedLangId"),t=localStorage.getItem("currencyValue");if(null!=e&&null!=t&&0<e.length&&0<t.length){var n=e.split("-"),i=t.split("-");1<n.length&&n[1]===window.site_id&&(w("select[name^=select-multi-language] option[value="+n[0]+"]").siblings().removeAttr("selected"),w("select[name^=select-multi-language] option[value="+n[0]+"]").attr("selected","selected"),w("select[name^=select-multi-currency] option[value="+i[0]+"]").attr("selected","selected"))}})}),require("gc/errorLogging",function(t){try{define("module",function(){return{}}),define("exports",function(){return{}}),require("env",function(e){void 0!==e.siteId&&(window.site_id=e.siteId)}),define("./utils",["Handlebars.Utils"],function(e){return e}),define("./handlebars/utils",["Handlebars.Utils"],function(e){return e}),define("./exception",["Handlebars.Exception"],function(e){return e}),define("./handlebars/exception",["Handlebars.Exception"],function(e){return e}),define("./safe-string",["Handlebars.Safe-String"],function(e){return e}),define("./handlebars/safe-string",["Handlebars.Safe-String"],function(e){return e}),define("./no-conflict",["Handlebars.noConflict"],function(e){return e}),define("./handlebars/no-conflict",["Handlebars.noConflict"],function(e){return e}),define("./runtime",["Handlebars"],function(e){return e}),define("./handlebars/runtime",["Handlebars"],function(e){return e})}catch(e){t.logError(e,"header","handlebars-amd-bootstrap.js","main")}}),define("gc/script-loader",["jquery"],function(i){return function(e,t){var n=document.createElement("script");n.setAttribute("src",e),n.setAttribute("type","text/javascript"),n.addEventListener("load",t),i("head")[0].appendChild(n)}}),require(["uitk","gc/pageModel","gc/script-loader","env","jquery","dctk/dctk"],function(e,n,r,i,a,o){var t=n.user.hasGroups,s=i.locale||n.site.locale,c=i.siteId||n.site.id,l=i.taapHeaderBundleUrl||"https://d4rb83r2tty9a.cloudfront.net",d=i.version||"e4128bc5b740c3a51be00492446cfc400d08b587",u=(i.prefix||"//a.travel-assets.com/globalcontrols-service").replace("http:",""),p=!1,g=function(){p||(r(l+"/taapHeaderBundle.js"),r(l+"/loc/taapHeader."+s+".js"),p=!0)};0<=location.search.indexOf("hasGroup=true")&&(t=!0);var h,m=function(t){var e;if(t&&t.model&&t.id&&(t.model&&t.model.programName&&"npp"==t.model.programName&&o.onReady(function(){o.clearOmnitureObj(),o.trackEvent("o","Use Different Account",{eVar40:t.model.partnerProgramMetadata.companyID})}),t.id)){t.id=t.id.toLowerCase(),"pugs"==t.id&&t.model&&t.model.programName&&(t.id=t.model.programName);var n="header/cobrand/"+t.id+"/brandingheader";if("taap"==t.id){g();var i=setInterval(function(){a("#all-in-rewards-header-link").length&&a("#sub-menu-header-shop-rewards").length&&(clearInterval(i),a("#all-in-rewards-header-link").hide(),a("#sub-menu-header-shop-rewards").hide()),a("#header-account-rewards-more-menu").length&&a("#header-account-rewards-more-menu").hide()},10);return}e=u+"/content/"+d+"/templates/"+c+"/"+s+"/"+t.id+".js",r(e,function(){for(var e in t.model)t.model.hasOwnProperty(e)&&(cugModel[e]=t.model[e]);require("handlebars",function(e){var t=document.createElement("div");t.innerHTML=e.templates[n](cugModel),a("#cobranded-header").html(t).show()})})}},f="marketing.header.key",v=function(e){if(sessionStorage)try{return JSON.parse(sessionStorage.getItem(e))}catch(e){console.error(e)}return null},y=function(e,t){if(sessionStorage)try{sessionStorage.setItem(e,JSON.stringify(t))}catch(e){console.error(e)}},w=function(e,t){return!!i.skipMarketingHeaderValidation||!(!n.isUserAuthenticated()||n.user.tuid!=e.tuid||!e.currentTime)&&(t-e.currentTime)/1e3<7200};if(sessionStorage&&sessionStorage.getItem("taapContext"))g();else if(t)try{(h=v(f))&&w(h,Date.now())?m(h.response):a.get("/marketingHeader/branding",function(e){y(f,{currentTime:Date.now(),response:e,tuid:n.user.tuid}),m(e)})}catch(e){console.error(e)}}),require(["uitk","gc/pageModel","jquery","gc/errorLogging","gc/abTest","gc/analyticsStore"],function(e,i,r,t,n,a){try{var o=i&&("Identified"===i.user.userStatus&&i.user.expUserId<0||"ANONYMOUS"===i.user.userStatus),s=i&&"Identified"===i.user.userStatus,c=i&&"AUTHENTICATED"===i.user.userStatus,l=i&&i.user.sua&&"Identified"===i.user.userStatus,d=function(){return window.innerWidth<=725},u=80001===i.site.id&&d(),p=70201===i.site.id,g=function(){r("#account-menu-header").removeClass("hidden"),r("#account-menu").addClass("hide"),r("#utility-link").addClass("hide");var e=r("#header-account-signup"),t=e.text(),n=i.site.brandName?i.site.brandName.toLowerCase():"";n=m(n),t=t.replace("{{0}}",n),e.text(t)},h=function(){var e=i.user.loyalty&&i.user.loyalty.tier?i.user.loyalty.tier:"",t=r(".signedInIcon"),n=r(".rewardsInHeader");(t.addClass(e),n.addClass("hide"),r(".account-menu-rewards").removeClass("hidden"),i.user.loyalty&&i.user.loyalty.tier)||r(".joinExpediaRewards").removeClass("hidden")},m=function(e){return void 0!==e&&e?e[0].toUpperCase()+e.slice(1):""};if(c||!o){r("#header-account-menu").addClass("hidden"),r("#account-signin").addClass("hidden");var f,v=r("#header-account-menu-signed-in"),y=i.user.emailAddress||"";if(20<(y=y.trim()).length)y=y.substring(0,17).concat("...");else{var w=y.split("@");8<w[0].length&&(w[0]=w[0].substring(0,7).concat("..."),y=w.join("@"))}f=i.user.firstName&&""!=i.user.firstName?i.user.firstName:i.user.emailAddress&&""!=i.user.emailAddress?y:"Guest",u&&r("#account-menu-header .userDetails span").text(f),i.user.arranged?(v.find("#arrangedUserGreetingName").text(f),v.find(".arrangedUser").removeClass("hidden")):(v.find("#userGreetingName").text(f),v.find(".nonArrangedUser").removeClass("hidden"),r("#account-menu-signed-in").find("#userGreetingName").text(f),r("#account-menu-signed-in").find(".nonArrangedUser").removeClass("hidden")),s?(r("#account-signout").addClass("hidden"),r("#identified-account-signout").addClass("hidden"),r("#identified-account-signout-v2").removeClass("hidden"),r("#userGreetingNameSignOut-v2").text(f)):(r("#account-signout").removeClass("hidden"),r("#identified-account-signout").addClass("hidden"),r("#identified-account-signout-v2").addClass("hidden")),v.removeClass("hidden"),r(".notSignedIn").css("display","none"),r(".signedIn").removeClass("hidden"),l&&r("#account-myaccount").addClass("hidden")}else r(".signedIn").css("display","none");d()&&!p&&g(),d()&&(h(),r(".fav-hotels-link").removeClass("hidden")),r(document).on(e.clickEvent,"#account-menu-icon",function(){a.publishClickEvent({name:"AccountIconButtonClicked",rfrr:"HP.ACCOUNT.HEADER.ENG"})}),r(window).on("resize",function(){c||!o?(r(".notSignedIn").css("display","none"),r("#account-menu-header .userDetails span").text(f)):r(".signedIn").css("display","none"),d()&&!p&&g(),d()&&h()})}catch(e){t.logError(e,"header","account-menu.js","main")}}),require(["jquery"],function(e){var t=window.location.pathname;function n(e){e.hasClass("hidden")||e.addClass("hidden")}void 0===t||0!=t.indexOf("/trips")&&0!=t.indexOf("/hotel-cancel-details")&&0!=t.indexOf("/hotel-cancel-confirmation")||(n(e("#header-currency-menu")),n(e("#multi-currency-multi-lang-picker-menu")))}),require(["jquery","gc/errorLogging","gc/redirect-banner/model","gc/pageModel"],function(o,t,e,s){var c;try{if(e.isRedirected(window.location)){var l=e.createReturnUrl(window.location);c=e.getRfrrLocationObject(window.location.search),o(document).ready(function(){var e,t=o("#redirectBanner");t.find("a").attr("href",l),(e=t).find(".btn-close").on("click",function(){e.addClass("hidden")}),e.removeClass("hidden");var n=s.site.defaultDomain.replace("www.","");n=n.charAt(0).toUpperCase()+n.slice(1);var i=c.hostname.replace("www.","");i=i.charAt(0).toUpperCase()+i.slice(1);var r=t.find(".welcomeMsg").text().replace("{{domainText}}",n),a=t.find("a").html().replace("{{usSiteDomain}}",i);t.find(".welcomeMsg").text(r),t.find("a").html(a)})}}catch(e){t.logError(e,"header","redirect-banner/ui.js","main")}}),function(e,t){"function"==typeof define&&define.amd?define("gc/redirect-banner/model",t):"object"==typeof exports&&(module.exports=t())}(0,function(){var o="rfrr=Redirect.From",i="siteid=";function t(e,t){var n=r(e.search);return 0<n.length?n="/"+n+"&":n+="/?",n+="rfrr=Header.POSRedirect."+e.hostname,n+="/"===e.pathname?"":e.pathname,e.protocol+"//"+t.hostname+("/"===t.pathname?"":t.pathname)+n}function n(e){for(var t=e.indexOf(o)+o.length+1,n=e.indexOf("&",t),i=-1===n?e.length:n,r="https://"+e.substring(t,i),a=document.createElement("a");-1!==r.indexOf("%");)r=decodeURIComponent(r);return a.href=r,a}function r(e){var t=e.split("&");for(var n in t)if(-1!==t[n].indexOf(o)){t.splice(n,1);break}for(var n in t)if(-1!==t[n].indexOf(i)){t.splice(n,1),t.push("siteid=1");break}return 0<(e=t.join("&")).length&&"?"!=e[0]&&(e="?"+e),e}return{isRedirected:function(e){return 0<=e.search.indexOf(o)},createReturnUrl:function(e){return t(e,n(e.search))},createTargetUrl:t,cleanSearch:r,getRfrrLocationObject:n}}),require("jquery",function(e){var t=e(".disclaimerMessage"),n=e(".displayDomain");if(0<t.length&&0<n.length){var i=t.html();i=i.replace("{{displayDomain}}",n.text()),t.html(i),e("#redirectBanner").addClass("customizedBanner")}}),require(["jquery","uitk","uitk_init"],function(e,t){var n=e("#redirectPopup"),i=e(".domainOnPopup"),r=e("#pageId").attr("value");if((0<e("#home-page").length||"Homepage"===r||"page.Hotels"===r||"page.Flights"===r||"page.Packages"===r)&&0<n.length&&0<i.length){var a=n.html();a=a.replace("{{displayDomain}}",i.text()),n.html(a);var o="redirectPopShow=true",s=document.cookie;if(0<a.trim().length&&(0===s.length||0<s.length&&-1===s.indexOf(o))){var c={modalId:"redirectPopupModel",content:a};document.cookie=o,t.modal.create(c),e(".modal-inner").addClass("redirect-popup")}}}),require(["gc/pageModel","jquery","gc/errorLogging"],function(e,t,n){var i=void 0,r=void 0,a=void 0,o=void 0,s=void 0,c=void 0,l=!1,d=!1,u="rewards",p=!1,g=!1,h=!1,m=!1,f={enabled:{},processPointsAndTiers:{},processCashBalance:{},showRewardsHeaderAlways:{},program:{},currencyFormat:{}};f.program[1178]="td",f.program[1236]="barclays",f.program[1]="rewards",f.program[3]="rewards",f.program[4]="rewards",f.program[8]="rewards",f.program[9]="rewards",f.program[11]="rewards",f.program[14]="rewards",f.program[16]="rewards",f.program[17]="rewards",f.program[18]="rewards",f.program[20]="rewards",f.program[27]="rewards",f.program[28]="rewards",f.program[29]="rewards",f.program[61]="rewards",f.program[62]="rewards",f.program[63]="rewards",f.program[64]="rewards",f.program[65]="rewards",f.program[66]="rewards",f.program[67]="rewards",f.program[69]="rewards",f.program[70]="rewards",f.program[71]="rewards",f.program[72]="rewards",f.program[73]="rewards",f.program[70301]="rewards",f.program[70201]="rewards",f.program[70403]="rewards",f.program[70406]="rewards",f.program[70420]="rewards",f.program[70463]="rewards",f.program[70473]="rewards",f.program[70472]="rewards",f.program[70465]="rewards",f.processPointsAndTiers[1178]=!0,f.processPointsAndTiers[1236]=!0,f.processPointsAndTiers[1]=!0,f.processPointsAndTiers[3]=!0,f.processPointsAndTiers[4]=!0,f.processPointsAndTiers[8]=!0,f.processPointsAndTiers[9]=!0,f.processPointsAndTiers[11]=!0,f.processPointsAndTiers[14]=!0,f.processPointsAndTiers[16]=!0,f.processPointsAndTiers[17]=!0,f.processPointsAndTiers[18]=!0,f.processPointsAndTiers[20]=!0,f.processPointsAndTiers[27]=!0,f.processPointsAndTiers[28]=!0,f.processPointsAndTiers[29]=!0,f.processPointsAndTiers[61]=!0,f.processPointsAndTiers[62]=!0,f.processPointsAndTiers[63]=!0,f.processPointsAndTiers[64]=!0,f.processPointsAndTiers[65]=!0,f.processPointsAndTiers[66]=!0,f.processPointsAndTiers[67]=!0,f.processPointsAndTiers[69]=!0,f.processPointsAndTiers[70]=!0,f.processPointsAndTiers[71]=!0,f.processPointsAndTiers[72]=!0,f.processPointsAndTiers[73]=!0,f.processPointsAndTiers[70301]=!1,f.processPointsAndTiers[70201]=!1,f.processPointsAndTiers[70403]=!1,f.processPointsAndTiers[70406]=!1,f.processPointsAndTiers[70420]=!1,f.processPointsAndTiers[70463]=!1,f.processPointsAndTiers[70473]=!1,f.processPointsAndTiers[70472]=!1,f.processPointsAndTiers[70465]=!1,f.processCashBalance[1178]=!1,f.processCashBalance[1236]=!1,f.processCashBalance[1]=!1,f.processCashBalance[3]=!1,f.processCashBalance[4]=!1,f.processCashBalance[8]=!1,f.processCashBalance[9]=!1,f.processCashBalance[11]=!1,f.processCashBalance[14]=!1,f.processCashBalance[16]=!1,f.processCashBalance[17]=!1,f.processCashBalance[18]=!1,f.processCashBalance[20]=!1,f.processCashBalance[27]=!1,f.processCashBalance[28]=!1,f.processCashBalance[29]=!1,f.processCashBalance[61]=!1,f.processCashBalance[62]=!1,f.processCashBalance[63]=!1,f.processCashBalance[64]=!1,f.processCashBalance[65]=!1,f.processCashBalance[66]=!1,f.processCashBalance[67]=!1,f.processCashBalance[69]=!1,f.processCashBalance[70]=!1,f.processCashBalance[71]=!1,f.processCashBalance[72]=!1,f.processCashBalance[73]=!1,f.processCashBalance[70301]=!0,f.processCashBalance[70201]=!0,f.processCashBalance[70403]=!0,f.processCashBalance[70406]=!0,f.processCashBalance[70420]=!0,f.processCashBalance[70463]=!0,f.processCashBalance[70473]=!0,f.processCashBalance[70472]=!0,f.processCashBalance[70465]=!0,f.enabled[1]=!0,f.enabled[3]=!0,f.enabled[4]=!0,f.enabled[8]=!0,f.enabled[9]=!0,f.enabled[11]=!0,f.enabled[14]=!0,f.enabled[16]=!0,f.enabled[17]=!0,f.enabled[18]=!0,f.enabled[20]=!0,f.enabled[27]=!0,f.enabled[28]=!0,f.enabled[29]=!0,f.enabled[61]=!0,f.enabled[62]=!0,f.enabled[63]=!0,f.enabled[64]=!0,f.enabled[65]=!0,f.enabled[66]=!0,f.enabled[67]=!0,f.enabled[69]=!0,f.enabled[70]=!0,f.enabled[71]=!0,f.enabled[72]=!0,f.enabled[73]=!0,f.enabled[1236]=!0,f.enabled[1178]=!0,f.enabled[70301]=!0,f.enabled[70201]=!0,f.enabled[70403]=!0,f.enabled[70406]=!0,f.enabled[70420]=!0,f.enabled[70463]=!0,f.enabled[70473]=!0,f.enabled[70472]=!0,f.enabled[70465]=!0,f.showRewardsHeaderAlways[3]=!0,f.showRewardsHeaderAlways[1178]=!0,f.showRewardsHeaderAlways[70301]=!0,f.showRewardsHeaderAlways[70201]=!0,f.showRewardsHeaderAlways[70403]=!0,f.showRewardsHeaderAlways[70406]=!0,f.showRewardsHeaderAlways[70420]=!0,f.showRewardsHeaderAlways[70463]=!0,f.showRewardsHeaderAlways[70473]=!0,f.showRewardsHeaderAlways[70472]=!0,f.showRewardsHeaderAlways[70465]=!0,f.currencyFormat[70301]="${0}",f.currencyFormat[70201]="${0}",f.currencyFormat[70403]="£{0}",f.currencyFormat[70406]="{0} €",f.currencyFormat[70420]="{0} €",f.currencyFormat[70463]="€{0}",f.currencyFormat[70473]="{0} €",f.currencyFormat[70472]="CHF {0}",f.currencyFormat[70465]="{0} kr";try{if(e&&(p=(g=!0===f.enabled[e.site.id])&&!0===f.showRewardsHeaderAlways[e.site.id],l=g&&!0===f.processPointsAndTiers[e.site.id],d=g&&!0===f.processCashBalance[e.site.id],"rewards"===(u=void 0!==f.program[e.site.id]?f.program[e.site.id]:u)?s=t(".rewardsHeader"):u.match(/td|barclays/)&&(s=t("#header-award-module-info")),h=e.isUserIdentified(),m=g&&e.user.loyalty&&e.user.loyalty.rewardsMember),h&&m&&l){if(i=e.user.loyalty.tier,r=e.user.loyalty.tierId,a=parseInt(e.user.loyalty.confirmedPoints),"td"===u){if(/^([6789]|10|11)$/.test(r)){var v=document.createElement("img");v.src="//{{domain}}/_dms/group/header/1178/howitworks/logo.png?locale={{locale}}&tierid={{tierid}}".replace("{{locale}}",e.site.locale).replace("{{tierid}}",r).replace("{{domain}}","www.expediafortd.com"),t("#header-howitworks").append(v).removeClass("hidden"),/^(6|[89])$/.test(r)&&s.find("#header-pointBalDescRewards").removeClass("hidden")}}else if("rewards"===u){var y=s.find(".benefits_link"),w=y.find(".tierBadge"),k=y.attr("href");k=k.replace("color",i),y.attr("href",k),w.addClass(i).text("+"+i)}if(0<a){var S,b;if(S=e.user.loyalty.confirmedPointsFormatted?e.user.loyalty.confirmedPointsFormatted:a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"td"===u)(b=s.find(".point-balance")).text(S),t("#header-cySymbol").removeClass("hidden");if(u.match(/td|barclays/)){var C="td"==u?e.user.loyalty.redeemableDollarValue:e.user.loyalty.cashBalanceFormatted;t("#header-cashValue").text(C)}else(b=s.find(".pointsDisplay")).text(S+" points");b&&b.removeClass("hidden"),p=!0}else"td"===u&&(p=!1)}else if(h&&m&&d){if(e.user.loyalty.balanceInCurrency&&!isNaN(e.user.loyalty.balanceInCurrency.double)&&(o=e.user.loyalty.balanceInCurrency.double.toFixed(2)),e.user.loyalty.programName)if(70465===parseInt(e.site.id))c=e.user.loyalty.programName.replace(/.{7}$/," $&");else if(s&&0<=[70403,70406,70420,70463,70472,70473].indexOf(parseInt(e.site.id))){c=e.user.loyalty.programName.toUpperCase();var T=s.find("a.benefits_link");T[0]&&"BONUS+"===c&&(T[0].href="/account/myclub")}else c=e.user.loyalty.programName;if("rewards"===u){var A,I=s.find(".rewardsBadge"),E=s.find(".amountDisplay"),P=f.currencyFormat[e.site.id];c&&o&&P&&(A=P.replace("{0}",o),I.text(c),E.text(A).removeClass("hidden"))}p=!0}else"td"===u?p=!1:m||t(".tierBadge").hide()}catch(e){n.logError(e,"header","rewards-badge.js","main")}finally{p&&s&&s.removeClass("hidden").attr("style","")}}),require(["jquery","gc/analyticsStore"],function(e,i){e("#header-container").on("click","a[data-omniture-id]",function(e){var t=e.target;e.target!==this&&(t=e.target.closest("a"));var n=t.getAttribute("data-omniture-id");try{i.publishClickEvent({name:"RFRR Action Link",rfrr:n})}catch(e){}})}),require(["gc/errorLogging","jquery"],function(l,d){window.headerFeedback=function(){try{var e,t,n=screen.width,i=screen.height,r=null!==document.getElementById("home-page"),a=OpinionLab_FB.O_HT(),o=0<d("#support-feedback").attr("href").length?d("#support-feedback").attr("href"):"/p/info-other/feedback.htm",s=(i-192)/2,c=(n-535)/2;r&&(a=a.replace("Homepage.html","Homepage-new.html")),void 0!==window.header_feedBackUrl&&(o=header_feedBackUrl),-1===o.indexOf("?")?o+="?":o+="&",e=o+"referer="+a+"&customvar="+OpinionLab_FB.O_CV()+"&prev="+OpinionLab_FB.O_PRV(),t=["toolbar=no","scrollbars=no","location=no","statusbar=no","menubar=no","resizable=no","width=635px","height=280px","screenX="+c,"screenY="+s,"left="+c,"top="+s].join(","),window.open(e,"ModalPopUp",t).focus()}catch(e){l.logError(e,"header","header-feedback.js","headerFeedback")}}}),require(["uitk","jquery"],function(e,n){n("#header-container").on(e.clickEvent,"#mobile-toggle-header-link",function(){n(this).attr("aria-expanded","true"===n(this).attr("aria-expanded")?"false":"true");var e=n("#show-menu"),t=n("#hide-menu");e.toggleClass("hidden"),t.toggleClass("hidden"),n("#globalSiteNavigation").toggleClass("responsive-menu-shown")})});var OpinionLab_FB=function(){var custom_var,_sp="%3A\\/\\/",_rp="%3A//",_poE=0,_poX=0,_sH=screen.height,_d=document,_w=window,_ht=escape(_w.location.href),_hr=_d.referrer,_tm=(new Date).getTime(),_kp=0,_sW=screen.width;function _fC(_u){for(var _aT=_sp+",\\/,\\.,-,_,"+_rp+",%2F,%2E,%2D,%5F",_aA=_aT.split(","),i=0;i<5;i++)eval("_u=_u.replace(/"+_aA[i]+"/g,_aA[i+5])");return _u}function _fPe(){Math.random()>=1-_poE&&(O_LC(),_poX=0)}function _fPx(){Math.random()>=1-_poX&&O_LC()}function _populateCustomVar(){var e="",t="";"undefined"!=typeof dctk&&void 0!==dctk.omtr?(e=void 0!==dctk.omtr.prop11?dctk.omtr.prop11:"",t=void 0!==dctk.omtr.prop12?dctk.omtr.prop12:""):"undefined"!=typeof s_exp?(e=void 0!==s_exp.prop11?s_exp.prop11:"",t=void 0!==s_exp.prop12?s_exp.prop12:""):(e="undefined"!=typeof s_prop11?s_prop11:"",t="undefined"!=typeof s_prop12?s_prop12:""),custom_var=t+"|"+e}function _replacePageName(){var e=null;(e="undefined"!=typeof dctk&&void 0!==dctk.omtr?escape(dctk.omtr.pageName)+".html":"undefined"!=typeof s_exp&&void 0!==s_exp.pageName?escape(s_exp.pageName)+".html":"undefined"!=typeof s_pageName?escape(s_pageName)+".html":null)&&(0<=e.toLowerCase().search("infosite")&&(e=null));if(e){var t=_ht.replace("https%3A//","").replace("http%3A//","");_ht=_ht.substr(0,_ht.indexOf("%3A//"))+"%3A//"+t.substr(0,t.indexOf("/"))+"/"+e}"undefined"!=typeof bIsCAFR&&(1==bIsCAFR&&(_rp="%3A//"+(n="fr-CA.")));"undefined"!=typeof bIsMSMY&&(1==bIsMSMY&&(_rp="%3A//"+(n="ms-my.")));if("undefined"!=typeof OlAltLang&&null!=OlAltLang){var n=OlAltLang;_rp="%3A//"+n}}return{O_HT:function(){return _replacePageName(),_ht},O_CV:function(){return _populateCustomVar(),custom_var},O_PRV:function(){return null==_hr||_hr.length<1?"null":escape(_hr)},O_LC:function(e,t,n,i){_replacePageName(),_populateCustomVar(),(null==e||e.length<1)&&(e="comments"),(null==t||t.length<1)&&(t=_ht),(null==n||n.length<1)&&(n=custom_var),i=null==i||i.length<1?_fC(escape(_hr)):"null"==i?"":_fC(escape(i)),_w.open("https://secure.opinionlab.com/ccc01/comment_card.asp?time1="+_tm+"&time2="+(new Date).getTime()+"&prev="+i+"&referer="+_fC(t)+"&height="+_sH+"&width="+_sW+"&custom_var="+n,e,"width=535,height=192,screenX="+(_sW-535)/2+",screenY="+(_sH-192)/2+",top="+(_sH-192)/2+",left="+(_sW-535)/2+",resizable=yes,copyhistory=yes,scrollbars=no")},O_GoT:function(e){_d.write("<a href='javascript:O_LC()'>"+e+"</a>")}}}();function requireGDPRModule(){require(["gc/gdprOptInCookie","env"],function(e,t){document.getElementById("opt-in-cookie")&&e.init(t.siteId,t.locale)})}require(["uitk","gc/pageModel","jquery","gc/errorLogging"],function(e,t,n,i){try{if(t&&t.user&&t.user.arranged&&!t.user.agent){var r=n("#header-alert-banner");(a=r).find("#arrangee-first-name").text(t.user.firstName),a.find("#arrangee-last-name").text(t.user.lastName),r.removeClass("hidden").addClass("active")}}catch(e){i.logError(e,"wizard","travel-arranger.js","main")}var a}),require(["uitk","jquery","gc/errorLogging"],function(e,t,n){try{var i="/agent/expe/agentbar?_="+(new Date).getTime(),r=function(){t("#agent-arranger-bar-container").load(i)};/^(.*;)?\s*actx\s*=\s*[^;]/.test(document.cookie)?r():require(["gc/pageModel"],function(e){e&&e.user&&e.user.agent&&r()})}catch(e){n.logError(e,"wizard","agent-bar.js","main")}}),require(["gc/pageModel","jquery"],function(e,t){var n=t("#header-container").data("tab");if(void 0!==n&&""!==n){var i=t("ul.utility-nav"),r=i.data("selectedTabText")||"Currently selected";i.find("li").each(function(){var e=t(this);e.removeClass("selected-tab"),e.find(".selected-label").html("")});var a=t("#"+n);a[0]&&(a.addClass("selected-tab"),a.find(".selected-label").html(r))}e.site&&e.site.resolvedCurrency&&(t("#header-currency-menu .selected-item").text(e.site.resolvedCurrency),t("#currency-"+e.site.resolvedCurrency).hide())}),define("gc/sp-tray-item-prototype",["jquery"],function(t){return{set:function(e,t,n){this.attributes[e]&&this.attributes[e]===t||(this.attributes[e]=t,n&&this.updateDisplay())},get:function(e){var t=null;return this.attributes[e]&&(t=this.attributes[e]),t},localizedAsOfKey:function(){return"SHORT_TIME"===this.get("dateTimeFormatType")?"asOfTime":"asOfDate"},insertBefore:function(e){this.$el.insertBefore(e)},appendTo:function(e){e.append(this.$el)},removeFromTray:function(){this.$el.remove()},moveToIndex:function(e){this.trayIndex=e},updateDisplay:function(){var e=t(t.trim(this.template(this.attributes))).find(".item-link");this.$el.empty().html(e),1===this.trayIndex&&this.$el.addClass("first")}}}),define("gc/sp-car-details-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(i,e,r){var a=function(e,t){var n="";return"daily"===e.pricePeriod?n=t.daily:"weekly"===e.pricePeriod?n=t.weekly:"total"===e.pricePeriod&&(n=t.total),'<li class="scratchpad-item"><a href="'+e.deepLink+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><img src="//images.trvl-media.com/cars'+e.thumbnailUrl+'" alt="'+e.carName+'" class="image" aspectRatio="1-1" onerror="this.onerror=null;this.src=\'/static/default/default/images/car/no_photo.png\';"></span><h4 class="item-title">'+e.carName+'</h4><p class="item-date">'+e.pickupDate+" - "+e.dropOffDate+'</p><p class="item-dummy item-nested">'+e.pickupLocation+'</p><div class="item-price-urgency"><strong class="price">'+e.price+"</strong>"+n+'<p class="item-nested">'+e.lastSeen+"</p></div></div></a></li>"},t=function(e){var t=scratchpadTray.view.strings.item;if(this.trayIndex=e.trayIndex,this.template=a,t=r.item,e.product){if(this.type="carDetail",this.attributes=e.carDetail,this.get("price")){var n=t.from.replace("{{itemPrice}}",this.get("price"));this.set("price",n),"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeen",t.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeenDate"))):this.set("lastSeen",t.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeenDate")))}else this.set("price",""),this.set("lastSeen","See price");this.$el=i(i.trim(this.template(this.attributes,t)))}};return t.prototype=e,t}),define("gc/sp-car-search-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(i,e,r){var a=function(e,t){var n="AIRPORT"==e.pickupRegionType?t.carsAt:t.carsNear;return n=n.replace("{{destination}}",e.pickupLocation),'<li class="scratchpad-item"><a href="'+e.deepLink+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><span class="icon icon-carsalt"></span></span><h4 class="item-title">'+n+'</h4><p class="item-date">'+e.pickupDate+" - "+e.dropOffDate+'</p><p class="item-dummy item-nested"></p><div class="item-price-urgency"><strong class="price">'+e.price+"</strong>"+t.daily+'<p class="item-nested">'+e.lastSeen+"</p></div></div></a></li>"},t=function(e){var t=scratchpadTray.view.strings.item;if(this.trayIndex=e.trayIndex,this.template=a,t=r.item,e.product){if(this.type="carSearch",this.attributes=e.carSearch,"AIRPORT"==this.get("pickupRegionType")?this.set("txtPreLocation",t.carsAt.replace("{{destination}}",this.get("pickupLocation"))):this.set("txtPreLocation",t.carsNear.replace("{{destination}}",this.get("pickupLocation"))),this.get("price")){var n=t.from.replace("{{itemPrice}}",this.get("price"));this.set("price",n),"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeen",t.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeenDate"))):this.set("lastSeen",t.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeenDate")))}else this.set("price",""),this.set("lastSeen","See price");this.$el=i(i.trim(this.template(this.attributes,t)))}};return t.prototype=e,t}),define("gc/sp-cruise-search-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(i,e,r){var a=function(e,t){var n=t.allDestinations;e.destination&&(n=e.destination);var i=t.allMonths;return e.departureDate&&(i=e.departureDate),'<li class="scratchpad-item"><a href="'+e.deepLink+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><span class="icon icon-cruisealt"></span></span><h4 class="item-title">'+n+'</h4><p class="item-date">'+i+'</p><p class="item-dummy item-nested"></p><div class="item-price-urgency"><strong class="price">'+e.price+"</strong>"+t.perNight+'<p class="item-nested">'+e.lastSeen+"</p></div></div></a></li>"},t=function(e){var t=scratchpadTray.view.strings.item;if(this.trayIndex=e.trayIndex,this.template=a,t=r.item,e.product){if(this.type="cruiseSearch",this.attributes=e.cruiseSearch,this.get("price")){var n=t.from.replace("{{itemPrice}}",this.get("price"));this.set("price",n),"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeen",t.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeenDate"))):this.set("lastSeen",t.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeenDate")))}else this.set("price",""),this.set("lastSeen","See price");this.$el=i(i.trim(this.template(this.attributes,t)))}};return t.prototype=e,t}),define("gc/sp-flight-details-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(i,e,r){var a=function(e,t){for(var n=e.legs.length,i="",r=0;r<n;r++){var a=e.legs[r],o="//images.trvl-media.com/media/content/expus/graphics/static_content/fusion/v0.1b/images/airlines/s/",s="multiple_airlines_logo",c=t.multiAirlineAltText,l=t.fromToAirports.replace("{{departureAirportCode}}",a.departureAirportCode).replace("{{arrivalAirportCode}}",a.arrivalAirportCode),d=t.fromToTime.replace("{{startTime}}",a.departureTime).replace("{{endTime}}",a.arrivalTime),u="";0<r&&(u=" item-group-gap");var p=a.numberOfDays?' <span class="number-of-days">+'+a.numberOfDays+"</span>":"";a.airlineImageFileName&&(s=a.airlineImageFileName,c=a.airlineName+t.airlineLogoAltText),i=i+'<span class="item-img-icon'+u+'"><img src="'+(o=o+s+"_sq.jpg")+'" alt="'+c+'" class="image" aspectRatio="1-1"></span><h4 class="item-title'+u+'">'+l+'</h4><p class="item-date"><span class="departure-date">'+a.departureDate+'</span>\x3c!----\x3e<span class="time-range">'+d+"</span>"+p+"</p>"}return'<li class="scratchpad-item flight-detail"><a href="'+e.deepLinkUrl+'" class="item-link" data-onclick=""><div class="item-data">'+i+'<div class="item-price-urgency"><strong class="price">'+e.formattedPricePerPerson+'</strong><p class="item-nested">'+e.lastSeen+"</p></div></div></a></li>"},t=function(e){var t,n=r.item;this.trayIndex=e.trayIndex,this.template=a,e.product&&(this.type="flightDetail",this.attributes=e.flightDetail,this.get("formattedPricePerPerson")?(this.set("price",this.get("formattedPricePerPerson")),"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeen",n.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeenDate"))):this.set("lastSeen",n.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeenDate")))):(this.set("formattedPricePerPerson",""),this.set("lastSeen","See price")),t=/\?/.test(this.attributes.url)?"&":"?",this.set("rfrrString",t+"rfrr=SP.Tray."+this.trayIndex+".FD"),this.set("deepLinkUrl",this.get("url")+this.get("rfrrString")),this.$el=i(i.trim(this.template(this.attributes,n))))};return t.prototype=e,t}),define("gc/sp-flight-search-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(o,e,s){var c=function(e){return'<li class="scratchpad-item"><a href="'+e.deepLinkUrl+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><span class="icon icon-flightsalt"></span></span><h4 class="item-title">'+e.airportToAirport+'</h4><p class="item-date">'+e.departureDate+e.returnDate+'</p><p class="item-info item-nested">'+e.routeType+'</p><div class="item-price-urgency"><strong class="price">'+e.price+'</strong><p class="item-nested">'+e.lastSeen+"</p></div></div></a></li>"},t=function(e){var t,n=s.item;if(this.trayIndex=e.trayIndex,this.template=c,e.product){this.type="flight",this.attributes=e.flight;var i=n.fromToAirports.replace("{{departureAirportCode}}",this.get("departureAirportCode")).replace("{{arrivalAirportCode}}",this.get("arrivalAirportCode"));if(this.set("airportToAirport",i),this.get("price")){"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeen",n.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeen"))):this.set("lastSeen",n.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeen")));var r=n.from.replace("{{itemPrice}}",this.get("price"));this.set("price",r)}else this.set("price",""),this.set("lastSeen","See price");if(t=/\?/.test(this.attributes.deepLinkUrl)?"&":"?",this.get("returnDate")?this.set("returnDate"," - "+this.get("returnDate")):this.set("returnDate",""),this.set("rfrrString",t+"rfrr=SP.Tray."+this.trayIndex+".FS"),this.set("deepLinkUrl",this.get("deepLinkUrl")+this.get("rfrrString")),this.get("routeType")){var a=this.get("routeType").replace("ROUND_TRIP",n.roundTrip).replace("ONE_WAY",n.oneWay);this.set("routeType",a)}this.$el=o(o.trim(this.template(this.attributes,n))),this.get("departureDate")?""===this.get("price")&&this.$el.addClass("priceless"):this.$el.addClass("dateless")}};return t.prototype=e,t}),define("gc/sp-hotel-details-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(i,e,r){var a=function(e){return'<li class="scratchpad-item"><a href="'+e.deepLinkUrl+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><img src="//images.trvl-media.com'+e.thumbnailUrl+'" alt="'+e.hotelName+'" class="image" aspectRatio="1-1"></span><h4 class="item-title">'+e.hotelName+'</h4><p class="item-date">'+e.checkInDate+" - "+e.checkOutDate+'</p><p class="item-watches item-nested">&nbsp;</p><div class="item-price-urgency"><strong class="price">'+e.price+'</strong><p class="item-nested">'+e.lastSeenDate+"</p></div></div></a></li>"},t=function(e){var t,n=r.item;this.trayIndex=e.trayIndex,this.template=a,e.product&&(this.type="hotel",this.attributes=e.hotel,this.get("price")?"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeenDate",n.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeenDate"))):this.set("lastSeenDate",n.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeenDate"))):(this.set("price",""),this.set("lastSeenDate",n.seePrice)),t=/\?/.test(this.get("deepLinkUrl"))?"&":"?",this.set("rfrrString",t+"rfrr=SP.Tray."+this.trayIndex+".HI"),this.set("deepLinkUrl",this.get("deepLinkUrl")+this.get("rfrrString")),this.get("thumbnailUrl")&&this.set("thumbnailUrl",this.get("thumbnailUrl").replace("_s","_t")),this.$el=i(i.trim(this.template(this.attributes,n))),this.get("checkInDate")&&this.get("checkOutDate")?""===this.get("price")&&this.$el.addClass("priceless"):this.$el.addClass("dateless"))};return t.prototype=e,t}),define("gc/sp-hotel-search-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(i,e,r){var a=function(e,t){var n=e.amount?'<div class="item-price-urgency"><strong class="price">'+e.price+'</strong><p class="item-package-message">'+t.hotelSearchAvgPerNight+'</p><p class="item-nested">'+t.asOfDate.replace("{{lastSeenDate}}",e.lastSeenDate)+"</p></div>":"";return'<li class="scratchpad-item"><a href="'+e.deepLinkUrl+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><span class="icon icon-hotelsalt"></span></span><h4 class="item-title">'+t.hotels.replace("{{destination}}",e.destination)+'</h4><p class="item-date">'+t.fromToDate.replace("{{startDate}}",e.checkInDate).replace("{{endDate}}",e.checkOutDate)+'</p><p class="item-watches item-nested">&nbsp;</p>'+n+"</div></a></li>"},t=function(e){var t,n=r.item;this.trayIndex=e.trayIndex,this.template=a,e.product&&(this.type="hotelSearch",this.attributes=e.hotelSearch,this.set("viewCount",0),t=/\?/.test(this.get("deepLinkUrl"))?"&":"?",this.set("rfrrString",t+"rfrr=SP.Tray."+this.trayIndex+".HS"),this.set("deepLinkUrl",this.get("deepLinkUrl")+this.get("rfrrString")),this.get("thumbnailUrl")&&this.set("thumbnailUrl",this.get("thumbnailUrl").replace("_s","_t")),this.$el=i(i.trim(this.template(this.attributes,n))))};return t.prototype=e,t}),define("gc/sp-package-search-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(r,e,a){var o=function(e,t){var n=t.packageIncludes,i=t.packages.replace("{{packageDestination}}",e.packageDestination);return'<li class="scratchpad-item"><a href="'+e.deepLinkUrl+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><span class="icon icon-packagesalt"></span></span><h4 class="item-title">'+i+'</h4><p class="item-date item-nested">'+e.departureDate+e.returnDate+'</p><p class="item-info item-nested">'+n+'</p><div class="item-price-urgency"><strong class="price">'+e.price+'</strong><p class="item-package-message">'+t.perPerson+'</p><p class="item-package-message">'+e.lastSeen+'</p></div><span class="item-img-icon"></span></div></a></li>'},t=function(e){var t,n=a.item;if(this.trayIndex=e.trayIndex,this.template=o,e.product){if(this.type="package",this.attributes=e.packages,this.get("price")){var i=n.from.replace("{{itemPrice}}",this.get("price"));"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeen",n.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeen"))):this.set("lastSeen",n.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeen"))),this.set("price",i)}else this.set("price",""),this.set("lastSeen","See price");this.get("returnDate")?this.set("returnDate"," - "+this.get("returnDate")):this.set("returnDate",""),t=/\?/.test(this.attributes.deepLinkUrl)?"&":"?",this.set("rfrrString",t+"rfrr=SP.Tray."+this.trayIndex+".PS"),this.set("deepLinkUrl",this.get("deepLinkUrl")+this.get("rfrrString")),this.$el=r(r.trim(this.template(this.attributes,n)))}};return t.prototype=e,t}),define("gc/sp-activity-search-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(i,e,r){var a=function(e,t){var n="";return e.price&&(n=t.perTraveler),'<li class="scratchpad-item"><a href="'+e.deepLink+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><span class="icon icon-activitiesalt"></span></span><h4 class="item-title">'+e.destination+'</h4><p class="item-watches item-nested">&nbsp;</p><div class="item-price-urgency lx"><strong class="price">'+e.price+'</strong><p class="item-package-message">'+n+'</p><p class="item-nested">'+e.lastSeenDate+"</p></div></div></a></li>"},t=function(e){var t,n=r.item;this.trayIndex=e.trayIndex,this.template=a,e.product&&(this.type="activitySearch",this.attributes=e.activitySearch,this.get("price")?"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeenDate",n.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeenDate"))):this.set("lastSeenDate",n.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeenDate"))):(this.set("price",""),this.set("lastSeenDate",n.seePrice)),t=/\?/.test(this.get("deepLink"))?"&":"?",this.set("rfrrString",t+"rfrr=SP.Tray."+this.trayIndex+".ACS"),this.set("deepLink",this.get("deepLink")+this.get("rfrrString")),this.$el=i(i.trim(this.template(this.attributes,n))),this.get("startDate")&&this.get("endDate")?""===this.get("price")&&this.$el.addClass("priceless"):this.$el.addClass("dateless"))};return t.prototype=e,t}),define("gc/sp-activity-details-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(i,e,r){var a=function(e,t){var n="";return e.price&&(n=t.perTraveler),'<li class="scratchpad-item"><a href="'+e.deepLink+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><img src="'+e.thumbnail+'" alt="'+e.title+'" class="image lx" aspectRatio="1-1"></span><h4 class="item-title">'+e.title+'</h4><p class="item-date"><span class="icon icon-time"></span> '+e.duration+'</p><p class="item-watches item-nested">&nbsp;</p><div class="item-price-urgency"><strong class="price">'+e.price+'</strong><p class="item-package-message">'+n+'</p><p class="item-nested">'+e.lastSeenDate+"</p></div></div></a></li>"},t=function(e){var t,n=r.item;this.trayIndex=e.trayIndex,this.template=a,e.product&&(this.type="activityDetail",this.attributes=e.activityDetail,this.get("price")?"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeenDate",n.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeenDate"))):this.set("lastSeenDate",n.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeenDate"))):(this.set("price",""),this.set("lastSeenDate",n.seePrice)),t=/\?/.test(this.get("deepLink"))?"&":"?",this.set("rfrrString",t+"rfrr=SP.Tray."+this.trayIndex+".ACD"),this.set("deepLink",this.get("deepLink")+this.get("rfrrString")),this.get("thumbnail")&&this.set("thumbnail",this.get("thumbnail")),this.$el=i(i.trim(this.template(this.attributes,n))),this.get("startDate")&&this.get("endDate")?""===this.get("price")&&this.$el.addClass("priceless"):this.$el.addClass("dateless"))};return t.prototype=e,t}),define("gc/scratchpadtrayitem",["gc/sp-hotel-details-item","gc/sp-hotel-search-item","gc/sp-flight-details-item","gc/sp-flight-search-item","gc/sp-package-search-item","gc/sp-car-details-item","gc/sp-car-search-item","gc/sp-cruise-search-item","gc/sp-activity-search-item","gc/sp-activity-details-item"],function(t,n,i,r,a,o,s,c,l,d){var u=function(e){return e.hasOwnProperty("product")},p=function(e){return e.hasOwnProperty("type")},g=function(e){return e.product+"-"+e.type},h={isSourceDataValid:function(e){return u(e)&&p(e)},determineSourceDataType:function(e){return this.isSourceDataValid(e)?g(e)||"NOT-FOUND":{}}};return function(e){return new({"HOTEL-DETAIL":t,"HOTEL-SEARCH":n,"AIR-DETAIL":i,"AIR-SEARCH":r,"PACKAGE-SEARCH":a,"CAR-DETAIL":o,"CAR-SEARCH":s,"CRUISE-SEARCH":c,"ACTIVITY-SEARCH":l,"ACTIVITY-DETAIL":d}[h.determineSourceDataType(e)])(e)}}),define("gc/scratchpadtraycontroller",["gc/userhistoryapi","gc/scratchpadtrayitem","uitk","jquery","gc/analyticsStore"],function(e,t,i,n,r){return{requiresHistory:!0,init:function(e){return this.view=e,this.buildRfrr().bindListeners().getCount()},buildRfrr:function(){var e=n("#header-history"),t=e.attr("href")+"?rfrr=SP.NoTray.SP";return e.attr("href",t),this},bindListeners:function(){var n=this;return this.view.on("click.tab",function(){n.logInteraction("Header.SP.Tray.Interaction")}),i.subscribe("sp:count:newCount",function(e,t){n.handleCountSuccess(t.response)}),i.subscribe("sp:count:fail",function(e,t){n.handleCountSuccess(t.response)}),this},getCount:function(){return e.getHistoryCount(),this},handleCountSuccess:function(e){return e&&e.hasOwnProperty("count")?(this.view.badge.updateContent(e.count),n(".site-navigation .user-history-tab").css("margin-left","0px")):this.handleCountFail(),this},handleCountFail:function(){return this.view.badge.hide(),n(".site-navigation .user-history-tab").css("margin-left","0px"),this},logInteraction:function(e){return r.publishClickEvent({type:"o",name:"RFRR Action Link",rfrr:e,trackEvents:"event80"}),this},logExperimentExposure:function(){}}}),define("gc/scratchpadtrayview",["jquery"],function(t){return{_callbacks:{},_$el:null,init:function(){return this._captureEls()._captureStrings()._captureTemplates()._bindClickHandlers()},on:function(e,t){return"function"==typeof t&&(this._callbacks[e]=this._callbacks[e]||[],this._callbacks[e].push(t)),this},trigger:function(e,t){for(var n=this._callbacks[e]||[],i=0;i<n.length;i++)n[i](t);return this},badge:{$el:null,strings:{},updateContent:function(e){return this._updateCount(e)._updateScreenReaderText(e),t(".site-navigation .user-history-tab").css("margin-left","0px"),this[0<e?"show":"hide"]()},show:function(){return this.$el.css("display","inline-block"),this},hide:function(){return this.$el.hide(),this},flareAnimation:function(){},bindClickHandlers:function(){},unbindClickHandlers:function(){},_updateCount:function(e){return this.$el.find(".count").text(e),this},_updateScreenReaderText:function(e){var t=1===e?this.strings.badgeSRSingle:this.strings.badgeSRMany.replace("{{count}}",e);return this.$el.find(".badge-description").text(t),this}},navAnchor:{$el:null,bindClickHandlers:function(e,t){return t?this.bindFirstClickHandler(e):this.bindDefaultClickHandler(e),this},bindFirstClickHandler:function(e){var t=this;return this.$el.off("click").on("click",function(){e.trigger("click.tab.first"),t.bindDefaultClickHandler(e)}),this},bindDefaultClickHandler:function(e){return this.$el.off("click").on("click",function(){e.trigger("click.tab")}),this}},menu:{_state:{loading:!0,items:[]},$el:null,updateItemList:function(e){e&&(this._state.items=this._state.items.concat(e));var t=this.$el.find(".item-list"),n=0,i=this._state.items.length;for(t.empty();n<i;n++)this._state.items[n].appendTo(t);return this.showListState()},showLoadingState:function(){},hideLoadingState:function(e){return this._state.loading=!1,this.$el.find(".loading-wrapper").fadeOut("fast"),this.$el.find(".loader").removeClass("loading"),this.$el.find(".loading-message").fadeOut("fast",e),this},showEmptyState:function(){var e=this;return this.hideLoadingState(function(){e.$el.find(".default-message").fadeIn()}),this},showListState:function(){var e=this;return this.hideLoadingState(function(){e.$el.find(".item-list").fadeIn()}),this},bindClickHandlers:function(){},unbindClickHandlers:function(){}},tooltip:{_state:{},$el:null,template:null,reRender:function(){},show:function(){},hide:function(){},updateContent:function(){}},_captureEls:function(){return this._$el=t(".user-history-tab.scratchpad"),this.navAnchor.$el=this._$el.find(".nav-tab"),this.badge.$el=this._$el.find(".sp-badge"),this.menu.$el=t(".menu"),this.tooltip.$el=t(""),this},_captureStrings:function(){return this.strings=JSON.parse(this._$el.attr("data-localized-content")),this.navAnchor.strings=this.strings.link,this.badge.strings=this.strings.badge,this.menu.strings=this.strings.menu,this.tooltip.strings=this.strings.tooltip,this},_captureTemplates:function(){return this.menu.template=t("").html(),this.tooltip.template=t("").html(),this},_bindClickHandlers:function(){return this.navAnchor.bindClickHandlers(this),this}}}),require(["gc/scratchpadtraycontroller","gc/scratchpadtrayview","jquery"],function(e,t,n){"complete"==document.readyState?window.scratchpadTray=e.init(t.init()):n(window).on("load",function(){window.scratchpadTray=e.init(t.init())})}),require(["jquery","gc/errorLogging","gc/headerMessages"],function(t,n,i){t(function(){if(0<t(".user-history-tab.scratchpad").length&&t(".user-history-tab.scratchpad").attr("data-localized-content"))try{0<t(".view-all-history.item-link").length&&t(".view-all-history.item-link").text(i.spViewscratchpadlink),0<t(".greeting-message.loading-message").length&&t(".greeting-message.loading-message").text(i.spLoadingGreeting);var e=t(".sp-name");0<e.length&&e.text(i.spHeaderLink)}catch(e){n.logError(e,"header","gc/scratchpadBranding","getScratchpadBranding")}})}),function(){var t={};require("jquery",function(e){0<e(".user-history-tab.scratchpad").length&&e(".user-history-tab.scratchpad").attr("data-localized-content")&&(t=JSON.parse(e(".user-history-tab.scratchpad").attr("data-localized-content")),define("gc/sp-tray-strings",[],function(){return t}))})}(),function(){var r={currentPath:window.location,defaultId:"-1",jsonpSuffix:"&format=jsonp&callback=?",prodCountEndpoint:"/userHistory/count?",labCountEndpoint:"/userHistory/count?",prodHistoryEndpoint:"/api/userhistory?",labHistoryEndpoint:"/api/userhistory?",lobQuery:function(e){return 1===e?"&lobs=HOTEL_DETAIL&lobs=HOTEL_SEARCH&lobs=AIR_SEARCH&lobs=AIR_DETAIL&lobs=CAR_SEARCH&lobs=CAR_DETAIL&lobs=PACKAGE_SEARCH&lobs=CRUISE_SEARCH&lobs=ACTIVITY_SEARCH&lobs=ACTIVITY_DETAIL":"&lobs=HOTEL_DETAIL&lobs=HOTEL_SEARCH&lobs=AIR_SEARCH&lobs=AIR_DETAIL&lobs=CAR_SEARCH&lobs=PACKAGE_SEARCH&lobs=CRUISE_SEARCH&lobs=ACTIVITY_SEARCH&lobs=ACTIVITY_DETAIL"}},a=function(e){return/trunk/.test(e.hostname)},t=function(e){return 5===e.split("-").length?e:[e.substring(0,8),e.substring(8,12),e.substring(12,16),e.substring(16,20),e.substring(20)].join("-")},n=function(e){return e.hasOwnProperty("guid")},o=function(e){return e.hasOwnProperty("tuid")&&0<e.tuid},i=function(e){return e.hasOwnProperty("expUserId")},s=function(e){return e?r.labCountEndpoint:r.prodCountEndpoint},c=function(e){return e?r.labHistoryEndpoint:r.prodHistoryEndpoint},l=function(e,t){return t?"":"&guid="+e},d=function(e){return"&tuid="+e},u=function(e){return"&expuserid="+e},p=function(e){return"l="+(e||5)},g=function(e){return"&siteid="+e},h=function(e){return{url:e,timeout:5e3}},m=function(e){return{url:e+r.jsonpSuffix,dataType:"jsonp",timeout:5e3}},f={getUserExpuid:function(e){return i(e.user)?e.user.expUserId:r.defaultId},getUserTuid:function(e){return o(e.user)?e.user.tuid:r.defaultId},getUserGuid:function(e){return n(e.user)?t(e.user.guid):r.defaultId},buildCountEndpoint:function(e,t,n){return[s(a(r.currentPath)),l(this.getUserGuid(e),o(e.user)),d(this.getUserTuid(e)),u(this.getUserExpuid(e)),g(t.siteId),r.lobQuery(n)].join("")},buildHistoryEndpoint:function(e,t,n,i){return[c(a(r.currentPath)),p(e),l(this.getUserGuid(t),o(t.user)),d(this.getUserTuid(t)),u(this.getUserExpuid(t)),g(n.siteId),r.lobQuery(i)].join("")}};define("gc/userhistoryapi",["uitk","jquery","gc/pageModel","env","gc/abTest"],function(t,n,e,i,r){return{getHistoryCount:function(){return this._makeNormalRequest(f.buildCountEndpoint(e,i,r.get(10044).value)).done(function(e){t.publish("sp:count:newCount",{src:this,response:e})}).fail(function(e){t.publish("sp:count:fail",{src:this,response:e})}),this},_makeNormalRequest:function(e){return n.ajax(h(e))},_makeJSONPRequest:function(e){return n.ajax(m(e))}}})}(),define("gc/mobileAppBanner",["jquery","env","gc/abTest","gc/analyticsStore"],function(e,t,n,i){var s=s||{},o=t.locale,c=t.siteId,r=!1,l=0;return s.el=e("#mobile-app-banner-container"),s.init=function(){var e=document.getElementById("mad-header-container");if(e){var t=n.get(24500,null,!0).value;l=n.get(26618,null,!0).value,r=1==t}e&&r?s.renderMadService():s.render()},s.getHTML=function(e,t){if(window.XMLHttpRequest){var n=new XMLHttpRequest;n.onload=function(){t&&"function"==typeof t&&t(this.responseXML)},n.open("GET",e),n.responseType="document",n.overrideMimeType("text/html"),n.send()}},s.renderMadService=function(){var e="desktop";Modernizr.appleios?e="iOS":Modernizr.android&&(e="Android");var t=document.getElementById("pageId"),n=t&&t.value?t.value:"unknown",i=["/mad-service/globalControls/gcHeaderServerSide?containerId=mad-header-container"];if(i.push("&siteid="),i.push(c),i.push("&locale="),i.push(o),i.push("&pageid="),i.push(n),i.push("&pageName=gc.header-from-content"),i.push("&os="),i.push(e),i.push("&ab26618="),i.push(l),0<=location.href.indexOf("MCICID")&&0<=location.href.indexOf("APPSOCIALREFERRAL")){var r=s.parseQueryString(location.search);i.push("&mcicid="),i.push(r.MCICID)}var a=i.join("");s.getHTML(a,function(e){var t=document.getElementById("mad-header-container"),n=!!e.getElementById("app")&&e.getElementById("app").innerHTML;if(t&&n){var i=!!e.getElementsByTagName("script")[0]&&e.getElementsByTagName("script")[0].src,r=!!e.getElementsByTagName("link")[0]&&e.getElementsByTagName("link")[0].href;if(r&&-1===n.indexOf("<style>")){var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("href",r),document.body.appendChild(a)}if(i){var o=document.createElement("script");o.setAttribute("src",i),o.setAttribute("async",!0),o.setAttribute("defer",!0),document.body.appendChild(o)}t.innerHTML=n}else document.getElementById("mobile-app-banner-wrapper").className="blue-static-banner",s.render()})},s.parseQueryString=function(e){for(var t={},n=("?"===e[0]?e.substr(1):e).split("&"),i=0;i<n.length;i++){var r=n[i].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}return t},s.isMobile=function(){return window.innerWidth<=491},s.hotelsCombinedCheck=function(){var e=new RegExp("cidVisit%22%3A.*?5D");if(e){var t=document.cookie.match(e);if(t)return-1<t[0].toLowerCase().indexOf("hotelscombined")}return!1},s.blockRenderingConditions=function(){return 0<=document.cookie.indexOf("MDBClose")||s.hotelsCombinedCheck()||-1!==navigator.userAgent.indexOf("app.webview")},s.render=function(){document.getElementById("mobile-app-banner-wrapper")&&window.getComputedStyle(document.getElementById("mobile-app-banner-wrapper"))&&"none"!==window.getComputedStyle(document.getElementById("mobile-app-banner-wrapper")).display&&(document.getElementById("mobile-app-banner-wrapper").className="blue-static-banner",(Modernizr.appleios||Modernizr.android)&&(i.publishClickEvent({rfrr:"GH.Banner.App.GCHEADERMWEB.IMP"}),e(document).on("click","#gc-mad-banner-link",function(){i.publishClickEvent({rfrr:"GH.Banner.App.GCHEADERMWEB.CLICK"})}),e("#gc-mad-banner-close").on("click",function(){var e;document.getElementById("mobile-app-banner-wrapper").style.setProperty("display","none","important"),(e=new Date).setTime(e.getTime()+864e6),document.cookie="MDBClose=yes; expires="+e.toGMTString()+"; path=/",i.publishClickEvent({rfrr:"GH.Banner.App.Close"})})))},s}),require(["gc/mobileAppBanner","env"],function(e,t){!e.blockRenderingConditions()&&e.isMobile()&&(document.getElementById("mad-header-container")&&"29"==t.siteId?e.renderMadService(0):e.init())}),require(["gc/mobileAppBanner","env"],function(e){e.blockRenderingConditions()&&document.getElementById("mobile-app-banner-wrapper")&&document.getElementById("mobile-app-banner-wrapper").style.setProperty("display","none","important")}),define("gc/gdprOptInCookie",function(){var o=e("OIP"),s=e("GDPRb"),c=document.getElementById("join-rewards-banner"),r=document.getElementById("opt-in-cookie"),l=void 0,d={"CKO.DuplicateBooking.Hash":1,CKO_flightDedupe:1,ucpTooltipDismissTimestamp:1,closedMipOfferBanner:1,closedInsurancePrimingMessage:1,closedMemberRewards:1,displayFrequencyEntries:1},a=["FlexibleSearch-"];function e(e){var t=new RegExp("[; ]"+e+"=([^\\s;]*)"),n=(" "+document.cookie).match(t);if(e&&n)return unescape(n[1])}function u(e){if(e&&0===e.indexOf("gdpr|"))return e.split(",")[0].split("|")[1]}function p(e){if(e&&0<=e.indexOf("ab.gdpr|"))return e.split(",")[1].split("|")[1]}function g(e){return"1"!==e}function h(e,t){return l=p(n=e),n&&("1"===l||void 0===l)&&g(t);var n}function m(e,t,n){var i=["/mad-service/gdpr/optInCookieSSR?containerId=opt-in-cookie"];i.push("&siteid="),i.push(t),i.push("&locale="),i.push(n),function(e,t){if(window.XMLHttpRequest){var n=new XMLHttpRequest;n.onload=function(){t&&"function"==typeof t&&t(this.responseXML)},n.open("GET",e),n.responseType="document",n.overrideMimeType("text/html"),n.send()}}(i.join(""),function(e){var t=e.querySelector("#app")?e.querySelector("#app").innerHTML:"",n=e.querySelector("script")?e.querySelector("script").src:void 0;if(n){var i=document.createElement("script");i.setAttribute("src",n),i.setAttribute("async",!0),i.setAttribute("defer",!0),document.head.appendChild(i)}r.innerHTML=t}.bind(this))}function f(e,t){for(var n in t)return 0===e.indexOf(n);return!1}function n(e){if(0<localStorage.length){var t={};for(var n in localStorage)e.hasOwnProperty(n)||f(n,a)||(localStorage.removeItem(n),t[n]=1);0<t.length&&(i="GdprLocalStorageRemoved",r=function(e,t){var n=t+"=";for(var i in e)n+=i+",";return n.substring(0,n.length-1)}(t,"localstorage"),require(["dctk/dctk"],function(e){e&&e.logging&&e.logging.logMessage(i,r)}))}var i,r}function v(e){var t;(t=document.createElement("script")).setAttribute("type","text/javascript"),t.setAttribute("src","/opt-in-select/cookies/remove.js?v=1.0.4"),t.setAttribute("async",!0),t.setAttribute("defer",!0),document.getElementsByTagName("body")[0].appendChild(t),n(e)}return{init:function(e,t){var n,i,r,a;h(o,s)?((a=c)&&a.style.setProperty("display","none","important"),m(0,e,t)):g(s)||"-1"!==u(o)?(l=p(n=o),"0"!==u(n)||"1"!==l&&void 0!==l||("complete"==document.readyState?v(d):window.onload=function(){v(d)})):(i="/opt-in-select/cookie/create/OIP?value=1",(r=new XMLHttpRequest).open("GET",i,!0),r.send())}}}),"loading"!=document.readyState?requireGDPRModule():document.addEventListener?document.addEventListener("DOMContentLoaded",requireGDPRModule):document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&requireGDPRModule()}),require(["jquery","uitk","gc/abTest","gc/pageModel"],function(r,a,e,t){var n=r(".open-search-icon-search"),i=r(".open-search-icon-close"),o=r(".open-search-search-bar-mobile"),s=r(".site-header-primary-banner"),c=r(".search-query-label"),l=r(".open-search-query"),d=r(".open-search-search-button"),u=r(".open-search-wrapper"),p=r(".open-search-search-bar-desktop").find(".search-query-wrapper"),g="visuallyhidden",h="open-search-bar-focus",m={desktop:0,mobile:1},f=r("#assetLinkPrefix").text(),v={url:"/search-results",params:{q:"",rfrr:"globalcontrols-header"}},y=1176,w=960,k=770,S=96,b=8;d.hide();var C=e.get("12087"),T=!1,A=!1;switch(t.site.id){case 1:1033===t.site.langId&&(T=!0);break;case 3:2057===t.site.langId&&(T=!0)}C&&1===C.value&&T&&"function"==typeof window.turnOnHeaderOpenSearch&&function(e,t){var n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()};n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}(f+"/config/js/jquery-ui-1.11.4.js",function(){n.removeClass("hidden"),u.removeClass("hidden"),I(r(window).width(),!1),n.on("click",function(){s.addClass(g),o.removeClass(g),a.utils.focusElement(l)}),i.on("click",function(){o.addClass(g),s.removeClass(g)}),d.mousedown(function(){A=!0,r(window).width()>=w?E(m.desktop):E(m.mobile)}),l.keypress(function(e){13==e.which&&(r(window).width()>=w?E(m.desktop):E(m.mobile))}),l.focusin(function(){l.addClass(h),c.addClass(h),d.show();var e=r(window).width();I(e,!0)}),l.focusout(function(){if(A)A=!1;else{d.hide(),l.removeClass(h),c.removeClass(h);var e=r(window).width();I(e,!1)}}),r(window).resize(function(){var e=r(window).width();l.blur(),I(e,!1)})});function I(e,t){if(w<=e){o.addClass(g);var n=e;y<e&&(n=y);var i=n-k;t&&(i=i-S-b),p.width(i)}}function E(e,t){var n,i=function(e){var t=v.params;t.q=e;var n=r.param(t);return v.url+"?"+n}(t||(n=e,l.map(function(e,t){return r(t).val()})[n]));r(l).val(""),a.redirect(i)}}),require(["uitk","jquery"],function(n,i){i(".skip-nav a[href^=\\#]:not([href=\\#])").on("click",function(e){e.preventDefault();var t=e.currentTarget.getAttribute("href");n.utils.focusElement(i(t))})}),define("gc/omnitureLogger",["jquery"],function(i){var r={activity:"LXLandingPage",aws_Homepage:"AWSHomepage",car:"CarsLandingPage",flight:"FlightsLandingPage",homepage:"Homepage",hotel:"HotelsLandingPage",package:"PackageLandingPage"},a={Homepage:"Homepage",aws_Homepage:"Homepage","page.Account.MyAccount":"UserAccountPage","page.Activities":"LXLandingPage","page.Cars":"CarsLandingPage","page.Cars.Infosite.Information":"Cars.Search","page.Domestic":"HotelsLandingPage","page.Flight-Search-Oneway":"Flights.Search","page.Flight-Search-Roundtrip.Out":"Flights.Search","page.Flight-Search.MDest":"Flights.Search","page.Flights":"FlightsLandingPage","page.Hotel-Search":"Hotels.Search","page.Hotels":"HotelsLandingPage","page.Hotels.Search":"Hotels.Search","page.Packages":"PackageLandingPage","page.Rails":"RailsLandingPage","page.car.search.list.aws":"Cars.Search","page.open-search":"OpenSearchPage"},o={"/":"Homepage","/1/en_US/all":"Homepage","/Activities":"LXLandingPage","/Cars":"CarsLandingPage","/Flights":"FlightsLandingPage","/Flights-Search":"Flights.Search","/Holidays":"PackageLandingPage","/Hotel-Search":"Hotels.Search","/Hotels":"HotelsLandingPage","/Vacation-Packages":"PackageLandingPage","/search-results":"OpenSearchPage","/trains":"RailsLandingPage"};return{getClientID:function(){var e="",t=window.location.pathname;if(!e){var n=function(){if(window.xPageId)return window.xPageId;var e=i("#pageId"),t=1===e.length?e.val():"";return!t&&window.pageName&&(t=r[window.pageName]),t||(t=window.dctk&&window.dctk.logging?window.dctk.logging.pageName:""),t||require(["pageData"],function(e){t=e.pageId}),t||""}();n&&(e=a[n])}return e||(e=o[t]),e||(e=0<t.indexOf("Travel-Guide")?"Hotel.Travel.Guide":0<t.indexOf("Hotel-Information")?"Hotel.Information":"GC-Unknown"),e||"Unknown"},evaluateDeviceType:function(){return/iPad|Transformer|ME173X|KOOF|Nook|IMM76D|Nexus 10|Nexus 7|Tablet/i.test(navigator.userAgent)||/HP Slate|PG09410|PG41200|Mediapad|Kindle|Tab|Xoom|TegraNote|SCH-I800/i.test(navigator.userAgent)?"Tablet":/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"Mobile":"Desktop"},evaluateBrowserName:function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE"):"Chrome"===n[1]&&null!=(e=t.match(/\bOPR\/(\d+)/))?"Opera":(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n[0])},sendToOmniture:function(t,n){require(["dctk/dctk"],function(e){e.trackEvent("o",t,n,n.eventString)}),require(["flexAnalytics"],function(e){(new e).trackEvent({referrerId:n.eVar28})})}}}),define("gc/errorLogging",[],function(){return{logError:function(t,n,i,r,a){var e;window.dctk&&dctk.enabled&&dctk.logging&&dctk.logging.logError?dctk.logging.logError("globalcontrols",t,{control:n,module:i,method:r,comments:a}):(require("dctk/clientLogging",function(e){e.logError("globalcontrols",t,{control:n,module:i,method:r,comments:a})}),e=t,console&&(console.error?console.error(e):console.log&&console.log("Error occurred in Wizard: "+e)))}}}),require(["uitk","gc/pageModel","jquery","gc/errorLogging"],function(e,t,n,i){try{if(t&&t.site&&1170===t.site.id&&t.user&&t.user.agent){var r=n("#hdr-packages").parent();n("#menu-bar ul:first").children().remove(),n("#menu-bar ul:first").append(r),n("ul.nav-secondary").remove()}}catch(e){i.logError(e,"wizard","gco-agent.js","main")}});var GSS_MODAL_VERSION="1.0.86";if(define("gss-modal",["uitk","gss-view-handler","gss-forms","gss-social-login","gss-social-omniture-tracker"],function(n,i,r,t,a){var e,o,s,c=r.common,l={},d=[],u={},p="https://www.facebook.com/v2.9/dialog/oauth",g="/user/handle-gss-fb-redirect",h="317210574974208",m=window.location.pathname+window.location.search,f=window.location.pathname+window.location.search;function v(){d.push("switchToSignUp"),i.transitToSignUp()}function y(){d.push("switchToSignIn"),i.transitToSignIn()}function w(e){var t=document.createElement("script");t.type="application/javascript",t.src=e,t.async=!0,document.getElementsByTagName("head")[0].appendChild(t)}function k(){var e,t,n=void 0!==window.screenLeft?window.screenLeft:screen.left,i=void 0!==window.screenTop?window.screenTop:screen.top,r=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-237.5+n,a=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-157.5+i;return window.open((e="https://"+window.location.host+g,t=window.location.host.includes("karmalab")||window.location.host.includes("localhost")?h:c.facebookAppId,p+"?client_id="+t+"&redirect_uri="+e+"&response_type=token&scope=email&display=popup"),"fb-auth-window","channelmode=yes,width=475,height=315,top="+a+", left="+r,"resizable=no,toolbar=no,menubar=no,location=no,status=no")}function S(t){$(t).attr("disabled",!0),window.tpLoginSuccess=void 0;var n=k(),i=setInterval(function(){var e;n.closed&&($(t).attr("disabled",!1),clearInterval(i),void 0!==window.tpLoginSuccess&&window.tpLoginSuccess&&(e={provider:"Facebook",referrerUrl:f,successUrl:m,modal:"modal"},function e(t,n,i){var r=t||50;n()?i&&i():setTimeout(function(){e(r,n,i)},r)}(50,function(){return"undefined"!=typeof authtk&&"undefined"!=typeof $LAB},function(){l.open&&l.close(),authtk.showConnectModal(e)})))},100)}function b(){$(r.signUp.googleSignUpDiv).removeClass("hidden"),$(r.signIn.googleSignInDiv).removeClass("hidden")}function C(){$(r.signUp.naverSignUpDiv).removeClass("hidden"),$(r.signIn.naverSignInDiv).removeClass("hidden")}function T(){A.evaluateRecaptchaModalFlag&&A.loadRecaptchaJs(u.locale,null)}var A={deferredLoaded:!1,evaluateRecaptchaModalFlag:void 0,initDomEmbedded:function(e){if(u=e,c.redirectionUrl=e.rurl,c.encodeDecodeRurl=e.encodeDecode,!l.open){var t=$("#"+r.common.mdlCntId);l=n.modal.create({content:t[0].outerHTML,modalId:r.common.modalId,background:!0,dismiss:!0,manual:"both",classes:"gss-elem-4-cols",focusOpen:"gss-interstitial-aria-msg"}),t.remove()}},init:function(e,t){l.open||(u=t,c.redirectionUrl=t.rurl,c.encodeDecodeRurl=t.encodeDecode,l=n.modal.create({content:e,modalId:r.common.modalId,background:!0,dismiss:!0,manual:"both",classes:"gss-elem-4-cols",focusOpen:"gss-interstitial-aria-msg"}))},clearForms:function(){},getUitkModal:function(){return l},openSignIn:function(){$("body").addClass("body-fixed"),void 0!==e&&n.unsubscribe("modal.appended",e),void 0!==o&&n.unsubscribe("modal.beforeClose",o),this.preSetup(),l.open(),this.setupModalEventtHandlers(),this.setupFbLoginEventtHandlers(),this.setupSocialLoginEventHandlers(),this.clearForms(),i.transitToSignIn()},openSignUp:function(){$("body").addClass("body-fixed"),void 0!==e&&n.unsubscribe("modal.appended",e),void 0!==o&&n.unsubscribe("modal.beforeClose",o),this.preSetup(),l.open(),this.clearForms(),this.setupModalEventtHandlers(),this.setupFbLoginEventtHandlers(),this.setupSocialLoginEventHandlers(),i.transitToSignUp()},preSetup:function(){o=n.subscribe("modal.beforeClose",function(e,t){if(t.options.modalId===r.common.modalId){var n=i.presentView();require(["gss-omniture-tracker"],function(e){null!==n&&($("body").removeClass("body-fixed"),"GSS-SIGNIN-VIEW"===n.toUpperCase()?(e.signIn.closeView(),e.track.resetBackgroundPageName(s)):"GSS-SIGNUP-VIEW"===n.toUpperCase()?(e.signUp.closeView(),e.track.resetBackgroundPageName(s)):"GSS-FORGOT-PASSWORD-VIEW"===n.toUpperCase()&&(e.resetPassword.closeView(),e.track.resetBackgroundPageName(s)))}),i.deactivateViews(),t.close()}}),e=n.subscribe("modal.appended",function(e,t){t.options.modalId===r.common.modalId&&("undefined"!=typeof dctk&&dctk.omtr&&(s=dctk.omtr.pageName),A.deferredLoaded||("undefined"!=typeof dctk&&dctk.ewePerformance?dctk.ewePerformance.mark("gss-modal_deferred_start_uitk_modal"):window.performance.mark("gss-modal_deferred_start_uitk_modal"),void 0===A.evaluateRecaptchaModalFlag&&(void 0!==u.evaluateRecaptchaGCFlag?(A.evaluateRecaptchaModalFlag=u.evaluateRecaptchaGCFlag,T()):"undefined"!=typeof dctk&&dctk.evaluateExperiment&&dctk.evaluateExperiment({id:14261,callback:function(e){A.evaluateRecaptchaModalFlag=!e.error&&3===e.value,T()}})),w("https://a.travel-assets.com/gss-loader/user/gss/common/authtk-gss-min.js"),w("https://a.travel-assets.com/gss-loader/user/gss/common/LAB-gss-min.js"),$.ajax({url:"/user/global-login",type:"GET",data:u,headers:{isDeferred:!0},success:function(e){var i;i=e,$("#gss-deferred-content").ready(function(){"undefined"!=typeof dctk&&dctk.ewePerformance?dctk.ewePerformance.mark("gss-modal_deferred_end_uitk_modal"):window.performance.mark("gss-modal_deferred_end_uitk_modal");var n=[],e=$.parseHTML($.trim(i),document,!0),t=$(e).filter(function(e,t){return"script"!==t.nodeName.toLowerCase()||(n.push(t),!1)});$("#gss-deferred-content").html(t),$("head").append(n),require(["gss-omniture-tracker"],function(e){e.initDeferred(d)})})},error:function(){var e;e="gss-modal-deferred-content","undefined"!=typeof dctk&&dctk.logging&&dctk.logging.logError("GSS_MODAL_ERROR",new Error(e+" not loaded due to network error. Modal won't work."),["topic=GSS","experimentId=d/a"])}})))})},setupModalEventtHandlers:function(){r.init(),$(r.signUp.gotoSignInButton).click(y),$(r.signIn.gotoSignUpButton).click(v),$(r.common.uitkModalContainer).bind("transitionend",function(){r.common.isDesktop&&i.focus()}),r.common.isDesktop&&(r.signUp.password.setAttribute("type","password"),r.signIn.password.setAttribute("type","password")),u.showLoyaltyCheckBox&&($(r.signUp.joinProgramDiv).removeClass("hidden"),u.preCheckLoyalyBox&&r.signUp.joinProgram.setAttribute("checked","true")),void 0!==u.showSignInLoyalty&&u.showSignInLoyalty&&($(r.signIn.joinProgramDiv).removeClass("hidden"),u.preCheckLoyalyBox&&r.signIn.joinProgram.setAttribute("checked","true")),void 0!==u.showGoogleSignInSignUp?u.showGoogleSignInSignUp&&b():dctk.evaluateExperiment({id:24759,callback:function(e){e.error||1!==e.value||b()}}),void 0!==u.showNaverSignInSignUp?u.showNaverSignInSignUp&&C():dctk.evaluateExperiment({id:24760,callback:function(e){e.error||1!==e.value||C()}})},setupFbLoginEventtHandlers:function(){$(r.signUp.facebookSignupButton).click(function(e){S(r.signUp.facebookSignupButton),a.signUp.facebookConnect(e)}),$(r.signIn.facebookSigninButton).click(function(e){S(r.signIn.facebookSigninButton),a.signIn.facebookConnect(e)})},setupSocialLoginEventHandlers:function(){$(r.signUp.googleSignUpButton).click(function(e){t.googleSignInSignUp(this,e),a.signUp.googleConnect(e)}),$(r.signIn.googleSignInButton).click(function(e){t.googleSignInSignUp(this,e),a.signIn.googleConnect(e)}),$(r.signUp.naverSignUpButton).click(function(e){t.naverSignInSignUp(this,e),a.signUp.naverConnect(e)}),$(r.signIn.naverSignInButton).click(function(e){t.naverSignInSignUp(this,e),a.signIn.naverConnect(e)})},loadRecaptchaJs:function(e,t){var n,i,r=(i={da_DK:"da",de_CH:"de-CH",de_DE:"de",en_GB:"en-GB",en_US:"en",en_SG:"en",en_MY:"en",en_AU:"en",en_PH:"en",id_ID:"en",zh_TW:"en",en_IE:"en",ru_RU:"en",en_CA:"en",es_AR:"es","es-ES":"es",es_MX:"es-419",fi_FI:"fi",fr_CA:"fr-CA",fr_FR:"fr",it_IT:"it",ja_JP:"ja",ko_KR:"ko",nb_NO:"no",nl_NL:"nl",nl_BE:"nl",pt_BR:"pt-BR",sv_SE:"sv",th_TH:"th",vi_VN:"vi",zh_CN:"zh-CN",zh_HK:"zh-HK"}).hasOwnProperty(n=e)?i[n]:null,a=document.createElement("script");a.type="application/javascript",a.src="https://www.google.com/recaptcha/api.js?render=explicit",a.src+=null!=r?"&hl="+r:"",a.src+=null!=t?"&onload="+t:"",a.async=!0,a.defer=!0,document.getElementsByTagName("head")[0].appendChild(a)}};return A}),define("gss-forms",function(){var e={common:{mdlCntId:"gss-modal-main-container",modalId:"gss-modal-01",activeView:null},init:function(){t.modalContainer=$("#"+t.mdlCntId)[0],t.uitkModalContainer=$("#"+t.modalId)[0],t.uitkModalBody=t.uitkModalContainer.getElementsByClassName("modal-body")[0],t.interstitialAriaMsg=$("#gss-interstitial-aria-msg")[0].value,t.facebookAppId=$("#gss-fb-app-id")[0].value,t.isMobile=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),t.isDesktop=!t.isMobile,i.container=$("#gss-signin-view")[0],i.email=$("#gss-signin-email")[0],i.password=$("#gss-signin-password")[0],i.passwordIcon=$("#gss-signin-password-icon")[0],i.keepMeSignIn=$("#gss-keep-signin-check")[0],i.submitButton=$("#gss-signin-submit")[0],i.gotoSignUpButton=$("#gss-goto-signup")[0],i.gotoForgotPasswordButton=$("#gss-go-to-forgot-password")[0],i.LookingGoogleSignInButton=$("#gss-sign-in-looking-google-sign-in-link")[0],i.facebookSigninButton=$("#gss-signin-login-facebook-button")[0],i.googleSignInButton=$("#gss-signin-login-google-button")[0],i.naverSignInButton=$("#gss-signin-login-naver-button")[0],i.captchaForm=document.forms["gss-signin-captcha"],i.googleSignInDiv=$("#googleSignInDiv")[0],i.naverSignInDiv=$("#naverSignInDiv")[0],i.socialLoginSignInError=$("#gss-social-login-signIn-error")[0],i.joinProgram=$("#gss-signin-join-program-check")[0],i.joinProgramDiv=$("#gss-signin-join-program")[0],i.joinProgram||(i.joinProgram={checked:!0}),function(){n.container=$("#gss-signup-view")[0],n.firstName=$("#gss-signup-first-name")[0],n.lastName=$("#gss-signup-last-name")[0],n.email=$("#gss-signup-email")[0],n.password=$("#gss-signup-password")[0],n.passwordIcon=$("#gss-signup-password-icon")[0],n.passwordIconButton=$("#gss-signup-password-icon-button")[0],n.joinProgram=$("#gss-join-program-check")[0],n.submitButton=$("#gss-signup-submit")[0],n.gotoSignInButton=$("#gss-goto-signin")[0],n.facebookSignupButton=$("#gss-signup-login-facebook-button")[0],n.googleSignUpButton=$("#gss-signup-login-google-button")[0],n.naverSignUpButton=$("#gss-signup-login-naver-button")[0],n.interstitial=$("#gss-signup-interstitial")[0],n.genericErrorMessage=$("#gss-signup-error-message")[0],n.duplicateEmail=$("#gss-signup-duplicate-email")[0],n.duplicateEmailConnectedToThirdParty=$("#gss-signup-email-already-connected-to-thirdparty")[0],n.signUpEmailErrorMessage=$("#signUpEmailErrorMessage")[0],n.unregisteredAccount=$("#gss-signup-unregistered-account-exists")[0],n.joinProgramDiv=$("#gss-join-program")[0],n.joinMerEmailOpt=$("#gss-marketing-email-opt-in-check")[0],n.joinMerEmailOptdefaultValue=$("#gss-marketing-email-opt-default-value")[0],n.LookingGoogleSignInButton=$("#gss-sign-up-looking-google-sign-in-link")[0],n.googleSignUpDiv=$("#googleSignUpDiv")[0],n.naverSignUpDiv=$("#naverSignUpDiv")[0],n.socialLoginSignUpError=$("#gss-social-login-signUp-error")[0],n.joinProgram||(n.joinProgram={checked:!0});null==n.joinMerEmailOpt&&(n.joinMerEmailOpt={checked:!0})}()}},t=e.common,n=e.signUp={},i=e.signIn={};return e}),define("gss-view-handler",["gss-forms"],function(e){var n="visuallyhidden",i="non-hero-img-container",r=e.common,t=e.signUp,a=e.signIn,o=!1;return{transitToSignIn:function(){this.activateView(a.container)},transitToSignUp:function(){this.activateView(t.container)},focus:function(){r.isDesktop&&o&&$(r.activeView).find("#gss-signup-title,#gss-signin-title").filter(":visible:first").focus()},deactivateViews:function(){r.activeView&&r.activeView.classList&&(r.activeView.classList.add(n),r.uitkModalContainer.classList.remove(r.activeView.id),r.activeView=null,o=!1)},activateView:function(e){var t=r.uitkModalContainer.classList;this.deactivateViews(),e&&e.classList&&(e.classList.remove(n),t.remove("gss-uitk-default"),t.add(e.id),r.activeView=e,t&&("true"===e.dataset.heroImgEnabled?t.remove(i):t.add(i)),this.focus(),o=!0)},presentView:function(){return r.activeView&&r.activeView.classList?r.activeView.id:null}}}),define("gss-social-login",["gss-forms","gss-view-handler","gss-social-omniture-tracker"],function(e,t,a){var n=e.signUp,i=e.signIn,o=e.common,r="visuallyhidden",s="serviceUnavailabilityFailure",c={googleSignInSignUp:function(t,n){$(t).attr("disabled",!0),c.removeErrorMessage(),window.socialLoginResponse=void 0;var i=c.openNewSocialAuthWindow($(t).parent(),425,450),r=setInterval(function(){if(i.closed){$(t).attr("disabled",!1),clearInterval(r);var e=c.getSocialLoginResponse();null!=e&&null!=e&&"true"==e.isSuccess?(c.omnitureForGoogleSuccessScenario(e.modal,n),c.handleSuccessScenario()):null!=e&&null!=e&&"false"==e.isSuccess?(c.omnitureForGoogleErrorScenario(e.modal.errorCode,n),c.showErrorMessage($(t).parent(),e.modal.errorMessage)):a.common.googleResponseError(n)}},100)},naverSignInSignUp:function(t,n){$(t).attr("disabled",!0),c.removeErrorMessage(),window.socialLoginResponse=void 0;var i=c.openNewSocialAuthWindow($(t).parent(),425,500),r=setInterval(function(){if(i.closed){$(t).attr("disabled",!1),clearInterval(r);var e=c.getSocialLoginResponse();null!=e&&null!=e&&"true"==e.isSuccess?(c.omnitureForNaverSuccessScenario(e.modal,n),c.handleSuccessScenario()):null!=e&&null!=e&&"false"==e.isSuccess?(c.omnitureForNaverErrorScenario(e.modal.errorCode,n),c.showErrorMessage($(t).parent(),e.modal.errorMessage)):a.common.naverResponseError(n)}},100)},openNewSocialAuthWindow:function(e,t,n){var i=null!=window.screenLeft?window.screenLeft:screen.left,r=null!=window.screenTop?window.screenTop:screen.top,a=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-t/2+i,o=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-n/2+r,s=window.open("",e.attr("target"),"channelmode=yes,width="+t+",height="+n+",top="+o+", left="+a,"resizable=no,toolbar=no,menubar=no,location=no,status=no");return e.submit(),s},getSocialLoginResponse:function(){if("undefined"!=typeof Storage){var e=localStorage.getItem("socialLoginResponse");return localStorage.removeItem("socialLoginResponse"),JSON.parse(e)}return JSON.parse(window.socialLoginResponse)},showErrorMessage:function(e,t){var n=$(e).parent().parent().find(".gss-social-login-error-message");n.find("span")[1].innerHTML=t,n.removeClass(r)},removeErrorMessage:function(){c.addVisuallyHidden(i.genericErrorMessage),c.addVisuallyHidden(i.incorrectEmailOrPassword),c.addVisuallyHidden(i.authenticationFailed),c.addVisuallyHidden(i.systemResetPassword),c.addVisuallyHidden(i.socialLoginSignInError),c.addVisuallyHidden(n.socialLoginSignUpError),c.addVisuallyHidden(n.genericErrorMessage),c.addVisuallyHidden(n.genericErrorMessage),c.addVisuallyHidden(n.unregisteredAccount),c.addVisuallyHidden(n.duplicateEmail),c.addVisuallyHidden(n.authenticationFailed)},addVisuallyHidden:function(e){null!=e&&e.classList.add(r)},omnitureForGoogleSuccessScenario:function(e,t){"true"==e.isNewUser?a.signUp.googleSuccess(t):"true"==e.isAccountLinkedWithExisting?a.signUp.googleAccountLink(t):a.signIn.googleSuccess(t)},omnitureForNaverSuccessScenario:function(e,t){"true"==e.isNewUser?a.signUp.naverSuccess(t):"true"==e.isAccountLinkedWithExisting?a.signUp.naverAccountLink(t):a.signIn.naverSuccess(t)},omnitureForGoogleErrorScenario:function(e,t){e===s?a.common.googleConnectionError(t):a.common.googleServiceError(t,e)},omnitureForNaverErrorScenario:function(e,t){e===s&&a.common.naverConnectionError(t)},handleSuccessScenario:function(){t.startInterstitial(),c.uurl(),t.refreshUserSession()},uurl:function(e){if(null!=e)return e;var t=window.location.pathname,n=window.location.search,i=t+n,r=(/uurl=([^&]+)/.exec(n)||[])[1];if(r){var a=decodeURIComponent(r);return-1===a.indexOf("qscr=reds&rurl=")&&-1===a.indexOf("qscr=redr&rurl=")&&-1===a.indexOf("e3id=redr&amprurl=")&&-1===a.indexOf("e3id=reds&amprurl=")||(a=a.split("=").slice(2).join("")),a=encodeURIComponent(a),o.redirectionUrl=a,r}return i?o.redirectionUrl=i:void 0}};return c}),define("gss-social-omniture-tracker",["dctk/dctk"],function(t){function i(e){null!=typeof t&&null!=t&&t.onReady(function(){t.trackAction(e.id,e.element,e.omnitureVariables,e.event)})}var r={identity:{signUp:{pageName:"page.Account.GSS.CreateAccount",facebookConnect:"GSS.CreateAccount.FB.Connect",googleConnect:"GSS.CreateAccount.Google.Connect",naverConnect:"GSS.CreateAccount.Naver.Connect",googleCreated:"GSS.Account.Google.Created",naverCreated:"GSS.Account.Naver.Created",googleAccountLink:"GSS.Account.Google.LinkAccts.Success",naverAccountLink:"GSS.Account.Naver.LinkAccts.Success",loginState:{google:"authenticated | full | SOCIAL_LOGIN_GOOGLE",naver:"authenticated | full | SOCIAL_LOGIN_NAVER"},successEvent:"event25, event26"},signIn:{pageName:"page.Account.GSS.SignIn",facebookConnect:"GSS.Login.FB.Connect",googleConnect:"GSS.Login.Google.Connect",naverConnect:"GSS.Login.Naver.Connect",googlelogIn:"GSS.Account.Google.LogIn.Success",naverlogIn:"GSS.Account.Naver.LogIn.Success",loginState:{google:"authenticated | full | SOCIAL_LOGIN_GOOGLE",naver:"authenticated | full | SOCIAL_LOGIN_NAVER"},successEvent:"event26"},common:{pageName:"page.Account.GSS.Social.SignInSignUp",googleConnectError:"GSS.Account.Google.ConnectionError",naverConnectError:"GSS.Account.Naver.ConnectionError",googleConnectErrorProp36:"GSS.Account.Login.Google.ConnectionError",naverConnectErrorProp36:"GSS.Account.Login.Naver.ConnectionError",googleServiceError:"GSS.Account.Google.Error",naverServiceError:"GSS.Account.Naver.Error",googleServiceErrorProp36:"GSS.Account.Login.Google.",naverServiceErrorProp36:"GSS.Account.Login.Naver.",googleNoResponse:"GSS.Account.Google.NoResponse",naverNoResponse:"GSS.Account.Naver.NoResponse"}},signUp:{facebookConnect:function(e){var t=r.identity.signUp.facebookConnect;i({id:t,element:e,omnitureVariables:{pageName:r.identity.signUp.pageName,prop16:t,eVar28:t}})},googleConnect:function(e){var t=r.identity.signUp.googleConnect;i({id:t,element:e,omnitureVariables:{pageName:r.identity.signUp.pageName,prop16:t,eVar28:t}})},googleSuccess:function(e){var t=r.identity.signUp.googleCreated;i({id:t,element:e,omnitureVariables:{pageName:r.identity.signUp.pageName,prop16:t,eVar28:t,eVar55:r.identity.signUp.loginState.google},event:r.identity.signUp.successEvent})},googleAccountLink:function(e){var t=r.identity.signUp.googleAccountLink;i({id:t,element:e,omnitureVariables:{pageName:r.identity.signUp.pageName,prop16:t,eVar28:t,eVar55:r.identity.signUp.loginState.google},event:r.identity.signUp.successEvent})},naverConnect:function(e){var t=r.identity.signUp.naverConnect;i({id:t,element:e,omnitureVariables:{pageName:r.identity.signUp.pageName,prop16:t,eVar28:t}})},naverSuccess:function(e){var t=r.identity.signUp.naverCreated;i({id:t,element:e,omnitureVariables:{pageName:r.identity.signUp.pageName,prop16:t,eVar28:t,eVar55:r.identity.signUp.loginState.naver},event:r.identity.signUp.successEvent})},naverAccountLink:function(e){var t=r.identity.signUp.naverAccountLink;i({id:t,element:e,omnitureVariables:{pageName:r.identity.signUp.pageName,prop16:t,eVar28:t,eVar55:r.identity.signUp.loginState.naver},event:r.identity.signUp.successEvent})}},signIn:{facebookConnect:function(e){var t=r.identity.signIn.facebookConnect;i({id:t,element:e,omnitureVariables:{pageName:r.identity.signIn.pageName,prop16:t,eVar28:t}})},googleConnect:function(e){var t=r.identity.signIn.googleConnect;i({id:t,element:e,omnitureVariables:{pageName:r.identity.signIn.pageName,prop16:t,eVar28:t}})},googleSuccess:function(e){var t=r.identity.signIn.googlelogIn;i({id:t,element:e,omnitureVariables:{pageName:r.identity.signIn.pageName,prop16:t,eVar28:t,eVar55:r.identity.signIn.loginState.google},event:r.identity.signIn.successEvent})},naverConnect:function(e){var t=r.identity.signIn.naverConnect;i({id:t,element:e,omnitureVariables:{pageName:r.identity.signIn.pageName,prop16:t,eVar28:t}})},naverSuccess:function(e){var t=r.identity.signIn.naverlogIn;i({id:t,element:e,omnitureVariables:{pageName:r.identity.signIn.pageName,prop16:t,eVar28:t,eVar55:r.identity.signIn.loginState.naver},event:r.identity.signIn.successEvent})}},common:{googleConnectionError:function(e){var t=r.identity.common.googleConnectError;i({id:t,element:e,omnitureVariables:{pageName:r.identity.common.pageName,prop16:t,eVar28:t,prop36:r.identity.common.googleConnectErrorProp36}})},googleResponseError:function(e){var t=r.identity.common.googleNoResponse;i({id:t,element:e,omnitureVariables:{pageName:r.identity.common.pageName,prop16:t,eVar28:t}})},googleServiceError:function(e,t){var n=r.identity.common.googleServiceError;i({id:n,element:e,omnitureVariables:{pageName:r.identity.common.pageName,prop16:n,eVar28:n,prop36:r.identity.common.googleServiceErrorProp36+t}})},naverConnectionError:function(e){var t=r.identity.common.naverConnectError;i({id:t,element:e,omnitureVariables:{pageName:r.identity.common.pageName,prop16:t,eVar28:t,prop36:r.identity.common.naverConnectErrorProp36}})},naverResponseError:function(e){var t=r.identity.common.naverNoResponse;i({id:t,element:e,omnitureVariables:{pageName:r.identity.common.pageName,prop16:t,eVar28:t}})},naverServiceError:function(e,t){var n=r.identity.common.naverServiceError;i({id:n,element:e,omnitureVariables:{pageName:r.identity.common.pageName,prop16:n,eVar28:n,prop36:r.identity.common.naverServiceErrorProp36+t}})}}};return r}),require(["gc/abTest","gc/pageModel","jquery"],function(e,t,n){var i=e.get(16316,null,!0),r=n(".cols-row.secondary-branding-container");0<n(r).length&&1===i.value&&n(r).hide()}),require(["gc/abTest"],function(e){e.get(25792,null,!0)}),require(["gc/abTest","jquery"],function(e,t){var n=e.get(25896,null,!0),i=t("#all-in-home-header-link");1===n.value&&0<i.length&&i.hide()}),require(["gc/abTest","jquery"],function(e,t){var n=e.get(26565,null,!0),i=e.get(27370,null,!0),r=t("#all-in-discover-header-link");(1===n.value||1===i.value)&&0<r.length&&r.hide()}),require(["gc/abTest","gc/pageModel","jquery"],function(e,t,n){var i=!0===t.user.topCustomer,r=70201==t.site.id;r&&i&&1==e.evaluateAndLog(27964)&&(window.innerWidth<=725?(n("#topCustomer-id-mobile").css("display","block"),n("#topCustomer-icon-id-mobile").show(),n("#topCustomershopMenu-id").show()):(n("#topCustomer-icon-id").show(),n("#topCustomer-li-id").show(),n("#topCustomer-id").css("display","block"))),r||(n("#topCustomer-li-id").hide(),n("#topCustomershopMenu-id").hide(),n(".topCustomerClass").hide(),n(".topCustomer-mobile").hide())}),function(e,t){"function"==typeof define&&define.amd?define("oip",function(){return t(document,window)}):"object"==typeof exports?module.exports=t:e.oip=t(document,window)}(this,function(e,t){var a,o,s,c,l,d,u,p=document.getElementsByTagName("meta");function g(){return void 0!==a&&void 0!==o&&void 0!==s&&void 0!==c}function h(t,n){"undefined"!=typeof require&&require(["dctk/dctk"],function(e){e&&e.logging&&e.logging.logError&&e.logging.logError(t,n)})}function m(e){var t=new RegExp("[; ]"+e+"=([^\\s;]*)"),n=(" "+d.cookie).match(t);if(e&&n)return unescape(n[1])}return function e(t,n){var i,r;return d=void 0!==t?t:document,u=void 0!==n?n:window,function(){var e;for(e=0;e<p.length;e++)"oip.set"===p[e].getAttribute("name")&&(a="true"===p[e].getAttribute("content")),"oip.yes"===p[e].getAttribute("name")&&(o="true"===p[e].getAttribute("content")),"oip.no"===p[e].getAttribute("name")&&(s="true"===p[e].getAttribute("content")),"oip.canTrack"===p[e].getAttribute("name")&&(c="true"===p[e].getAttribute("content"));l="meta"}(),g()||u.oip&&u.oip.gdpr&&(a=u.oip.gdpr.set,o=u.oip.gdpr.yes,s=u.oip.gdpr.no,c=u.oip.canTrack,l="globals"),g()||(r=(i=m("OIP"))&&0<=i.indexOf("ab.gdpr|0"),void 0===i||r?(s=o=a=!1,c=!("boolean"==typeof window["com.expedia.www.tracking.default"]&&!window["com.expedia.www.tracking.default"])):0===i.indexOf("gdpr|1")?c=!(s=!(o=a=!0)):0===i.indexOf("gdpr|0")?c=!(s=!(o=!(a=!0))):0===i.indexOf("gdpr|-1")&&(c=s=o=a=!1),l="cookie",h("OipFallbackToCookie")),g()||(c=void 0===m("OIP")?!(s=!(o=!(a=!1))):s=o=a=!1,l="none",h("oipPermissionsReadError",{canTrack:c})),{set:a,yes:o,no:s,source:l,canTrack:c,init:e}}(e,t)}),define("gc/abTestRegistryOverride",function(){return[]}),-1<window.location.hostname.indexOf("travelocity"))var channelTrackingAlreadyLoaded=!0;if(void 0===channelTrackingAlreadyLoaded){var channelTrackingAlreadyLoaded=!0,emptyAsppCookie="v.1,0|||||||||||||",SEO_SOURCES={"www.google.":[!0,null],"search.yahoo.com":[!0,null],"wrs.yahoo.com":[!0,null],"rc12.overture.com":[!0,!1],"bing.com/search":[!0,null],"terra.es":[!0,null],"ya.com":[!0,null],"ricerca.virgilio.it":[!0,null],"iltrovatore.it":[!0,null],"213.215.201.230":[!0,null],"orange.fr":[!0,null],"lycos.":[!0,null],"ask.com":[!0,null],"search.aol.":[!0,null],"askjeeves.":[!0,null],"myway.com":[!0,null],altavista:[!0,null],baidu:[!0,null],"daum.net":[!0,null],"mywebsearch.com":[!0,null],"naver.com":[!0,null],"suche.web.de":[!0,null],"mvirgilio.it":[!0,null],yandex:[!0,null]},CHANNEL_TYPES="(AFF|OLA|EML|MDP|SEM|OFF|MSN|ICM|SEO|AFM)";if("undefined"!=typeof qUnitTestRun&&null!=qUnitTestRun)var stub=sinon.stub(this,"getDomainLegacy",function(){return["://www.testDomain.com","www.","testDomain.com"]});var tracking_array_contains=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},ClearMediaCookieIfItIsTickSeparated=function(){if(-1==document.cookie.indexOf("p1=")){var e="MediaCookie=",t=document.cookie.indexOf(e);if(0<=t){var n=t+e.length+1,i=document.cookie.indexOf(";",n);-1==i&&(i=document.cookie.length);var r=n+1;if(r<i)if("`"==document.cookie.substring(n,r)){var a=new Date((new Date).setTime((new Date).getTime())),o=getDomainLegacy(location.href);""<o&&(o=o[2]?o[2]:"",document.cookie=e+"; expires="+a.toUTCString()+"; domain=."+o+"; path=/")}}}},GetChannelSpecificCode=function(e,t){var n=/(?:cuid|tduid)=([^&]*)/i,i=t;return n.test(location.search)&&(i=n.exec(location.search)[1]),i},getChannelSpecificConversionID=function(e){var t=/(?:mdpdtl|oladtl|afflid|icmdtl)=([^&]*)/i;return t.test(location.search)?t.exec(location.search)[1]:e},IsLockedCode=function(e,t,n,i){return t&&""!=t&&"wpk"==t.slice(0,3)&&"wpk"!=i.slice(0,3)},GetASPPersistentCookie=function(){var e=document.cookie.indexOf("aspp="),t=e+5;if(!e&&"aspp"!=document.cookie.substring(0,4))return null;if(-1==e)return null;var n=document.cookie.indexOf(";",t);return-1==n&&(n=document.cookie.length),document.cookie.substring(t,n)},SetASPPersistentCookie=function(e){ExpireASPPCookieInParentDomain();var t=new Date((new Date).setTime((new Date).getTime()+15768e7)),n=getDomainLegacy(location.href);""<n?(n=n[2]?n[2]:"",document.cookie="aspp="+e+"; expires="+t.toUTCString()+"; domain=."+n+"; path=/"):document.cookie="aspp="+e+"; expires="+t.toUTCString()+"; path=/",null!=n&&""!=n||("undefined"!=typeof dctk?dctk.loggingAdapter.logMessage("channelTrackingCookieDomainEmpty",["url="+encodeURIComponent(location.href),"cookies="+encodeURIComponent(document.cookie)]):"undefined"!=typeof expClientLogging&&expClientLogging.logMessage("channelTrackingCookieDomainEmpty",["url="+encodeURIComponent(location.href),"cookies="+encodeURIComponent(document.cookie)]))},getCookie=function(e){var t=RegExp("(?:^| |;)"+e+"=([^ ;]*)","i").exec(document.cookie);return null==t||t.length<=1?null:t[1]},setAspCookie=function(e,t){if(null!=t&&null!=e){var n=t?"aspp":"asps",i=getDomain(location.href),r=t?new Date((new Date).setTime((new Date).getTime()+15768e7)):null;t&&ExpireASPPCookieInParentDomain();var a=n+"="+e+"; ";null!=r&&(a+="expires="+r.toUTCString()+"; "),""<i&&"localhost"!=i&&(a+="domain=."+i+"; "),a+="path=/",document.cookie=a,null!=i&&""!=i||("undefined"!=typeof dctk?dctk.loggingAdapter.logMessage("channelTrackingCookieDomainEmpty",["url="+encodeURIComponent(location.href),"cookies="+encodeURIComponent(document.cookie)]):"undefined"!=typeof expClientLogging&&expClientLogging.logMessage("channelTrackingCookieDomainEmpty",["url="+encodeURIComponent(location.href),"cookies="+encodeURIComponent(document.cookie)]))}},ExpireASPPCookieInParentDomain=function(){var e=new Date((new Date).setTime((new Date).getTime()-15768e7)),t=getDomainLegacy(location.href);""<(t=t[2]?t[2]:"")&&(document.cookie="aspp=; expires="+e.toUTCString()+"; path=/")},GetCookieValue=function(e,t,n){null==n&&(n=","),e+="=";var i=document.cookie.indexOf(e),r=i+e.length;if(!i&&e!=document.cookie.substring(0,e.length))return"";if(-1==i)return"";var a=document.cookie.indexOf(";",r);-1==a&&(a=document.cookie.length);var o=document.cookie.substring(r,a).split(n);return null!=o[t]?o[t]:null},GetP1CookieTpid=function(){var e=document.cookie.indexOf("p1="),t=e+"p1=".length;if(-1==e)return GetCookieValue("tpid",1);var n=document.cookie.indexOf(";",t);-1==n&&(n=document.cookie.length);for(var i=document.cookie.substring(t,n).split("`"),r=0;r<i.length;r++)if(-1!=i[r].indexOf("tpid"))return i[r].split(",")[1]},isValidASPPCookie=function(e){return!!/v\..*\|.*\|.*\|.*\|.*\|.*\|.*\|.*\|.*\|.*\|.*\|.*/i.exec(e)},captureZanpid=function(e){var t=getZanpids(e),n=getCookie("asps");if(!(t.length<1)){if(!isValidAspsCookie(n))return n="0||||||0|"+t.toString(),void setAspCookie(n,!1);var i=n.split("|");i[7]=t.toString(),n="";for(var r=0;r<i.length;r++)n+=i[r]+"|";setAspCookie(n.substring(0,n.length-1),!1)}},getZanpids=function(e){for(var t,n=/zanpid=([^&]*)/gi,i=[];t=n.exec(e);)1<t.length&&""!=t[1]&&i.push(t[1]);return i},isValidAspsCookie=function(e){return null!=e&&""<e&&/.*\|.*\|.*\|.*\|.*\|.*\|.*\|.*/i.test(e)},getDomainLegacy=function(e){return e.match(/:\/\/(www\.)?([^\/:]+)/)},getDomain=function(e){var t=null!=e?e.match(/:\/\/(?:www\.)?([^\/:]+)/):"";return null==t||t.length<=1?"":t[1]},checkIfEmailInString=function(e){return/(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/.test(e)},getValueOfCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1);if(-1!=(r=r.replace(" ","")).indexOf(t))return r.substring(t.length,r.length)}return""},deleteCookie=function(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){for(var i=t[n];" "==i.charAt(0);)i=i.substring(1);i=i.replace(" ","");for(var r=0;r<e.length;r++)if(-1!=i.indexOf(e[r])&&300<i.length){var a=new Date((new Date).setTime((new Date).getTime()-15768e7)),o=getDomainLegacy(location.href);return o=o[2]?o[2]:"",void(document.cookie=""<o?i.split("=")[0]+"= ;expires="+a.toUTCString()+"; domain=."+o+"; path=/":i.split("=")[0]+"= ;expires="+a.toUTCString()+"; path=/")}}};ClearMediaCookieIfItIsTickSeparated();var tpid=GetP1CookieTpid(),eapid=GetCookieValue("iEAPID",0),ChannelType="",ChannelID="",ASPPersistentCookie="";""<GetASPPersistentCookie()&&isValidASPPCookie(GetASPPersistentCookie())||SetASPPersistentCookie("v.1,0|||||||||||||");var previousChannelID=GetCookieValue("aspp",1,"|"),previousChannelType=GetCookieValue("aspp",10,"|"),referrerAddress=document.referrer;if(""!=referrerAddress&&previousChannelID&&""!=previousChannelID&&"wpk"!=previousChannelID.slice(0,3).toLowerCase()&&(20==tpid||previousChannelType&&""!=previousChannelType&&"aff"!=previousChannelType.toLowerCase())){var clearSeocid=!1,clearCookie=!1;for(var site in SEO_SOURCES)-1<referrerAddress.toLowerCase().indexOf(site)&&(clearSeocid=SEO_SOURCES[site][0],clearCookie=null==SEO_SOURCES[site][1]?-1==referrerAddress.toLowerCase().indexOf("semcid"):SEO_SOURCES[site][1]);if(clearCookie&&SetASPPersistentCookie("v.1,0|||||||||||||"),clearSeocid){var urlAndQueryAttributes=window.location.toString().split("?");if(1<urlAndQueryAttributes.length){for(var url=urlAndQueryAttributes[0],queryAttributes=urlAndQueryAttributes[1].split("&"),relocate=!1,index=0;index<queryAttributes.length;index++)-1==queryAttributes[index].toLowerCase().indexOf("seocid")?(url+=0==index?"?":"&",url+=queryAttributes[index]):relocate=!0;1==relocate&&(window.location=url)}}}!function(){var e=new RegExp(CHANNEL_TYPES+"cid=([^&]*)","i"),t=e.exec(window.location.search);if(t||(t=e.exec(window.location.hash)),t||(t=e.exec(document.referrer)),t&&(ChannelType=t[1].toUpperCase(),""!==(ChannelID=escape(t[2]))&&(""<!(ASPPersistentCookie=GetASPPersistentCookie())&&(SetASPPersistentCookie(emptyAsppCookie),ASPPersistentCookie=GetASPPersistentCookie()),!IsLockedCode(previousChannelType,previousChannelID,ChannelType,ChannelID)))){var n=new Date((new Date).setTime((new Date).getTime()+2592e6)),i=n.getFullYear().toString(),r=(n.getMonth()+1).toString();r.length<2&&(r="0"+r);var a=n.getDate().toString();a.length<2&&(a="0"+a);var o=i+r+a,s=ASPPersistentCookie.split("|");s[1]=ChannelID,s[10]=ChannelType,s[11]=o,s[12]=GetChannelSpecificCode(ChannelID,s[12]),s[13]=getChannelSpecificConversionID(s[13]),ASPPersistentCookie="";for(var c=0;c<s.length;c++)ASPPersistentCookie+=s[c]+"|";ASPPersistentCookie=ASPPersistentCookie.substring(0,ASPPersistentCookie.length-1),checkIfEmailInString(ASPPersistentCookie)&&(ASPPersistentCookie=emptyAsppCookie),SetASPPersistentCookie(ASPPersistentCookie)}var l=getValueOfCookie("aspp");if(checkIfEmailInString(l)&&SetASPPersistentCookie(l=emptyAsppCookie),null!=l&&0!=l.length&&14<l.split("|").length){var d=l.substring(0,l.indexOf(l.split("|")[14])-1);SetASPPersistentCookie(d)}deleteCookie(["_tq_ref","mvthistory"]),-1<window.location.search.search(/zanpid/i)&&captureZanpid(window.location.search)}(),-1<location.search.indexOf("cntrkrdebug")&&window.console&&window.console.log&&console.log("Previous Channel Type: "+previousChannelType+"\n Previous Channel ID: "+previousChannelID+"\n Current Channel Type: "+ChannelType+"\n Current Channel ID: "+ChannelID+"\n ASPP Cookie Value: "+getCookie("aspp")+"\n ASPS Cookie Value: "+getCookie("asps"))}require(["jquery","gc/abTest","gc/pageModel"],function(e,a,o){-1===navigator.userAgent.indexOf("app.webview")&&e(document).ready(function(){document.getElementById("mad-footer-container")&&(o.site.id<74||10122006===o.site.id||1==a.get(16064,null,!0).value)&&function(){var e=document.createElement("script"),t="desktop";Modernizr.appleios?t="iOS":Modernizr.android&&(t="Android");var n=document.getElementById("pageId"),i=n&&n.value?n.value:"unknown",r=["/mad-service/globalControls/gcFooter?containerId=mad-footer-container"];r.push("&siteid="),r.push(o.site.id),r.push("&locale="),r.push(o.site.locale),r.push("&pageid="),r.push(i),r.push("&pageName=gc.footer"),r.push("&os="),r.push(t),r.push("&brand="),r.push(o.site.brandName),r.push("&redesign="),r.push(a.get(25593,null,!0).value),e.setAttribute("src",r.join("")),e.setAttribute("async",!0),e.setAttribute("defer",!0),document.body.appendChild(e)}()})}),require(["gc/abTest","jquery","gc/pageModel"],function(e,t,n){try{e.get(25687,null,!0);1===e.get(16206,null,!0).value&&-1!==[2,3].indexOf(e.get(16125,null,!0).value)&&(n.user.loyalty&&n.user.loyalty.tier||(t("#rewards-header").parent().hide(),null!=t('#brand-links-links > li:contains("Rewards")')&&t('#brand-links-links > li:contains("Rewards")').hide(),null!=t('#vínculos-de-expedia-links > li:contains("Expedia+")')&&t('#vínculos-de-expedia-links > li:contains("Expedia+")').hide(),null!=t('#featured-hotel > .links-list > .cf > li:contains("VIP Access")')&&t('#featured-hotel > .links-list > .cf > li:contains("VIP Access")').hide(),t("#partner-services-links > li:nth-child(7)").hide(),t('#expedia-links > li:contains("Rewards")').hide()))}catch(e){console.log("error processing loyalty holdout "+e.message)}});